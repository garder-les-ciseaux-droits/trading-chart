(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function En(i,t){const e=new Set(i.split(","));return s=>e.has(s)}const Y={},ze=[],yt=()=>{},ec=()=>!1,Xi=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Ln=i=>i.startsWith("onUpdate:"),ot=Object.assign,On=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},ic=Object.prototype.hasOwnProperty,j=(i,t)=>ic.call(i,t),F=Array.isArray,Re=i=>Yi(i)==="[object Map]",oh=i=>Yi(i)==="[object Set]",I=i=>typeof i=="function",st=i=>typeof i=="string",ne=i=>typeof i=="symbol",Q=i=>i!==null&&typeof i=="object",hh=i=>(Q(i)||I(i))&&I(i.then)&&I(i.catch),lh=Object.prototype.toString,Yi=i=>lh.call(i),sc=i=>Yi(i).slice(8,-1),ch=i=>Yi(i)==="[object Object]",Tn=i=>st(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Ge=En(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qi=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},nc=/-(\w)/g,Ne=Qi(i=>i.replace(nc,(t,e)=>e?e.toUpperCase():"")),rc=/\B([A-Z])/g,$e=Qi(i=>i.replace(rc,"-$1").toLowerCase()),ah=Qi(i=>i.charAt(0).toUpperCase()+i.slice(1)),vs=Qi(i=>i?`on${ah(i)}`:""),we=(i,t)=>!Object.is(i,t),ws=(i,...t)=>{for(let e=0;e<i.length;e++)i[e](...t)},uh=(i,t,e,s=!1)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,writable:s,value:e})},oc=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let vr;const fh=()=>vr||(vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zn(i){if(F(i)){const t={};for(let e=0;e<i.length;e++){const s=i[e],n=st(s)?ac(s):zn(s);if(n)for(const r in n)t[r]=n[r]}return t}else if(st(i)||Q(i))return i}const hc=/;(?![^(]*\))/g,lc=/:([^]+)/,cc=/\/\*[^]*?\*\//g;function ac(i){const t={};return i.replace(cc,"").split(hc).forEach(e=>{if(e){const s=e.split(lc);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Rn(i){let t="";if(st(i))t=i;else if(F(i))for(let e=0;e<i.length;e++){const s=Rn(i[e]);s&&(t+=s+" ")}else if(Q(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const uc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fc=En(uc);function dh(i){return!!i||i===""}const ph=i=>!!(i&&i.__v_isRef===!0),mh=i=>st(i)?i:i==null?"":F(i)||Q(i)&&(i.toString===lh||!I(i.toString))?ph(i)?mh(i.value):JSON.stringify(i,gh,2):String(i),gh=(i,t)=>ph(t)?gh(i,t.value):Re(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,n],r)=>(e[ys(s,r)+" =>"]=n,e),{})}:oh(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>ys(e))}:ne(t)?ys(t):Q(t)&&!F(t)&&!ch(t)?String(t):t,ys=(i,t="")=>{var e;return ne(i)?`Symbol(${(e=i.description)!=null?e:t})`:i};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mt;class dc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mt,!t&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=Mt;try{return Mt=this,t()}finally{Mt=e}}}on(){Mt=this}off(){Mt=this.parent}stop(t){if(this._active){let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function pc(i,t=Mt){t&&t.active&&t.effects.push(i)}function mc(){return Mt}let pe;class kn{constructor(t,e,s,n){this.fn=t,this.trigger=e,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,pc(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,re();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(gc(e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),oe()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ee,e=pe;try{return ee=!0,pe=this,this._runnings++,wr(this),this.fn()}finally{yr(this),this._runnings--,pe=e,ee=t}}stop(){this.active&&(wr(this),yr(this),this.onStop&&this.onStop(),this.active=!1)}}function gc(i){return i.value}function wr(i){i._trackId++,i._depsLength=0}function yr(i){if(i.deps.length>i._depsLength){for(let t=i._depsLength;t<i.deps.length;t++)bh(i.deps[t],i);i.deps.length=i._depsLength}}function bh(i,t){const e=i.get(t);e!==void 0&&t._trackId!==e&&(i.delete(t),i.size===0&&i.cleanup())}let ee=!0,tn=0;const vh=[];function re(){vh.push(ee),ee=!1}function oe(){const i=vh.pop();ee=i===void 0?!0:i}function Pn(){tn++}function Nn(){for(tn--;!tn&&en.length;)en.shift()()}function wh(i,t,e){if(t.get(i)!==i._trackId){t.set(i,i._trackId);const s=i.deps[i._depsLength];s!==t?(s&&bh(s,i),i.deps[i._depsLength++]=t):i._depsLength++}}const en=[];function yh(i,t,e){Pn();for(const s of i.keys()){let n;s._dirtyLevel<t&&(n??(n=i.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(n??(n=i.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&en.push(s.scheduler)))}Nn()}const _h=(i,t)=>{const e=new Map;return e.cleanup=i,e.computed=t,e},sn=new WeakMap,me=Symbol(""),nn=Symbol("");function mt(i,t,e){if(ee&&pe){let s=sn.get(i);s||sn.set(i,s=new Map);let n=s.get(e);n||s.set(e,n=_h(()=>s.delete(e))),wh(pe,n)}}function Ht(i,t,e,s,n,r){const o=sn.get(i);if(!o)return;let h=[];if(t==="clear")h=[...o.values()];else if(e==="length"&&F(i)){const l=Number(s);o.forEach((c,a)=>{(a==="length"||!ne(a)&&a>=l)&&h.push(c)})}else switch(e!==void 0&&h.push(o.get(e)),t){case"add":F(i)?Tn(e)&&h.push(o.get("length")):(h.push(o.get(me)),Re(i)&&h.push(o.get(nn)));break;case"delete":F(i)||(h.push(o.get(me)),Re(i)&&h.push(o.get(nn)));break;case"set":Re(i)&&h.push(o.get(me));break}Pn();for(const l of h)l&&yh(l,4);Nn()}const bc=En("__proto__,__v_isRef,__isVue"),Sh=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(ne)),_r=vc();function vc(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const s=G(this);for(let r=0,o=this.length;r<o;r++)mt(s,"get",r+"");const n=s[t](...e);return n===-1||n===!1?s[t](...e.map(G)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){re(),Pn();const s=G(this)[t].apply(this,e);return Nn(),oe(),s}}),i}function wc(i){ne(i)||(i=String(i));const t=G(this);return mt(t,"has",i),t.hasOwnProperty(i)}class Ch{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){const n=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!n;if(e==="__v_isReadonly")return n;if(e==="__v_isShallow")return r;if(e==="__v_raw")return s===(n?r?kc:Lh:r?Eh:Mh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=F(t);if(!n){if(o&&j(_r,e))return Reflect.get(_r,e,s);if(e==="hasOwnProperty")return wc}const h=Reflect.get(t,e,s);return(ne(e)?Sh.has(e):bc(e))||(n||mt(t,"get",e),r)?h:bt(h)?o&&Tn(e)?h:h.value:Q(h)?n?Oh(h):Fn(h):h}}class xh extends Ch{constructor(t=!1){super(!1,t)}set(t,e,s,n){let r=t[e];if(!this._isShallow){const l=Wi(r);if(!rn(s)&&!Wi(s)&&(r=G(r),s=G(s)),!F(t)&&bt(r)&&!bt(s))return l?!1:(r.value=s,!0)}const o=F(t)&&Tn(e)?Number(e)<t.length:j(t,e),h=Reflect.set(t,e,s,n);return t===G(n)&&(o?we(s,r)&&Ht(t,"set",e,s):Ht(t,"add",e,s)),h}deleteProperty(t,e){const s=j(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&s&&Ht(t,"delete",e,void 0),n}has(t,e){const s=Reflect.has(t,e);return(!ne(e)||!Sh.has(e))&&mt(t,"has",e),s}ownKeys(t){return mt(t,"iterate",F(t)?"length":me),Reflect.ownKeys(t)}}class yc extends Ch{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const _c=new xh,Sc=new yc,Cc=new xh(!0);const An=i=>i,ts=i=>Reflect.getPrototypeOf(i);function vi(i,t,e=!1,s=!1){i=i.__v_raw;const n=G(i),r=G(t);e||(we(t,r)&&mt(n,"get",t),mt(n,"get",r));const{has:o}=ts(n),h=s?An:e?In:Bn;if(o.call(n,t))return h(i.get(t));if(o.call(n,r))return h(i.get(r));i!==n&&i.get(t)}function wi(i,t=!1){const e=this.__v_raw,s=G(e),n=G(i);return t||(we(i,n)&&mt(s,"has",i),mt(s,"has",n)),i===n?e.has(i):e.has(i)||e.has(n)}function yi(i,t=!1){return i=i.__v_raw,!t&&mt(G(i),"iterate",me),Reflect.get(i,"size",i)}function Sr(i){i=G(i);const t=G(this);return ts(t).has.call(t,i)||(t.add(i),Ht(t,"add",i,i)),this}function Cr(i,t){t=G(t);const e=G(this),{has:s,get:n}=ts(e);let r=s.call(e,i);r||(i=G(i),r=s.call(e,i));const o=n.call(e,i);return e.set(i,t),r?we(t,o)&&Ht(e,"set",i,t):Ht(e,"add",i,t),this}function xr(i){const t=G(this),{has:e,get:s}=ts(t);let n=e.call(t,i);n||(i=G(i),n=e.call(t,i)),s&&s.call(t,i);const r=t.delete(i);return n&&Ht(t,"delete",i,void 0),r}function Mr(){const i=G(this),t=i.size!==0,e=i.clear();return t&&Ht(i,"clear",void 0,void 0),e}function _i(i,t){return function(s,n){const r=this,o=r.__v_raw,h=G(o),l=t?An:i?In:Bn;return!i&&mt(h,"iterate",me),o.forEach((c,a)=>s.call(n,l(c),l(a),r))}}function Si(i,t,e){return function(...s){const n=this.__v_raw,r=G(n),o=Re(r),h=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,c=n[i](...s),a=e?An:t?In:Bn;return!t&&mt(r,"iterate",l?nn:me),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:h?[a(u[0]),a(u[1])]:a(u),done:f}},[Symbol.iterator](){return this}}}}function qt(i){return function(...t){return i==="delete"?!1:i==="clear"?void 0:this}}function xc(){const i={get(r){return vi(this,r)},get size(){return yi(this)},has:wi,add:Sr,set:Cr,delete:xr,clear:Mr,forEach:_i(!1,!1)},t={get(r){return vi(this,r,!1,!0)},get size(){return yi(this)},has:wi,add:Sr,set:Cr,delete:xr,clear:Mr,forEach:_i(!1,!0)},e={get(r){return vi(this,r,!0)},get size(){return yi(this,!0)},has(r){return wi.call(this,r,!0)},add:qt("add"),set:qt("set"),delete:qt("delete"),clear:qt("clear"),forEach:_i(!0,!1)},s={get(r){return vi(this,r,!0,!0)},get size(){return yi(this,!0)},has(r){return wi.call(this,r,!0)},add:qt("add"),set:qt("set"),delete:qt("delete"),clear:qt("clear"),forEach:_i(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Si(r,!1,!1),e[r]=Si(r,!0,!1),t[r]=Si(r,!1,!0),s[r]=Si(r,!0,!0)}),[i,e,t,s]}const[Mc,Ec,Lc,Oc]=xc();function Dn(i,t){const e=t?i?Oc:Lc:i?Ec:Mc;return(s,n,r)=>n==="__v_isReactive"?!i:n==="__v_isReadonly"?i:n==="__v_raw"?s:Reflect.get(j(e,n)&&n in s?e:s,n,r)}const Tc={get:Dn(!1,!1)},zc={get:Dn(!1,!0)},Rc={get:Dn(!0,!1)};const Mh=new WeakMap,Eh=new WeakMap,Lh=new WeakMap,kc=new WeakMap;function Pc(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nc(i){return i.__v_skip||!Object.isExtensible(i)?0:Pc(sc(i))}function Fn(i){return Wi(i)?i:$n(i,!1,_c,Tc,Mh)}function Ac(i){return $n(i,!1,Cc,zc,Eh)}function Oh(i){return $n(i,!0,Sc,Rc,Lh)}function $n(i,t,e,s,n){if(!Q(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const r=n.get(i);if(r)return r;const o=Nc(i);if(o===0)return i;const h=new Proxy(i,o===2?s:e);return n.set(i,h),h}function qe(i){return Wi(i)?qe(i.__v_raw):!!(i&&i.__v_isReactive)}function Wi(i){return!!(i&&i.__v_isReadonly)}function rn(i){return!!(i&&i.__v_isShallow)}function Th(i){return i?!!i.__v_raw:!1}function G(i){const t=i&&i.__v_raw;return t?G(t):i}function Dc(i){return Object.isExtensible(i)&&uh(i,"__v_skip",!0),i}const Bn=i=>Q(i)?Fn(i):i,In=i=>Q(i)?Oh(i):i;class zh{constructor(t,e,s,n){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new kn(()=>t(this._value),()=>_s(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=G(this);return(!t._cacheable||t.effect.dirty)&&we(t._value,t._value=t.effect.run())&&_s(t,4),$c(t),t.effect._dirtyLevel>=2&&_s(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Fc(i,t,e=!1){let s,n;const r=I(i);return r?(s=i,n=yt):(s=i.get,n=i.set),new zh(s,n,r||!n,e)}function $c(i){var t;ee&&pe&&(i=G(i),wh(pe,(t=i.dep)!=null?t:i.dep=_h(()=>i.dep=void 0,i instanceof zh?i:void 0)))}function _s(i,t=4,e,s){i=G(i);const n=i.dep;n&&yh(n,t)}function bt(i){return!!(i&&i.__v_isRef===!0)}function Bc(i){return bt(i)?i.value:i}const Ic={get:(i,t,e)=>Bc(Reflect.get(i,t,e)),set:(i,t,e,s)=>{const n=i[t];return bt(n)&&!bt(e)?(n.value=e,!0):Reflect.set(i,t,e,s)}};function Rh(i){return qe(i)?i:new Proxy(i,Ic)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ie(i,t,e,s){try{return s?i(...s):i()}catch(n){es(n,t,e)}}function Lt(i,t,e,s){if(I(i)){const n=ie(i,t,e,s);return n&&hh(n)&&n.catch(r=>{es(r,t,e)}),n}if(F(i)){const n=[];for(let r=0;r<i.length;r++)n.push(Lt(i[r],t,e,s));return n}}function es(i,t,e,s=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${e}`;for(;r;){const c=r.ec;if(c){for(let a=0;a<c.length;a++)if(c[a](i,o,h)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){re(),ie(l,null,10,[i,o,h]),oe();return}}Wc(i,e,n,s)}function Wc(i,t,e,s=!0){console.error(i)}let si=!1,on=!1;const ht=[];let $t=0;const ke=[];let Yt=null,fe=0;const kh=Promise.resolve();let Wn=null;function Vc(i){const t=Wn||kh;return i?t.then(this?i.bind(this):i):t}function jc(i){let t=$t+1,e=ht.length;for(;t<e;){const s=t+e>>>1,n=ht[s],r=ni(n);r<i||r===i&&n.pre?t=s+1:e=s}return t}function Vn(i){(!ht.length||!ht.includes(i,si&&i.allowRecurse?$t+1:$t))&&(i.id==null?ht.push(i):ht.splice(jc(i.id),0,i),Ph())}function Ph(){!si&&!on&&(on=!0,Wn=kh.then(Ah))}function Uc(i){const t=ht.indexOf(i);t>$t&&ht.splice(t,1)}function Hc(i){F(i)?ke.push(...i):(!Yt||!Yt.includes(i,i.allowRecurse?fe+1:fe))&&ke.push(i),Ph()}function Er(i,t,e=si?$t+1:0){for(;e<ht.length;e++){const s=ht[e];if(s&&s.pre){if(i&&s.id!==i.uid)continue;ht.splice(e,1),e--,s()}}}function Nh(i){if(ke.length){const t=[...new Set(ke)].sort((e,s)=>ni(e)-ni(s));if(ke.length=0,Yt){Yt.push(...t);return}for(Yt=t,fe=0;fe<Yt.length;fe++){const e=Yt[fe];e.active!==!1&&e()}Yt=null,fe=0}}const ni=i=>i.id==null?1/0:i.id,Kc=(i,t)=>{const e=ni(i)-ni(t);if(e===0){if(i.pre&&!t.pre)return-1;if(t.pre&&!i.pre)return 1}return e};function Ah(i){on=!1,si=!0,ht.sort(Kc);try{for($t=0;$t<ht.length;$t++){const t=ht[$t];t&&t.active!==!1&&ie(t,null,14)}}finally{$t=0,ht.length=0,Nh(),si=!1,Wn=null,(ht.length||ke.length)&&Ah()}}function Jc(i,t,...e){if(i.isUnmounted)return;const s=i.vnode.props||Y;let n=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const a=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:f}=s[a]||Y;f&&(n=e.map(d=>st(d)?d.trim():d)),u&&(n=e.map(oc))}let h,l=s[h=vs(t)]||s[h=vs(Ne(t))];!l&&r&&(l=s[h=vs($e(t))]),l&&Lt(l,i,6,n);const c=s[h+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[h])return;i.emitted[h]=!0,Lt(c,i,6,n)}}function Dh(i,t,e=!1){const s=t.emitsCache,n=s.get(i);if(n!==void 0)return n;const r=i.emits;let o={},h=!1;if(!I(i)){const l=c=>{const a=Dh(c,t,!0);a&&(h=!0,ot(o,a))};!e&&t.mixins.length&&t.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!r&&!h?(Q(i)&&s.set(i,null),null):(F(r)?r.forEach(l=>o[l]=null):ot(o,r),Q(i)&&s.set(i,o),o)}function is(i,t){return!i||!Xi(t)?!1:(t=t.slice(2).replace(/Once$/,""),j(i,t[0].toLowerCase()+t.slice(1))||j(i,$e(t))||j(i,t))}let Bt=null,Fh=null;function Vi(i){const t=Bt;return Bt=i,Fh=i&&i.type.__scopeId||null,t}function Gc(i,t=Bt,e){if(!t||i._n)return i;const s=(...n)=>{s._d&&Fr(-1);const r=Vi(t);let o;try{o=i(...n)}finally{Vi(r),s._d&&Fr(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ss(i){const{type:t,vnode:e,proxy:s,withProxy:n,propsOptions:[r],slots:o,attrs:h,emit:l,render:c,renderCache:a,props:u,data:f,setupState:d,ctx:p,inheritAttrs:g}=i,x=Vi(i);let M,k;try{if(e.shapeFlag&4){const P=n||s,V=P;M=Ft(c.call(V,P,a,u,d,f,p)),k=h}else{const P=t;M=Ft(P.length>1?P(u,{attrs:h,slots:o,emit:l}):P(u,null)),k=t.props?h:qc(h)}}catch(P){Ye.length=0,es(P,i,1),M=ge(ri)}let T=M;if(k&&g!==!1){const P=Object.keys(k),{shapeFlag:V}=T;P.length&&V&7&&(r&&P.some(Ln)&&(k=Zc(k,r)),T=Ae(T,k,!1,!0))}return e.dirs&&(T=Ae(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(e.dirs):e.dirs),e.transition&&(T.transition=e.transition),M=T,Vi(x),M}const qc=i=>{let t;for(const e in i)(e==="class"||e==="style"||Xi(e))&&((t||(t={}))[e]=i[e]);return t},Zc=(i,t)=>{const e={};for(const s in i)(!Ln(s)||!(s.slice(9)in t))&&(e[s]=i[s]);return e};function Xc(i,t,e){const{props:s,children:n,component:r}=i,{props:o,children:h,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return s?Lr(s,o,c):!!o;if(l&8){const a=t.dynamicProps;for(let u=0;u<a.length;u++){const f=a[u];if(o[f]!==s[f]&&!is(c,f))return!0}}}else return(n||h)&&(!h||!h.$stable)?!0:s===o?!1:s?o?Lr(s,o,c):!0:!!o;return!1}function Lr(i,t,e){const s=Object.keys(t);if(s.length!==Object.keys(i).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(t[r]!==i[r]&&!is(e,r))return!0}return!1}function Yc({vnode:i,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===i&&(s.el=i.el),s===i)(i=t.vnode).el=e,t=t.parent;else break}}const Qc=Symbol.for("v-ndc"),ta=i=>i.__isSuspense;function ea(i,t){t&&t.pendingBranch?F(i)?t.effects.push(...i):t.effects.push(i):Hc(i)}function ss(i,t,e=ct,s=!1){if(e){const n=e[i]||(e[i]=[]),r=t.__weh||(t.__weh=(...o)=>{re();const h=fi(e),l=Lt(t,e,i,o);return h(),oe(),l});return s?n.unshift(r):n.push(r),r}}const Kt=i=>(t,e=ct)=>{(!rs||i==="sp")&&ss(i,(...s)=>t(...s),e)},ia=Kt("bm"),sa=Kt("m"),na=Kt("bu"),ra=Kt("u"),oa=Kt("bum"),$h=Kt("um"),ha=Kt("sp"),la=Kt("rtg"),ca=Kt("rtc");function aa(i,t=ct){ss("ec",i,t)}function ce(i,t,e,s){const n=i.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const h=n[o];r&&(h.oldValue=r[o].value);let l=h.dir[s];l&&(re(),Lt(l,e,8,[i.el,h,i,t]),oe())}}function ua(i,t,e,s){let n;const r=e;if(F(i)||st(i)){n=new Array(i.length);for(let o=0,h=i.length;o<h;o++)n[o]=t(i[o],o,void 0,r)}else if(typeof i=="number"){n=new Array(i);for(let o=0;o<i;o++)n[o]=t(o+1,o,void 0,r)}else if(Q(i))if(i[Symbol.iterator])n=Array.from(i,(o,h)=>t(o,h,void 0,r));else{const o=Object.keys(i);n=new Array(o.length);for(let h=0,l=o.length;h<l;h++){const c=o[h];n[h]=t(i[c],c,h,r)}}else n=[];return n}const Ni=i=>!!i.type.__asyncLoader,hn=i=>i?sl(i)?Kn(i):hn(i.parent):null,Ze=ot(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>hn(i.parent),$root:i=>hn(i.root),$emit:i=>i.emit,$options:i=>jn(i),$forceUpdate:i=>i.f||(i.f=()=>{i.effect.dirty=!0,Vn(i.update)}),$nextTick:i=>i.n||(i.n=Vc.bind(i.proxy)),$watch:i=>ka.bind(i)}),Cs=(i,t)=>i!==Y&&!i.__isScriptSetup&&j(i,t),fa={get({_:i},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:s,data:n,props:r,accessCache:o,type:h,appContext:l}=i;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return s[t];case 2:return n[t];case 4:return e[t];case 3:return r[t]}else{if(Cs(s,t))return o[t]=1,s[t];if(n!==Y&&j(n,t))return o[t]=2,n[t];if((c=i.propsOptions[0])&&j(c,t))return o[t]=3,r[t];if(e!==Y&&j(e,t))return o[t]=4,e[t];ln&&(o[t]=0)}}const a=Ze[t];let u,f;if(a)return t==="$attrs"&&mt(i.attrs,"get",""),a(i);if((u=h.__cssModules)&&(u=u[t]))return u;if(e!==Y&&j(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,j(f,t))return f[t]},set({_:i},t,e){const{data:s,setupState:n,ctx:r}=i;return Cs(n,t)?(n[t]=e,!0):s!==Y&&j(s,t)?(s[t]=e,!0):j(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(r[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:s,appContext:n,propsOptions:r}},o){let h;return!!e[o]||i!==Y&&j(i,o)||Cs(t,o)||(h=r[0])&&j(h,o)||j(s,o)||j(Ze,o)||j(n.config.globalProperties,o)},defineProperty(i,t,e){return e.get!=null?i._.accessCache[t]=0:j(e,"value")&&this.set(i,t,e.value,null),Reflect.defineProperty(i,t,e)}};function Or(i){return F(i)?i.reduce((t,e)=>(t[e]=null,t),{}):i}let ln=!0;function da(i){const t=jn(i),e=i.proxy,s=i.ctx;ln=!1,t.beforeCreate&&Tr(t.beforeCreate,i,"bc");const{data:n,computed:r,methods:o,watch:h,provide:l,inject:c,created:a,beforeMount:u,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:x,beforeDestroy:M,beforeUnmount:k,destroyed:T,unmounted:P,render:V,renderTracked:A,renderTriggered:U,errorCaptured:K,serverPrefetch:vt,expose:ut,inheritAttrs:Jt,components:Me,directives:he,filters:le}=t;if(c&&pa(c,s,null),o)for(const q in o){const H=o[q];I(H)&&(s[q]=H.bind(e))}if(n){const q=n.call(e,e);Q(q)&&(i.data=Fn(q))}if(ln=!0,r)for(const q in r){const H=r[q],St=I(H)?H.bind(e,e):I(H.get)?H.get.bind(e,e):yt,Gt=!I(H)&&I(H.set)?H.set.bind(e):yt,Ct=Ya({get:St,set:Gt});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:kt=>Ct.value=kt})}if(h)for(const q in h)Bh(h[q],s,e,q);if(l){const q=I(l)?l.call(e):l;Reflect.ownKeys(q).forEach(H=>{ya(H,q[H])})}a&&Tr(a,i,"c");function et(q,H){F(H)?H.forEach(St=>q(St.bind(e))):H&&q(H.bind(e))}if(et(ia,u),et(sa,f),et(na,d),et(ra,p),et(Pa,g),et(Na,x),et(aa,K),et(ca,A),et(la,U),et(oa,k),et($h,P),et(ha,vt),F(ut))if(ut.length){const q=i.exposed||(i.exposed={});ut.forEach(H=>{Object.defineProperty(q,H,{get:()=>e[H],set:St=>e[H]=St})})}else i.exposed||(i.exposed={});V&&i.render===yt&&(i.render=V),Jt!=null&&(i.inheritAttrs=Jt),Me&&(i.components=Me),he&&(i.directives=he)}function pa(i,t,e=yt){F(i)&&(i=cn(i));for(const s in i){const n=i[s];let r;Q(n)?"default"in n?r=Ai(n.from||s,n.default,!0):r=Ai(n.from||s):r=Ai(n),bt(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Tr(i,t,e){Lt(F(i)?i.map(s=>s.bind(t.proxy)):i.bind(t.proxy),t,e)}function Bh(i,t,e,s){const n=s.includes(".")?Yh(e,s):()=>e[s];if(st(i)){const r=t[i];I(r)&&Ms(n,r)}else if(I(i))Ms(n,i.bind(e));else if(Q(i))if(F(i))i.forEach(r=>Bh(r,t,e,s));else{const r=I(i.handler)?i.handler.bind(e):t[i.handler];I(r)&&Ms(n,r,i)}}function jn(i){const t=i.type,{mixins:e,extends:s}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,h=r.get(t);let l;return h?l=h:!n.length&&!e&&!s?l=t:(l={},n.length&&n.forEach(c=>ji(l,c,o,!0)),ji(l,t,o)),Q(t)&&r.set(t,l),l}function ji(i,t,e,s=!1){const{mixins:n,extends:r}=t;r&&ji(i,r,e,!0),n&&n.forEach(o=>ji(i,o,e,!0));for(const o in t)if(!(s&&o==="expose")){const h=ma[o]||e&&e[o];i[o]=h?h(i[o],t[o]):t[o]}return i}const ma={data:zr,props:Rr,emits:Rr,methods:Je,computed:Je,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:Je,directives:Je,watch:ba,provide:zr,inject:ga};function zr(i,t){return t?i?function(){return ot(I(i)?i.call(this,this):i,I(t)?t.call(this,this):t)}:t:i}function ga(i,t){return Je(cn(i),cn(t))}function cn(i){if(F(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function lt(i,t){return i?[...new Set([].concat(i,t))]:t}function Je(i,t){return i?ot(Object.create(null),i,t):t}function Rr(i,t){return i?F(i)&&F(t)?[...new Set([...i,...t])]:ot(Object.create(null),Or(i),Or(t??{})):t}function ba(i,t){if(!i)return t;if(!t)return i;const e=ot(Object.create(null),i);for(const s in t)e[s]=lt(i[s],t[s]);return e}function Ih(){return{app:null,config:{isNativeTag:ec,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let va=0;function wa(i,t){return function(s,n=null){I(s)||(s=ot({},s)),n!=null&&!Q(n)&&(n=null);const r=Ih(),o=new WeakSet;let h=!1;const l=r.app={_uid:va++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:Qa,get config(){return r.config},set config(c){},use(c,...a){return o.has(c)||(c&&I(c.install)?(o.add(c),c.install(l,...a)):I(c)&&(o.add(c),c(l,...a))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,a){return a?(r.components[c]=a,l):r.components[c]},directive(c,a){return a?(r.directives[c]=a,l):r.directives[c]},mount(c,a,u){if(!h){const f=ge(s,n);return f.appContext=r,u===!0?u="svg":u===!1&&(u=void 0),a&&t?t(f,c):i(f,c,u),h=!0,l._container=c,c.__vue_app__=l,Kn(f.component)}},unmount(){h&&(i(null,l._container),delete l._container.__vue_app__)},provide(c,a){return r.provides[c]=a,l},runWithContext(c){const a=Xe;Xe=l;try{return c()}finally{Xe=a}}};return l}}let Xe=null;function ya(i,t){if(ct){let e=ct.provides;const s=ct.parent&&ct.parent.provides;s===e&&(e=ct.provides=Object.create(s)),e[i]=t}}function Ai(i,t,e=!1){const s=ct||Bt;if(s||Xe){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Xe._context.provides;if(n&&i in n)return n[i];if(arguments.length>1)return e&&I(t)?t.call(s&&s.proxy):t}}const Wh={},Vh=()=>Object.create(Wh),jh=i=>Object.getPrototypeOf(i)===Wh;function _a(i,t,e,s=!1){const n={},r=Vh();i.propsDefaults=Object.create(null),Uh(i,t,n,r);for(const o in i.propsOptions[0])o in n||(n[o]=void 0);e?i.props=s?n:Ac(n):i.type.props?i.props=n:i.props=r,i.attrs=r}function Sa(i,t,e,s){const{props:n,attrs:r,vnode:{patchFlag:o}}=i,h=G(n),[l]=i.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const a=i.vnode.dynamicProps;for(let u=0;u<a.length;u++){let f=a[u];if(is(i.emitsOptions,f))continue;const d=t[f];if(l)if(j(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Ne(f);n[p]=an(l,h,p,d,i,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{Uh(i,t,n,r)&&(c=!0);let a;for(const u in h)(!t||!j(t,u)&&((a=$e(u))===u||!j(t,a)))&&(l?e&&(e[u]!==void 0||e[a]!==void 0)&&(n[u]=an(l,h,u,void 0,i,!0)):delete n[u]);if(r!==h)for(const u in r)(!t||!j(t,u))&&(delete r[u],c=!0)}c&&Ht(i.attrs,"set","")}function Uh(i,t,e,s){const[n,r]=i.propsOptions;let o=!1,h;if(t)for(let l in t){if(Ge(l))continue;const c=t[l];let a;n&&j(n,a=Ne(l))?!r||!r.includes(a)?e[a]=c:(h||(h={}))[a]=c:is(i.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=G(e),c=h||Y;for(let a=0;a<r.length;a++){const u=r[a];e[u]=an(n,l,u,c[u],i,!j(c,u))}}return o}function an(i,t,e,s,n,r){const o=i[e];if(o!=null){const h=j(o,"default");if(h&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&I(l)){const{propsDefaults:c}=n;if(e in c)s=c[e];else{const a=fi(n);s=c[e]=l.call(null,t),a()}}else s=l}o[0]&&(r&&!h?s=!1:o[1]&&(s===""||s===$e(e))&&(s=!0))}return s}function Hh(i,t,e=!1){const s=t.propsCache,n=s.get(i);if(n)return n;const r=i.props,o={},h=[];let l=!1;if(!I(i)){const a=u=>{l=!0;const[f,d]=Hh(u,t,!0);ot(o,f),d&&h.push(...d)};!e&&t.mixins.length&&t.mixins.forEach(a),i.extends&&a(i.extends),i.mixins&&i.mixins.forEach(a)}if(!r&&!l)return Q(i)&&s.set(i,ze),ze;if(F(r))for(let a=0;a<r.length;a++){const u=Ne(r[a]);kr(u)&&(o[u]=Y)}else if(r)for(const a in r){const u=Ne(a);if(kr(u)){const f=r[a],d=o[u]=F(f)||I(f)?{type:f}:ot({},f);if(d){const p=Ar(Boolean,d.type),g=Ar(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||j(d,"default"))&&h.push(u)}}}const c=[o,h];return Q(i)&&s.set(i,c),c}function kr(i){return i[0]!=="$"&&!Ge(i)}function Pr(i){return i===null?"null":typeof i=="function"?i.name||"":typeof i=="object"&&i.constructor&&i.constructor.name||""}function Nr(i,t){return Pr(i)===Pr(t)}function Ar(i,t){return F(t)?t.findIndex(e=>Nr(e,i)):I(t)&&Nr(t,i)?0:-1}const Kh=i=>i[0]==="_"||i==="$stable",Un=i=>F(i)?i.map(Ft):[Ft(i)],Ca=(i,t,e)=>{if(t._n)return t;const s=Gc((...n)=>Un(t(...n)),e);return s._c=!1,s},Jh=(i,t,e)=>{const s=i._ctx;for(const n in i){if(Kh(n))continue;const r=i[n];if(I(r))t[n]=Ca(n,r,s);else if(r!=null){const o=Un(r);t[n]=()=>o}}},Gh=(i,t)=>{const e=Un(t);i.slots.default=()=>e},xa=(i,t)=>{const e=i.slots=Vh();if(i.vnode.shapeFlag&32){const s=t._;s?(ot(e,t),uh(e,"_",s,!0)):Jh(t,e)}else t&&Gh(i,t)},Ma=(i,t,e)=>{const{vnode:s,slots:n}=i;let r=!0,o=Y;if(s.shapeFlag&32){const h=t._;h?e&&h===1?r=!1:(ot(n,t),!e&&h===1&&delete n._):(r=!t.$stable,Jh(t,n)),o=t}else t&&(Gh(i,t),o={default:1});if(r)for(const h in n)!Kh(h)&&o[h]==null&&delete n[h]};function un(i,t,e,s,n=!1){if(F(i)){i.forEach((f,d)=>un(f,t&&(F(t)?t[d]:t),e,s,n));return}if(Ni(s)&&!n)return;const r=s.shapeFlag&4?Kn(s.component):s.el,o=n?null:r,{i:h,r:l}=i,c=t&&t.r,a=h.refs===Y?h.refs={}:h.refs,u=h.setupState;if(c!=null&&c!==l&&(st(c)?(a[c]=null,j(u,c)&&(u[c]=null)):bt(c)&&(c.value=null)),I(l))ie(l,h,12,[o,a]);else{const f=st(l),d=bt(l);if(f||d){const p=()=>{if(i.f){const g=f?j(u,l)?u[l]:a[l]:l.value;n?F(g)&&On(g,r):F(g)?g.includes(r)||g.push(r):f?(a[l]=[r],j(u,l)&&(u[l]=a[l])):(l.value=[r],i.k&&(a[i.k]=l.value))}else f?(a[l]=o,j(u,l)&&(u[l]=o)):d&&(l.value=o,i.k&&(a[i.k]=o))};o?(p.id=-1,ft(p,e)):p()}}}const ft=ea;function Ea(i){return La(i)}function La(i,t){const e=fh();e.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:o,createText:h,createComment:l,setText:c,setElementText:a,parentNode:u,nextSibling:f,setScopeId:d=yt,insertStaticContent:p}=i,g=(m,b,w,y=null,_=null,L=null,z=void 0,E=null,O=!!b.dynamicChildren)=>{if(m===b)return;m&&!Ue(m,b)&&(y=bi(m),kt(m,_,L,!0),m=null),b.patchFlag===-2&&(O=!1,b.dynamicChildren=null);const{type:S,ref:R,shapeFlag:D}=b;switch(S){case ns:x(m,b,w,y);break;case ri:M(m,b,w,y);break;case Es:m==null&&k(b,w,y,z);break;case Dt:Me(m,b,w,y,_,L,z,E,O);break;default:D&1?V(m,b,w,y,_,L,z,E,O):D&6?he(m,b,w,y,_,L,z,E,O):(D&64||D&128)&&S.process(m,b,w,y,_,L,z,E,O,Ve)}R!=null&&_&&un(R,m&&m.ref,L,b||m,!b)},x=(m,b,w,y)=>{if(m==null)s(b.el=h(b.children),w,y);else{const _=b.el=m.el;b.children!==m.children&&c(_,b.children)}},M=(m,b,w,y)=>{m==null?s(b.el=l(b.children||""),w,y):b.el=m.el},k=(m,b,w,y)=>{[m.el,m.anchor]=p(m.children,b,w,y,m.el,m.anchor)},T=({el:m,anchor:b},w,y)=>{let _;for(;m&&m!==b;)_=f(m),s(m,w,y),m=_;s(b,w,y)},P=({el:m,anchor:b})=>{let w;for(;m&&m!==b;)w=f(m),n(m),m=w;n(b)},V=(m,b,w,y,_,L,z,E,O)=>{b.type==="svg"?z="svg":b.type==="math"&&(z="mathml"),m==null?A(b,w,y,_,L,z,E,O):vt(m,b,_,L,z,E,O)},A=(m,b,w,y,_,L,z,E)=>{let O,S;const{props:R,shapeFlag:D,transition:N,dirs:$}=m;if(O=m.el=o(m.type,L,R&&R.is,R),D&8?a(O,m.children):D&16&&K(m.children,O,null,y,_,xs(m,L),z,E),$&&ce(m,null,y,"created"),U(O,m,m.scopeId,z,y),R){for(const Z in R)Z!=="value"&&!Ge(Z)&&r(O,Z,null,R[Z],L,m.children,y,_,Wt);"value"in R&&r(O,"value",null,R.value,L),(S=R.onVnodeBeforeMount)&&Nt(S,y,m)}$&&ce(m,null,y,"beforeMount");const W=Oa(_,N);W&&N.beforeEnter(O),s(O,b,w),((S=R&&R.onVnodeMounted)||W||$)&&ft(()=>{S&&Nt(S,y,m),W&&N.enter(O),$&&ce(m,null,y,"mounted")},_)},U=(m,b,w,y,_)=>{if(w&&d(m,w),y)for(let L=0;L<y.length;L++)d(m,y[L]);if(_){let L=_.subTree;if(b===L){const z=_.vnode;U(m,z,z.scopeId,z.slotScopeIds,_.parent)}}},K=(m,b,w,y,_,L,z,E,O=0)=>{for(let S=O;S<m.length;S++){const R=m[S]=E?Qt(m[S]):Ft(m[S]);g(null,R,b,w,y,_,L,z,E)}},vt=(m,b,w,y,_,L,z)=>{const E=b.el=m.el;let{patchFlag:O,dynamicChildren:S,dirs:R}=b;O|=m.patchFlag&16;const D=m.props||Y,N=b.props||Y;let $;if(w&&ae(w,!1),($=N.onVnodeBeforeUpdate)&&Nt($,w,b,m),R&&ce(b,m,w,"beforeUpdate"),w&&ae(w,!0),S?ut(m.dynamicChildren,S,E,w,y,xs(b,_),L):z||H(m,b,E,null,w,y,xs(b,_),L,!1),O>0){if(O&16)Jt(E,b,D,N,w,y,_);else if(O&2&&D.class!==N.class&&r(E,"class",null,N.class,_),O&4&&r(E,"style",D.style,N.style,_),O&8){const W=b.dynamicProps;for(let Z=0;Z<W.length;Z++){const J=W[Z],nt=D[J],xt=N[J];(xt!==nt||J==="value")&&r(E,J,nt,xt,_,m.children,w,y,Wt)}}O&1&&m.children!==b.children&&a(E,b.children)}else!z&&S==null&&Jt(E,b,D,N,w,y,_);(($=N.onVnodeUpdated)||R)&&ft(()=>{$&&Nt($,w,b,m),R&&ce(b,m,w,"updated")},y)},ut=(m,b,w,y,_,L,z)=>{for(let E=0;E<b.length;E++){const O=m[E],S=b[E],R=O.el&&(O.type===Dt||!Ue(O,S)||O.shapeFlag&70)?u(O.el):w;g(O,S,R,null,y,_,L,z,!0)}},Jt=(m,b,w,y,_,L,z)=>{if(w!==y){if(w!==Y)for(const E in w)!Ge(E)&&!(E in y)&&r(m,E,w[E],null,z,b.children,_,L,Wt);for(const E in y){if(Ge(E))continue;const O=y[E],S=w[E];O!==S&&E!=="value"&&r(m,E,S,O,z,b.children,_,L,Wt)}"value"in y&&r(m,"value",w.value,y.value,z)}},Me=(m,b,w,y,_,L,z,E,O)=>{const S=b.el=m?m.el:h(""),R=b.anchor=m?m.anchor:h("");let{patchFlag:D,dynamicChildren:N,slotScopeIds:$}=b;$&&(E=E?E.concat($):$),m==null?(s(S,w,y),s(R,w,y),K(b.children||[],w,R,_,L,z,E,O)):D>0&&D&64&&N&&m.dynamicChildren?(ut(m.dynamicChildren,N,w,_,L,z,E),(b.key!=null||_&&b===_.subTree)&&qh(m,b,!0)):H(m,b,w,R,_,L,z,E,O)},he=(m,b,w,y,_,L,z,E,O)=>{b.slotScopeIds=E,m==null?b.shapeFlag&512?_.ctx.activate(b,w,y,z,O):le(b,w,y,_,L,z,O):We(m,b,O)},le=(m,b,w,y,_,L,z)=>{const E=m.component=Ka(m,y,_);if(Qh(m)&&(E.ctx.renderer=Ve),Ja(E),E.asyncDep){if(_&&_.registerDep(E,et,z),!m.el){const O=E.subTree=ge(ri);M(null,O,b,w)}}else et(E,m,b,w,_,L,z)},We=(m,b,w)=>{const y=b.component=m.component;if(Xc(m,b,w))if(y.asyncDep&&!y.asyncResolved){q(y,b,w);return}else y.next=b,Uc(y.update),y.effect.dirty=!0,y.update();else b.el=m.el,y.vnode=b},et=(m,b,w,y,_,L,z)=>{const E=()=>{if(m.isMounted){let{next:R,bu:D,u:N,parent:$,vnode:W}=m;{const Ee=Zh(m);if(Ee){R&&(R.el=W.el,q(m,R,z)),Ee.asyncDep.then(()=>{m.isUnmounted||E()});return}}let Z=R,J;ae(m,!1),R?(R.el=W.el,q(m,R,z)):R=W,D&&ws(D),(J=R.props&&R.props.onVnodeBeforeUpdate)&&Nt(J,$,R,W),ae(m,!0);const nt=Ss(m),xt=m.subTree;m.subTree=nt,g(xt,nt,u(xt.el),bi(xt),m,_,L),R.el=nt.el,Z===null&&Yc(m,nt.el),N&&ft(N,_),(J=R.props&&R.props.onVnodeUpdated)&&ft(()=>Nt(J,$,R,W),_)}else{let R;const{el:D,props:N}=b,{bm:$,m:W,parent:Z}=m,J=Ni(b);if(ae(m,!1),$&&ws($),!J&&(R=N&&N.onVnodeBeforeMount)&&Nt(R,Z,b),ae(m,!0),D&&pr){const nt=()=>{m.subTree=Ss(m),pr(D,m.subTree,m,_,null)};J?b.type.__asyncLoader().then(()=>!m.isUnmounted&&nt()):nt()}else{const nt=m.subTree=Ss(m);g(null,nt,w,y,m,_,L),b.el=nt.el}if(W&&ft(W,_),!J&&(R=N&&N.onVnodeMounted)){const nt=b;ft(()=>Nt(R,Z,nt),_)}(b.shapeFlag&256||Z&&Ni(Z.vnode)&&Z.vnode.shapeFlag&256)&&m.a&&ft(m.a,_),m.isMounted=!0,b=w=y=null}},O=m.effect=new kn(E,yt,()=>Vn(S),m.scope),S=m.update=()=>{O.dirty&&O.run()};S.id=m.uid,ae(m,!0),S()},q=(m,b,w)=>{b.component=m;const y=m.vnode.props;m.vnode=b,m.next=null,Sa(m,b.props,y,w),Ma(m,b.children,w),re(),Er(m),oe()},H=(m,b,w,y,_,L,z,E,O=!1)=>{const S=m&&m.children,R=m?m.shapeFlag:0,D=b.children,{patchFlag:N,shapeFlag:$}=b;if(N>0){if(N&128){Gt(S,D,w,y,_,L,z,E,O);return}else if(N&256){St(S,D,w,y,_,L,z,E,O);return}}$&8?(R&16&&Wt(S,_,L),D!==S&&a(w,D)):R&16?$&16?Gt(S,D,w,y,_,L,z,E,O):Wt(S,_,L,!0):(R&8&&a(w,""),$&16&&K(D,w,y,_,L,z,E,O))},St=(m,b,w,y,_,L,z,E,O)=>{m=m||ze,b=b||ze;const S=m.length,R=b.length,D=Math.min(S,R);let N;for(N=0;N<D;N++){const $=b[N]=O?Qt(b[N]):Ft(b[N]);g(m[N],$,w,null,_,L,z,E,O)}S>R?Wt(m,_,L,!0,!1,D):K(b,w,y,_,L,z,E,O,D)},Gt=(m,b,w,y,_,L,z,E,O)=>{let S=0;const R=b.length;let D=m.length-1,N=R-1;for(;S<=D&&S<=N;){const $=m[S],W=b[S]=O?Qt(b[S]):Ft(b[S]);if(Ue($,W))g($,W,w,null,_,L,z,E,O);else break;S++}for(;S<=D&&S<=N;){const $=m[D],W=b[N]=O?Qt(b[N]):Ft(b[N]);if(Ue($,W))g($,W,w,null,_,L,z,E,O);else break;D--,N--}if(S>D){if(S<=N){const $=N+1,W=$<R?b[$].el:y;for(;S<=N;)g(null,b[S]=O?Qt(b[S]):Ft(b[S]),w,W,_,L,z,E,O),S++}}else if(S>N)for(;S<=D;)kt(m[S],_,L,!0),S++;else{const $=S,W=S,Z=new Map;for(S=W;S<=N;S++){const gt=b[S]=O?Qt(b[S]):Ft(b[S]);gt.key!=null&&Z.set(gt.key,S)}let J,nt=0;const xt=N-W+1;let Ee=!1,mr=0;const je=new Array(xt);for(S=0;S<xt;S++)je[S]=0;for(S=$;S<=D;S++){const gt=m[S];if(nt>=xt){kt(gt,_,L,!0);continue}let Pt;if(gt.key!=null)Pt=Z.get(gt.key);else for(J=W;J<=N;J++)if(je[J-W]===0&&Ue(gt,b[J])){Pt=J;break}Pt===void 0?kt(gt,_,L,!0):(je[Pt-W]=S+1,Pt>=mr?mr=Pt:Ee=!0,g(gt,b[Pt],w,null,_,L,z,E,O),nt++)}const gr=Ee?Ta(je):ze;for(J=gr.length-1,S=xt-1;S>=0;S--){const gt=W+S,Pt=b[gt],br=gt+1<R?b[gt+1].el:y;je[S]===0?g(null,Pt,w,br,_,L,z,E,O):Ee&&(J<0||S!==gr[J]?Ct(Pt,w,br,2):J--)}}},Ct=(m,b,w,y,_=null)=>{const{el:L,type:z,transition:E,children:O,shapeFlag:S}=m;if(S&6){Ct(m.component.subTree,b,w,y);return}if(S&128){m.suspense.move(b,w,y);return}if(S&64){z.move(m,b,w,Ve);return}if(z===Dt){s(L,b,w);for(let D=0;D<O.length;D++)Ct(O[D],b,w,y);s(m.anchor,b,w);return}if(z===Es){T(m,b,w);return}if(y!==2&&S&1&&E)if(y===0)E.beforeEnter(L),s(L,b,w),ft(()=>E.enter(L),_);else{const{leave:D,delayLeave:N,afterLeave:$}=E,W=()=>s(L,b,w),Z=()=>{D(L,()=>{W(),$&&$()})};N?N(L,W,Z):Z()}else s(L,b,w)},kt=(m,b,w,y=!1,_=!1)=>{const{type:L,props:z,ref:E,children:O,dynamicChildren:S,shapeFlag:R,patchFlag:D,dirs:N,memoIndex:$}=m;if(D===-2&&(_=!1),E!=null&&un(E,null,w,m,!0),$!=null&&(b.renderCache[$]=void 0),R&256){b.ctx.deactivate(m);return}const W=R&1&&N,Z=!Ni(m);let J;if(Z&&(J=z&&z.onVnodeBeforeUnmount)&&Nt(J,b,m),R&6)tc(m.component,w,y);else{if(R&128){m.suspense.unmount(w,y);return}W&&ce(m,null,b,"beforeUnmount"),R&64?m.type.remove(m,b,w,Ve,y):S&&(L!==Dt||D>0&&D&64)?Wt(S,b,w,!1,!0):(L===Dt&&D&384||!_&&R&16)&&Wt(O,b,w),y&&ur(m)}(Z&&(J=z&&z.onVnodeUnmounted)||W)&&ft(()=>{J&&Nt(J,b,m),W&&ce(m,null,b,"unmounted")},w)},ur=m=>{const{type:b,el:w,anchor:y,transition:_}=m;if(b===Dt){Ql(w,y);return}if(b===Es){P(m);return}const L=()=>{n(w),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(m.shapeFlag&1&&_&&!_.persisted){const{leave:z,delayLeave:E}=_,O=()=>z(w,L);E?E(m.el,L,O):O()}else L()},Ql=(m,b)=>{let w;for(;m!==b;)w=f(m),n(m),m=w;n(b)},tc=(m,b,w)=>{const{bum:y,scope:_,update:L,subTree:z,um:E,m:O,a:S}=m;Dr(O),Dr(S),y&&ws(y),_.stop(),L&&(L.active=!1,kt(z,m,b,w)),E&&ft(E,b),ft(()=>{m.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Wt=(m,b,w,y=!1,_=!1,L=0)=>{for(let z=L;z<m.length;z++)kt(m[z],b,w,y,_)},bi=m=>m.shapeFlag&6?bi(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el);let bs=!1;const fr=(m,b,w)=>{m==null?b._vnode&&kt(b._vnode,null,null,!0):g(b._vnode||null,m,b,null,null,null,w),bs||(bs=!0,Er(),Nh(),bs=!1),b._vnode=m},Ve={p:g,um:kt,m:Ct,r:ur,mt:le,mc:K,pc:H,pbc:ut,n:bi,o:i};let dr,pr;return{render:fr,hydrate:dr,createApp:wa(fr,dr)}}function xs({type:i,props:t},e){return e==="svg"&&i==="foreignObject"||e==="mathml"&&i==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function ae({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function Oa(i,t){return(!i||i&&!i.pendingBranch)&&t&&!t.persisted}function qh(i,t,e=!1){const s=i.children,n=t.children;if(F(s)&&F(n))for(let r=0;r<s.length;r++){const o=s[r];let h=n[r];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=n[r]=Qt(n[r]),h.el=o.el),!e&&h.patchFlag!==-2&&qh(o,h)),h.type===ns&&(h.el=o.el)}}function Ta(i){const t=i.slice(),e=[0];let s,n,r,o,h;const l=i.length;for(s=0;s<l;s++){const c=i[s];if(c!==0){if(n=e[e.length-1],i[n]<c){t[s]=n,e.push(s);continue}for(r=0,o=e.length-1;r<o;)h=r+o>>1,i[e[h]]<c?r=h+1:o=h;c<i[e[r]]&&(r>0&&(t[s]=e[r-1]),e[r]=s)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function Zh(i){const t=i.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Zh(t)}function Dr(i){if(i)for(let t=0;t<i.length;t++)i[t].active=!1}const za=Symbol.for("v-scx"),Ra=()=>Ai(za),Ci={};function Ms(i,t,e){return Xh(i,t,e)}function Xh(i,t,{immediate:e,deep:s,flush:n,once:r,onTrack:o,onTrigger:h}=Y){if(t&&r){const A=t;t=(...U)=>{A(...U),V()}}const l=ct,c=A=>s===!0?A:de(A,s===!1?1:void 0);let a,u=!1,f=!1;if(bt(i)?(a=()=>i.value,u=rn(i)):qe(i)?(a=()=>c(i),u=!0):F(i)?(f=!0,u=i.some(A=>qe(A)||rn(A)),a=()=>i.map(A=>{if(bt(A))return A.value;if(qe(A))return c(A);if(I(A))return ie(A,l,2)})):I(i)?t?a=()=>ie(i,l,2):a=()=>(d&&d(),Lt(i,l,3,[p])):a=yt,t&&s){const A=a;a=()=>de(A())}let d,p=A=>{d=T.onStop=()=>{ie(A,l,4),d=T.onStop=void 0}},g;if(rs)if(p=yt,t?e&&Lt(t,l,3,[a(),f?[]:void 0,p]):a(),n==="sync"){const A=Ra();g=A.__watcherHandles||(A.__watcherHandles=[])}else return yt;let x=f?new Array(i.length).fill(Ci):Ci;const M=()=>{if(!(!T.active||!T.dirty))if(t){const A=T.run();(s||u||(f?A.some((U,K)=>we(U,x[K])):we(A,x)))&&(d&&d(),Lt(t,l,3,[A,x===Ci?void 0:f&&x[0]===Ci?[]:x,p]),x=A)}else T.run()};M.allowRecurse=!!t;let k;n==="sync"?k=M:n==="post"?k=()=>ft(M,l&&l.suspense):(M.pre=!0,l&&(M.id=l.uid),k=()=>Vn(M));const T=new kn(a,yt,k),P=mc(),V=()=>{T.stop(),P&&On(P.effects,T)};return t?e?M():x=T.run():n==="post"?ft(T.run.bind(T),l&&l.suspense):T.run(),g&&g.push(V),V}function ka(i,t,e){const s=this.proxy,n=st(i)?i.includes(".")?Yh(s,i):()=>s[i]:i.bind(s,s);let r;I(t)?r=t:(r=t.handler,e=t);const o=fi(this),h=Xh(n,r.bind(s),e);return o(),h}function Yh(i,t){const e=t.split(".");return()=>{let s=i;for(let n=0;n<e.length&&s;n++)s=s[e[n]];return s}}function de(i,t=1/0,e){if(t<=0||!Q(i)||i.__v_skip||(e=e||new Set,e.has(i)))return i;if(e.add(i),t--,bt(i))de(i.value,t,e);else if(F(i))for(let s=0;s<i.length;s++)de(i[s],t,e);else if(oh(i)||Re(i))i.forEach(s=>{de(s,t,e)});else if(ch(i)){for(const s in i)de(i[s],t,e);for(const s of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,s)&&de(i[s],t,e)}return i}const Qh=i=>i.type.__isKeepAlive;function Pa(i,t){tl(i,"a",t)}function Na(i,t){tl(i,"da",t)}function tl(i,t,e=ct){const s=i.__wdc||(i.__wdc=()=>{let n=e;for(;n;){if(n.isDeactivated)return;n=n.parent}return i()});if(ss(t,s,e),e){let n=e.parent;for(;n&&n.parent;)Qh(n.parent.vnode)&&Aa(s,t,e,n),n=n.parent}}function Aa(i,t,e,s){const n=ss(t,i,s,!0);$h(()=>{On(s[t],n)},e)}function el(i,t){i.shapeFlag&6&&i.component?el(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}const Da=i=>i.__isTeleport,Dt=Symbol.for("v-fgt"),ns=Symbol.for("v-txt"),ri=Symbol.for("v-cmt"),Es=Symbol.for("v-stc"),Ye=[];let Et=null;function Ls(i=!1){Ye.push(Et=i?null:[])}function Fa(){Ye.pop(),Et=Ye[Ye.length-1]||null}let oi=1;function Fr(i){oi+=i}function $a(i){return i.dynamicChildren=oi>0?Et||ze:null,Fa(),oi>0&&Et&&Et.push(i),i}function Os(i,t,e,s,n,r){return $a(te(i,t,e,s,n,r,!0))}function Ba(i){return i?i.__v_isVNode===!0:!1}function Ue(i,t){return i.type===t.type&&i.key===t.key}const il=({key:i})=>i??null,Di=({ref:i,ref_key:t,ref_for:e})=>(typeof i=="number"&&(i=""+i),i!=null?st(i)||bt(i)||I(i)?{i:Bt,r:i,k:t,f:!!e}:i:null);function te(i,t=null,e=null,s=0,n=null,r=i===Dt?0:1,o=!1,h=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&il(t),ref:t&&Di(t),scopeId:Fh,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Bt};return h?(Hn(l,e),r&128&&i.normalize(l)):e&&(l.shapeFlag|=st(e)?8:16),oi>0&&!o&&Et&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Et.push(l),l}const ge=Ia;function Ia(i,t=null,e=null,s=0,n=null,r=!1){if((!i||i===Qc)&&(i=ri),Ba(i)){const h=Ae(i,t,!0);return e&&Hn(h,e),oi>0&&!r&&Et&&(h.shapeFlag&6?Et[Et.indexOf(i)]=h:Et.push(h)),h.patchFlag=-2,h}if(Xa(i)&&(i=i.__vccOpts),t){t=Wa(t);let{class:h,style:l}=t;h&&!st(h)&&(t.class=Rn(h)),Q(l)&&(Th(l)&&!F(l)&&(l=ot({},l)),t.style=zn(l))}const o=st(i)?1:ta(i)?128:Da(i)?64:Q(i)?4:I(i)?2:0;return te(i,t,e,s,n,o,r,!0)}function Wa(i){return i?Th(i)||jh(i)?ot({},i):i:null}function Ae(i,t,e=!1,s=!1){const{props:n,ref:r,patchFlag:o,children:h,transition:l}=i,c=t?ja(n||{},t):n,a={__v_isVNode:!0,__v_skip:!0,type:i.type,props:c,key:c&&il(c),ref:t&&t.ref?e&&r?F(r)?r.concat(Di(t)):[r,Di(t)]:Di(t):r,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:h,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==Dt?o===-1?16:o|16:o,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:l,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Ae(i.ssContent),ssFallback:i.ssFallback&&Ae(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return l&&s&&el(a,l.clone(a)),a}function Va(i=" ",t=0){return ge(ns,null,i,t)}function Ft(i){return i==null||typeof i=="boolean"?ge(ri):F(i)?ge(Dt,null,i.slice()):typeof i=="object"?Qt(i):ge(ns,null,String(i))}function Qt(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Ae(i)}function Hn(i,t){let e=0;const{shapeFlag:s}=i;if(t==null)t=null;else if(F(t))e=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Hn(i,n()),n._c&&(n._d=!0));return}else{e=32;const n=t._;!n&&!jh(t)?t._ctx=Bt:n===3&&Bt&&(Bt.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else I(t)?(t={default:t,_ctx:Bt},e=32):(t=String(t),s&64?(e=16,t=[Va(t)]):e=8);i.children=t,i.shapeFlag|=e}function ja(...i){const t={};for(let e=0;e<i.length;e++){const s=i[e];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=Rn([t.class,s.class]));else if(n==="style")t.style=zn([t.style,s.style]);else if(Xi(n)){const r=t[n],o=s[n];o&&r!==o&&!(F(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=s[n])}return t}function Nt(i,t,e,s=null){Lt(i,t,7,[e,s])}const Ua=Ih();let Ha=0;function Ka(i,t,e){const s=i.type,n=(t?t.appContext:i.appContext)||Ua,r={uid:Ha++,vnode:i,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new dc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hh(s,n),emitsOptions:Dh(s,n),emit:null,emitted:null,propsDefaults:Y,inheritAttrs:s.inheritAttrs,ctx:Y,data:Y,props:Y,attrs:Y,slots:Y,refs:Y,setupState:Y,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Jc.bind(null,r),i.ce&&i.ce(r),r}let ct=null,Ui,fn;{const i=fh(),t=(e,s)=>{let n;return(n=i[e])||(n=i[e]=[]),n.push(s),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};Ui=t("__VUE_INSTANCE_SETTERS__",e=>ct=e),fn=t("__VUE_SSR_SETTERS__",e=>rs=e)}const fi=i=>{const t=ct;return Ui(i),i.scope.on(),()=>{i.scope.off(),Ui(t)}},$r=()=>{ct&&ct.scope.off(),Ui(null)};function sl(i){return i.vnode.shapeFlag&4}let rs=!1;function Ja(i,t=!1){t&&fn(t);const{props:e,children:s}=i.vnode,n=sl(i);_a(i,e,n,t),xa(i,s);const r=n?Ga(i,t):void 0;return t&&fn(!1),r}function Ga(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,fa);const{setup:s}=e;if(s){const n=i.setupContext=s.length>1?Za(i):null,r=fi(i);re();const o=ie(s,i,0,[i.props,n]);if(oe(),r(),hh(o)){if(o.then($r,$r),t)return o.then(h=>{Br(i,h,t)}).catch(h=>{es(h,i,0)});i.asyncDep=o}else Br(i,o,t)}else nl(i,t)}function Br(i,t,e){I(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:Q(t)&&(i.setupState=Rh(t)),nl(i,e)}let Ir;function nl(i,t,e){const s=i.type;if(!i.render){if(!t&&Ir&&!s.render){const n=s.template||jn(i).template;if(n){const{isCustomElement:r,compilerOptions:o}=i.appContext.config,{delimiters:h,compilerOptions:l}=s,c=ot(ot({isCustomElement:r,delimiters:h},o),l);s.render=Ir(n,c)}}i.render=s.render||yt}{const n=fi(i);re();try{da(i)}finally{oe(),n()}}}const qa={get(i,t){return mt(i,"get",""),i[t]}};function Za(i){const t=e=>{i.exposed=e||{}};return{attrs:new Proxy(i.attrs,qa),slots:i.slots,emit:i.emit,expose:t}}function Kn(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Rh(Dc(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in Ze)return Ze[e](i)},has(t,e){return e in t||e in Ze}})):i.proxy}function Xa(i){return I(i)&&"__vccOpts"in i}const Ya=(i,t)=>Fc(i,t,rs),Qa="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const tu="http://www.w3.org/2000/svg",eu="http://www.w3.org/1998/Math/MathML",Vt=typeof document<"u"?document:null,Wr=Vt&&Vt.createElement("template"),iu={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,s)=>{const n=t==="svg"?Vt.createElementNS(tu,i):t==="mathml"?Vt.createElementNS(eu,i):e?Vt.createElement(i,{is:e}):Vt.createElement(i);return i==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:i=>Vt.createTextNode(i),createComment:i=>Vt.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Vt.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,e,s,n,r){const o=e?e.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),e),!(n===r||!(n=n.nextSibling)););else{Wr.innerHTML=s==="svg"?`<svg>${i}</svg>`:s==="mathml"?`<math>${i}</math>`:i;const h=Wr.content;if(s==="svg"||s==="mathml"){const l=h.firstChild;for(;l.firstChild;)h.appendChild(l.firstChild);h.removeChild(l)}t.insertBefore(h,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},su=Symbol("_vtc");function nu(i,t,e){const s=i[su];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}const Vr=Symbol("_vod"),ru=Symbol("_vsh"),ou=Symbol(""),hu=/(^|;)\s*display\s*:/;function lu(i,t,e){const s=i.style,n=st(e);let r=!1;if(e&&!n){if(t)if(st(t))for(const o of t.split(";")){const h=o.slice(0,o.indexOf(":")).trim();e[h]==null&&Fi(s,h,"")}else for(const o in t)e[o]==null&&Fi(s,o,"");for(const o in e)o==="display"&&(r=!0),Fi(s,o,e[o])}else if(n){if(t!==e){const o=s[ou];o&&(e+=";"+o),s.cssText=e,r=hu.test(e)}}else t&&i.removeAttribute("style");Vr in i&&(i[Vr]=r?s.display:"",i[ru]&&(s.display="none"))}const jr=/\s*!important$/;function Fi(i,t,e){if(F(e))e.forEach(s=>Fi(i,t,s));else if(e==null&&(e=""),t.startsWith("--"))i.setProperty(t,e);else{const s=cu(i,t);jr.test(e)?i.setProperty($e(s),e.replace(jr,""),"important"):i[s]=e}}const Ur=["Webkit","Moz","ms"],Ts={};function cu(i,t){const e=Ts[t];if(e)return e;let s=Ne(t);if(s!=="filter"&&s in i)return Ts[t]=s;s=ah(s);for(let n=0;n<Ur.length;n++){const r=Ur[n]+s;if(r in i)return Ts[t]=r}return t}const Hr="http://www.w3.org/1999/xlink";function Kr(i,t,e,s,n,r=fc(t)){s&&t.startsWith("xlink:")?e==null?i.removeAttributeNS(Hr,t.slice(6,t.length)):i.setAttributeNS(Hr,t,e):e==null||r&&!dh(e)?i.removeAttribute(t):i.setAttribute(t,r?"":ne(e)?String(e):e)}function au(i,t,e,s,n,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,n,r),i[t]=e??"";return}const h=i.tagName;if(t==="value"&&h!=="PROGRESS"&&!h.includes("-")){const c=h==="OPTION"?i.getAttribute("value")||"":i.value,a=e==null?"":String(e);(c!==a||!("_value"in i))&&(i.value=a),e==null&&i.removeAttribute(t),i._value=e;return}let l=!1;if(e===""||e==null){const c=typeof i[t];c==="boolean"?e=dh(e):e==null&&c==="string"?(e="",l=!0):c==="number"&&(e=0,l=!0)}try{i[t]=e}catch{}l&&i.removeAttribute(t)}function uu(i,t,e,s){i.addEventListener(t,e,s)}function fu(i,t,e,s){i.removeEventListener(t,e,s)}const Jr=Symbol("_vei");function du(i,t,e,s,n=null){const r=i[Jr]||(i[Jr]={}),o=r[t];if(s&&o)o.value=s;else{const[h,l]=pu(t);if(s){const c=r[t]=bu(s,n);uu(i,h,c,l)}else o&&(fu(i,h,o,l),r[t]=void 0)}}const Gr=/(?:Once|Passive|Capture)$/;function pu(i){let t;if(Gr.test(i)){t={};let s;for(;s=i.match(Gr);)i=i.slice(0,i.length-s[0].length),t[s[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):$e(i.slice(2)),t]}let zs=0;const mu=Promise.resolve(),gu=()=>zs||(mu.then(()=>zs=0),zs=Date.now());function bu(i,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;Lt(vu(s,e.value),t,5,[s])};return e.value=i,e.attached=gu(),e}function vu(i,t){if(F(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const qr=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,wu=(i,t,e,s,n,r,o,h,l)=>{const c=n==="svg";t==="class"?nu(i,s,c):t==="style"?lu(i,e,s):Xi(t)?Ln(t)||du(i,t,e,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yu(i,t,s,c))?(au(i,t,s,r,o,h,l),!i.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Kr(i,t,s,c,o,t!=="value")):(t==="true-value"?i._trueValue=s:t==="false-value"&&(i._falseValue=s),Kr(i,t,s,c))};function yu(i,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in i&&qr(t)&&I(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=i.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qr(t)&&st(e)?!1:t in i}const _u=ot({patchProp:wu},iu);let Zr;function Su(){return Zr||(Zr=Ea(_u))}const Cu=(...i)=>{const t=Su().createApp(...i),{mount:e}=t;return t.mount=s=>{const n=Mu(s);if(!n)return;const r=t._component;!I(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=e(n,!1,xu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function xu(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function Mu(i){return st(i)?document.querySelector(i):i}function X(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function be(i,t){return i.width===t.width&&i.height===t.height}var Eu=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(n){return n!==s})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function Lu(i){return new Eu(i)}var Ou=function(){function i(t,e,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=X({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(n=s==null?void 0:s.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return X({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=X(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;be(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=X(this._transformBitmapSize(t,this._canvasElementClientSize)),n=be(this.bitmapSize,s)?null:s;e===null&&n===null||e!==null&&n!==null&&be(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}zu().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Xr(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Lu(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=Xr(this._canvasElement);if(s!==null){var n=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?Ru(r[0],n):X({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(o){return o.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var n=s.devicePixelContentBoxSize[0],r=X({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function Tu(i,t){if(t.type==="device-pixel-content-box")return new Ou(i,t.transform,t.options);throw new Error("Unsupported binding target")}function Xr(i){return i.ownerDocument.defaultView}function zu(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Ru(i,t){return X({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var ku=function(){function i(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function ye(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=i.bitmapSize;if(s.width===0||s.height===0)return null;var n=i.canvasElement.getContext("2d",t);return n===null?null:new ku(n,e,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.1.6
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Pu={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Nu={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Au={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Du={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fu={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$u={color:"#26a69a",base:0},rl={color:"#2196f3"},ol={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Yr,Qr;function _e(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function hl(i,t,e,s){i.beginPath();const n=i.lineWidth%2?.5:0;i.moveTo(e,t+n),i.lineTo(s,t+n),i.stroke()}function se(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function at(i){if(i===void 0)throw new Error("Value is undefined");return i}function C(i){if(i===null)throw new Error("Value is null");return i}function Oe(i){return C(at(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(Yr||(Yr={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(Qr||(Qr={}));const to={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function wt(i){return i<0?0:i>255?255:Math.round(i)||0}function ll(i){return i<=0||i>1?Math.min(Math.max(i,0),1):Math.round(1e4*i)/1e4}const Bu=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Iu=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Wu=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Vu=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Hi(i){(i=i.toLowerCase())in to&&(i=to[i]);{const t=Vu.exec(i)||Wu.exec(i);if(t)return[wt(parseInt(t[1],10)),wt(parseInt(t[2],10)),wt(parseInt(t[3],10)),ll(t.length<5?1:parseFloat(t[4]))]}{const t=Iu.exec(i);if(t)return[wt(parseInt(t[1],16)),wt(parseInt(t[2],16)),wt(parseInt(t[3],16)),1]}{const t=Bu.exec(i);if(t)return[wt(17*parseInt(t[1],16)),wt(17*parseInt(t[2],16)),wt(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${i}`)}function os(i){const t=Hi(i);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}class tt{constructor(){this.h=[]}l(t,e,s){const n={o:t,_:e,u:s===!0};this.h.push(n)}v(t){const e=this.h.findIndex(s=>t===s.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,s){const n=[...this.h];this.h=this.h.filter(r=>!r.u),n.forEach(r=>r.o(t,e,s))}M(){return this.h.length>0}S(){this.h=[]}}function Tt(i,...t){for(const e of t)for(const s in e)e[s]!==void 0&&(typeof e[s]!="object"||i[s]===void 0||Array.isArray(e[s])?i[s]=e[s]:Tt(i[s],e[s]));return i}function It(i){return typeof i=="number"&&isFinite(i)}function hi(i){return typeof i=="number"&&i%1==0}function di(i){return typeof i=="string"}function xi(i){return typeof i=="boolean"}function jt(i){const t=i;if(!t||typeof t!="object")return t;let e,s,n;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(n=t[s],e[s]=n&&typeof n=="object"?jt(n):n);return e}function ju(i){return i!==null}function li(i){return i===null?void 0:i}const Jn="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function De(i,t,e){return t===void 0&&(t=Jn),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}class Uu{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",B:0,V:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),s=this.H();return t.P===e&&t.D===s||(t.P=e,t.D=s,t.R=De(e,s),t.L=2.5/12*e,t.B=t.L,t.V=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}let Gn=class{constructor(){this.Y=[]}X(t){this.Y=t}K(t,e,s){this.Y.forEach(n=>{n.K(t,e,s)})}};class zt{K(t,e,s){t.useBitmapCoordinateSpace(n=>this.Z(n,e,s))}}class Hu extends zt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.G===null||this.G.tt===null)return;const n=this.G.tt,r=this.G,o=Math.max(1,Math.floor(e))%2/2,h=l=>{t.beginPath();for(let c=n.to-1;c>=n.from;--c){const a=r.it[c],u=Math.round(a.nt*e)+o,f=a.st*s,d=l*s+o;t.moveTo(u,f),t.arc(u,f,d,0,2*Math.PI)}t.fill()};r.et>0&&(t.fillStyle=r.rt,h(r.ht+r.et)),t.fillStyle=r.lt,h(r.ht)}}function Ku(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const Ju={from:0,to:1};class Gu{constructor(t,e){this.ut=new Gn,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.X(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(Ku),this.ct=this.dt.map(s=>{const n=new Hu;return n.J(s),n}),this.ut.X(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,e=this.F.wt(),s=this.vt.xt(),n=this.F.St();e.forEach((r,o)=>{var h;const l=this.dt[o],c=r.kt(s);if(t||c===null||!r.yt())return void(l.tt=null);const a=C(r.Ct());l.lt=c.Tt,l.ht=c.ht,l.et=c.Pt,l.it[0]._t=c._t,l.it[0].st=r.Dt().Rt(c._t,a.Ot),l.rt=(h=c.At)!==null&&h!==void 0?h:this.F.Bt(l.it[0].st/r.Dt().Vt()),l.it[0].ot=s,l.it[0].nt=n.It(s),l.tt=Ju})}}let qu=class extends zt{constructor(t){super(),this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const h=Math.round(this.zt.nt*s),l=Math.round(this.zt.st*n);t.lineCap="butt",r&&h>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*s),t.strokeStyle=this.zt.Lt.O,t.fillStyle=this.zt.Lt.O,_e(t,this.zt.Lt.Nt),function(c,a,u,f){c.beginPath();const d=c.lineWidth%2?.5:0;c.moveTo(a+d,u),c.lineTo(a+d,f),c.stroke()}(t,h,0,e.height)),o&&l>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*n),t.strokeStyle=this.zt.Et.O,t.fillStyle=this.zt.Et.O,_e(t,this.zt.Et.Nt),hl(t,l,0,e.width))}};class Zu{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,O:"",yt:!1},Et:{et:1,Nt:0,O:"",yt:!1},nt:0,st:0},this.Wt=new qu(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=C(this.jt.Ht()),s=e.$t().W().crosshair,n=this.Ft;if(s.mode===2)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=t&&this.jt.Ut(e),n.Lt.yt=t&&this.jt.qt(),n.Et.et=s.horzLine.width,n.Et.Nt=s.horzLine.style,n.Et.O=s.horzLine.color,n.Lt.et=s.vertLine.width,n.Lt.Nt=s.vertLine.style,n.Lt.O=s.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Xt()}}function Xu(i,t,e,s,n,r){i.fillRect(t+r,e,s-2*r,r),i.fillRect(t+r,e+n-r,s-2*r,r),i.fillRect(t,e,r,n),i.fillRect(t+s-r,e,r,n)}function hs(i,t,e,s,n,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,s,n),i.restore()}function eo(i,t,e,s,n,r){i.beginPath(),i.roundRect?i.roundRect(t,e,s,n,r):(i.lineTo(t+s-r[1],e),r[1]!==0&&i.arcTo(t+s,e,t+s,e+r[1],r[1]),i.lineTo(t+s,e+n-r[2]),r[2]!==0&&i.arcTo(t+s,e+n,t+s-r[2],e+n,r[2]),i.lineTo(t+r[3],e+n),r[3]!==0&&i.arcTo(t,e+n,t,e+n-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0]))}function io(i,t,e,s,n,r,o=0,h=[0,0,0,0],l=""){if(i.save(),!o||!l||l===r)return eo(i,t,e,s,n,h),i.fillStyle=r,i.fill(),void i.restore();const c=o/2;var a;eo(i,t+c,e+c,s-o,n-o,(a=-c,h.map(u=>u===0?u:u+a))),r!=="transparent"&&(i.fillStyle=r,i.fill()),l!=="transparent"&&(i.lineWidth=o,i.strokeStyle=l,i.closePath(),i.stroke()),i.restore()}function cl(i,t,e,s,n,r,o){i.save(),i.globalCompositeOperation="copy";const h=i.createLinearGradient(0,0,0,n);h.addColorStop(0,r),h.addColorStop(1,o),i.fillStyle=h,i.fillRect(t,e,s,n),i.restore()}class so{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Kt=e}Vt(t,e){return this.zt.yt?t.P+t.L+t.B:0}K(t,e,s,n){if(!this.zt.yt||this.zt.Zt.length===0)return;const r=this.zt.O,o=this.Kt.t,h=t.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=e.R;const a=this.Gt(l,e,s,n),u=a.Jt,f=(d,p)=>{a.Qt?io(c,u.ti,u.ii,u.ni,u.si,d,u.ei,[u.ht,0,0,u.ht],p):io(c,u.ri,u.ii,u.ni,u.si,d,u.ei,[0,u.ht,u.ht,0],p)};return f(o,"transparent"),this.zt.hi&&(c.fillStyle=r,c.fillRect(u.ri,u.li,u.ai-u.ri,u.oi)),f("transparent",o),this.zt._i&&(c.fillStyle=e.A,c.fillRect(a.Qt?u.ui-u.ei:0,u.ii,u.ei,u.ci-u.ii)),a});t.useMediaCoordinateSpace(({context:l})=>{const c=h.di;l.font=e.R,l.textAlign=h.Qt?"right":"left",l.textBaseline="middle",l.fillStyle=r,l.fillText(this.zt.Zt,c.fi,(c.ii+c.ci)/2+c.pi)})}Gt(t,e,s,n){var r;const{context:o,bitmapSize:h,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:a}=t,u=this.zt.hi||!this.zt.mi?e.T:0,f=this.zt.bi?e.C:0,d=e.L+this.Kt.wi,p=e.B+this.Kt.gi,g=e.V,x=e.I,M=this.zt.Zt,k=e.P,T=s.Mi(o,M),P=Math.ceil(s.xi(o,M)),V=k+d+p,A=e.C+g+x+P+u,U=Math.max(1,Math.floor(a));let K=Math.round(V*a);K%2!=U%2&&(K+=1);const vt=f>0?Math.max(1,Math.floor(f*c)):0,ut=Math.round(A*c),Jt=Math.round(u*c),Me=(r=this.Kt.Si)!==null&&r!==void 0?r:this.Kt.ki,he=Math.round(Me*a)-Math.floor(.5*a),le=Math.floor(he+U/2-K/2),We=le+K,et=n==="right",q=et?l.width-f:f,H=et?h.width-vt:vt;let St,Gt,Ct;return et?(St=H-ut,Gt=H-Jt,Ct=q-u-g-f):(St=H+ut,Gt=H+Jt,Ct=q+u+g),{Qt:et,Jt:{ii:le,li:he,ci:We,ni:ut,si:K,ht:2*c,ei:vt,ti:St,ri:H,ai:Gt,oi:U,ui:h.width},di:{ii:le/a,ci:We/a,fi:Ct,pi:T}}}}class ls{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Zt:"",yt:!1,hi:!0,mi:!1,At:"",O:"#FFF",_i:!1,bi:!1},this.Ti={Zt:"",yt:!1,hi:!1,mi:!0,At:"",O:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||so)(this.Ci,this.yi),this.Ri=new(t||so)(this.Ti,this.yi)}Zt(){return this.Di(),this.Ci.Zt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}Vt(t,e=!1){return Math.max(this.Pi.Vt(t,e),this.Ri.Vt(t,e))}Oi(){return this.yi.Si||0}Ai(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Vi(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class Yu extends ls{constructor(t,e,s){super(),this.jt=t,this.Li=e,this.Ei=s}zi(t,e,s){if(t.yt=!1,this.jt.W().mode===2)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const o=os(n.labelBackgroundColor);s.t=o.t,t.O=o.i;const h=2/12*this.Li.P();s.wi=h,s.gi=h;const l=this.Ei(this.Li);s.ki=l.ki,t.Zt=this.Li.Fi(l._t,r),t.yt=!0}}const Qu=/[1-9]/g;class al{constructor(){this.zt=null}J(t){this.zt=t}K(t,e){if(this.zt===null||this.zt.yt===!1||this.zt.Zt.length===0)return;const s=t.useMediaCoordinateSpace(({context:f})=>(f.font=e.R,Math.round(e.Wi.xi(f,C(this.zt).Zt,Qu))));if(s<=0)return;const n=e.ji,r=s+2*n,o=r/2,h=this.zt.Hi;let l=this.zt.ki,c=Math.floor(l-o)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-o)+.5):c+r>h&&(l-=Math.abs(h-(c+r)),c=Math.floor(l-o)+.5);const a=c+r,u=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:p})=>{const g=C(this.zt);f.fillStyle=g.t;const x=Math.round(c*d),M=Math.round(0*p),k=Math.round(a*d),T=Math.round(u*p),P=Math.round(2*d);if(f.beginPath(),f.moveTo(x,M),f.lineTo(x,T-P),f.arcTo(x,T,x+P,T,P),f.lineTo(k-P,T),f.arcTo(k,T,k,T-P,P),f.lineTo(k,M),f.fill(),g.hi){const V=Math.round(g.ki*d),A=M,U=Math.round((A+e.T)*p);f.fillStyle=g.O;const K=Math.max(1,Math.floor(d)),vt=Math.floor(.5*d);f.fillRect(V-vt,A,K,U-A)}}),t.useMediaCoordinateSpace(({context:f})=>{const d=C(this.zt),p=0+e.C+e.T+e.L+e.P/2;f.font=e.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=d.O;const g=e.Wi.Mi(f,"Apr0");f.translate(c+n,p+g),f.fillText(d.Zt,0,0)})}}class tf{constructor(t,e,s){this.ft=!0,this.Wt=new al,this.Ft={yt:!1,t:"#4c525e",O:"white",Zt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const s=this.$i.St();if(s.Ni())return;t.Hi=s.Hi();const n=this.Ei();if(n===null)return;t.ki=n.ki;const r=s.Ui(this.vt.xt());t.Zt=s.qi(C(r)),t.yt=!0;const o=os(e.labelBackgroundColor);t.t=o.t,t.O=o.i,t.hi=s.W().ticksVisible}}class qn{constructor(){this.Yi=null,this.Xi=0}Ki(){return this.Xi}Zi(t){this.Xi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var Ki;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden"})(Ki||(Ki={}));class ef extends qn{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new Gu(t,this),this.fn=((n,r)=>o=>{const h=r(),l=n();if(o===C(this.tn).vn())return{_t:l,ki:h};{const c=C(o.Ct());return{_t:o.pn(h,c),ki:h}}})(()=>this.nn,()=>this.an);const s=((n,r)=>()=>{const o=this.$i.St().mn(n()),h=r();return o&&Number.isFinite(h)?{ot:o,ki:h}:null})(()=>this.sn,()=>this.Yt());this.bn=new tf(this,t,s),this.wn=new Zu(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,s){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,s)}xt(){return this.sn}Yt(){return this.ln}Xt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return this.tn!==null?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const s=[];return this.tn===t&&s.push(this.Dn(this.rn,e,this.fn)),s}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}On(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}An(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,s){this.Bn(t,e,s)&&this.On()}Bn(t,e,s){const n=this.ln,r=this.an,o=this.nn,h=this.sn,l=this.tn,c=this.An(s);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=s;const a=c!==null?c.Ct():null;return c!==null&&a!==null?(this.nn=e,this.an=c.Rt(e,a)):(this.nn=NaN,this.an=NaN),n!==this.ln||r!==this.an||h!==this.sn||o!==this.nn||l!==this.tn}Tn(){const t=this.$i.wt().map(s=>s.In().Vn()).filter(ju),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Dn(t,e,s){let n=t.get(e);return n===void 0&&(n=new Yu(this,e,s),t.set(e,n)),n}}function cs(i){return i==="left"||i==="right"}class rt{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const s=function(n,r){return n===void 0?r:{Fn:Math.max(n.Fn,r.Fn),Wn:n.Wn||r.Wn}}(this.zn.get(t),e);this.zn.set(t,s)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return e===void 0?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Ot:t}]}Xn(t){this.Kn(),this.Ln.push({qn:5,Ot:t})}Un(){this.Kn(),this.Ln.push({qn:6})}Zn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Ot:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Ot:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((e,s)=>{this.Nn(s,e)})}static ss(){return new rt(2)}static es(){return new rt(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Ot);break;case 2:this.Gn(t.Ot);break;case 3:this.Jn(t.Ot);break;case 4:this.Zn();break;case 5:this.Xn(t.Ot);break;case 6:this.Kn()}}Kn(){const t=this.Ln.findIndex(e=>e.qn===5);t!==-1&&this.Ln.splice(t,1)}}const no=".";function Ut(i,t){if(!It(i))return"n/a";if(!hi(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class as{constructor(t,e){if(e||(e=1),It(t)&&hi(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const e=this.Li/this.rs;let s=Math.floor(t),n="";const r=this.os!==void 0?this.os:NaN;if(e>1){let o=+(Math.round(t*e)-s*e).toFixed(this.os);o>=e&&(o-=e,s+=1),n=no+Ut(+o.toFixed(this.os)*this.rs,r)}else s=Math.round(s*e)/e,r>0&&(n=no+Ut(0,r));return s.toFixed(0)+n}}class ul extends as{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class sf{constructor(t){this._s=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.us(t):t<999995?e+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.us(t/1e9)+"B")}us(t){let e;const s=Math.pow(10,this._s);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}function fl(i,t,e,s,n,r,o){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:h,horizontalPixelRatio:l,verticalPixelRatio:c}=i,a=t[s.from];let u=r(i,a),f=a;if(s.to-s.from<2){const d=n/2;h.beginPath();const p={nt:a.nt-d,st:a.st},g={nt:a.nt+d,st:a.st};h.moveTo(p.nt*l,p.st*c),h.lineTo(g.nt*l,g.st*c),o(i,u,p,g)}else{const d=(g,x)=>{o(i,u,f,x),h.beginPath(),u=g,f=x};let p=f;h.beginPath(),h.moveTo(a.nt*l,a.st*c);for(let g=s.from+1;g<s.to;++g){p=t[g];const x=r(i,p);switch(e){case 0:h.lineTo(p.nt*l,p.st*c);break;case 1:h.lineTo(p.nt*l,t[g-1].st*c),x!==u&&(d(x,p),h.lineTo(p.nt*l,t[g-1].st*c)),h.lineTo(p.nt*l,p.st*c);break;case 2:{const[M,k]=nf(t,g-1,g);h.bezierCurveTo(M.nt*l,M.st*c,k.nt*l,k.st*c,p.nt*l,p.st*c);break}}e!==1&&x!==u&&(d(x,p),h.moveTo(p.nt*l,p.st*c))}(f!==p||f===p&&e===1)&&o(i,u,f,p)}}const ro=6;function Rs(i,t){return{nt:i.nt-t.nt,st:i.st-t.st}}function oo(i,t){return{nt:i.nt/t,st:i.st/t}}function nf(i,t,e){const s=Math.max(0,t-1),n=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=oo(Rs(i[e],i[s]),ro),{nt:r.nt+o.nt,st:r.st+o.st}),Rs(i[e],oo(Rs(i[n],i[t]),ro))]}function rf(i,t,e,s,n){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:h}=t;r.lineTo(n.nt*o,i*h),r.lineTo(s.nt*o,i*h),r.closePath(),r.fillStyle=e,r.fill()}let dl=class extends zt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){var e;if(this.G===null)return;const{it:s,tt:n,cs:r,et:o,Nt:h,ds:l}=this.G,c=(e=this.G.fs)!==null&&e!==void 0?e:this.G.vs?0:t.mediaSize.height;if(n===null)return;const a=t.context;a.lineCap="butt",a.lineJoin="round",a.lineWidth=o,_e(a,h),a.lineWidth=1,fl(t,s,l,n,r,this.ps.bind(this),rf.bind(null,c))}};function dn(i,t,e){return Math.min(Math.max(i,t),e)}function Mi(i,t,e){return t-i<=e}function pl(i){const t=Math.ceil(i);return t%2==0?t-1:t}let Zn=class{bs(t,e){const s=this.ws,{gs:n,Ms:r,xs:o,Ss:h,ks:l,fs:c}=e;if(this.ys===void 0||s===void 0||s.gs!==n||s.Ms!==r||s.xs!==o||s.Ss!==h||s.fs!==c||s.ks!==l){const a=t.context.createLinearGradient(0,0,0,l);if(a.addColorStop(0,n),c!=null){const u=dn(c*t.verticalPixelRatio/l,0,1);a.addColorStop(u,r),a.addColorStop(u,o)}a.addColorStop(1,h),this.ys=a,this.ws=e}return this.ys}},of=class extends dl{constructor(){super(...arguments),this.Cs=new Zn}ps(t,e){return this.Cs.bs(t,{gs:e.Ts,Ms:"",xs:"",Ss:e.Ps,ks:t.bitmapSize.height})}};function hf(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}let ml=class extends zt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){if(this.G===null)return;const{it:e,tt:s,cs:n,ds:r,et:o,Nt:h,Rs:l}=this.G;if(s===null)return;const c=t.context;c.lineCap="butt",c.lineWidth=o*t.verticalPixelRatio,_e(c,h),c.lineJoin="round";const a=this.Ds.bind(this);r!==void 0&&fl(t,e,r,s,n,a,hf),l&&function(u,f,d,p,g){const{horizontalPixelRatio:x,verticalPixelRatio:M,context:k}=u;let T=null;const P=Math.max(1,Math.floor(x))%2/2,V=d*M+P;for(let A=p.to-1;A>=p.from;--A){const U=f[A];if(U){const K=g(u,U);K!==T&&(k.beginPath(),T!==null&&k.fill(),k.fillStyle=K,T=K);const vt=Math.round(U.nt*x)+P,ut=U.st*M;k.moveTo(vt,ut),k.arc(vt,ut,V,0,2*Math.PI)}}k.fill()}(t,e,l,s,a)}};class gl extends ml{Ds(t,e){return e.lt}}function bl(i,t,e,s,n=0,r=t.length){let o=r-n;for(;0<o;){const h=o>>1,l=n+h;s(t[l],e)===i?(n=l+1,o-=h+1):o=h}return n}const pi=bl.bind(null,!0),vl=bl.bind(null,!1);function lf(i,t){return i.ot<t}function cf(i,t){return t<i.ot}function wl(i,t,e){const s=t.Os(),n=t.ui(),r=pi(i,s,lf),o=vl(i,n,cf);if(!e)return{from:r,to:o};let h=r,l=o;return r>0&&r<i.length&&i[r].ot>=s&&(h=r-1),o>0&&o<i.length&&i[o-1].ot<=n&&(l=o+1),{from:h,to:l}}class Xn{constructor(t,e,s){this.As=!0,this.Bs=!0,this.Vs=!0,this.Is=[],this.zs=null,this.Ls=t,this.Es=e,this.Ns=s}bt(t){this.As=!0,t==="data"&&(this.Bs=!0),t==="options"&&(this.Vs=!0)}gt(){return this.Ls.yt()?(this.Fs(),this.zs===null?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Ls.$s().Hs(t.ot)))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.Vs&&(this.js(),this.Vs=!1),this.As&&(this.Ys(),this.As=!1)}Ys(){const t=this.Ls.Dt(),e=this.Es.St();if(this.Us(),e.Ni()||t.Ni())return;const s=e.Xs();if(s===null||this.Ls.In().Ks()===0)return;const n=this.Ls.Ct();n!==null&&(this.zs=wl(this.Is,s,this.Ns),this.Zs(t,e,n.Ot),this.Gs())}}class us extends Xn{constructor(t,e){super(t,e,!0)}Zs(t,e,s){e.Js(this.Is,li(this.zs)),t.Qs(this.Is,s,li(this.zs))}te(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>{const s=e.Ot[3];return this.ne(e.se,s,t)})}}class af extends us{constructor(t,e){super(t,e),this.Ws=new Gn,this.ee=new of,this.re=new gl,this.Ws.X([this.ee,this.re])}ne(t,e,s){return Object.assign(Object.assign({},this.te(t,e)),s.Hs(t))}Gs(){const t=this.Ls.W();this.ee.J({ds:t.lineType,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,fs:null,vs:t.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:t.lineVisible?t.lineType:void 0,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class uf extends zt{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(t){this.zt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.le=this.oe(e),this.le>=2&&Math.max(1,Math.floor(e))%2!=this.le%2&&this.le--,this.ae=this.zt._e?Math.min(this.le,Math.floor(e)):this.le;let n=null;const r=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const h=this.zt.In[o];n!==h.ue&&(t.fillStyle=h.ue,n=h.ue);const l=Math.floor(.5*this.ae),c=Math.round(h.nt*e),a=c-l,u=this.ae,f=a+u-1,d=Math.min(h.ce,h.de),p=Math.max(h.ce,h.de),g=Math.round(d*s)-l,x=Math.round(p*s)+l,M=Math.max(x-g,this.ae);t.fillRect(a,g,u,M);const k=Math.ceil(1.5*this.le);if(r){if(this.zt.fe){const A=c-k;let U=Math.max(g,Math.round(h.ve*s)-l),K=U+u-1;K>g+M-1&&(K=g+M-1,U=K-u+1),t.fillRect(A,U,a-A,K-U+1)}const T=c+k;let P=Math.max(g,Math.round(h.pe*s)-l),V=P+u-1;V>g+M-1&&(V=g+M-1,P=V-u+1),t.fillRect(f+1,P,T-f,V-P+1)}}}oe(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,n){return Math.floor(.3*s*n)}(C(this.zt).he,t)))}}class yl extends Xn{constructor(t,e){super(t,e,!1)}Zs(t,e,s){e.Js(this.Is,li(this.zs)),t.me(this.Is,s,li(this.zs))}be(t,e,s){return{ot:t,we:e.Ot[0],ge:e.Ot[1],Me:e.Ot[2],xe:e.Ot[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>this.ne(e.se,e,t))}}class ff extends yl{constructor(){super(...arguments),this.Ws=new uf}ne(t,e,s){return Object.assign(Object.assign({},this.be(t,e,s)),s.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:t.openVisible,_e:t.thinBars,tt:this.zs})}}class df extends dl{constructor(){super(...arguments),this.Cs=new Zn}ps(t,e){const s=this.G;return this.Cs.bs(t,{gs:e.Se,Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:t.bitmapSize.height,fs:s.fs})}}class pf extends ml{constructor(){super(...arguments),this.Te=new Zn}Ds(t,e){const s=this.G;return this.Te.bs(t,{gs:e.Pe,Ms:e.Pe,xs:e.Re,Ss:e.Re,ks:t.bitmapSize.height,fs:s.fs})}}class mf extends us{constructor(t,e){super(t,e),this.Ws=new Gn,this.De=new df,this.Oe=new pf,this.Ws.X([this.De,this.Oe])}ne(t,e,s){return Object.assign(Object.assign({},this.te(t,e)),s.Hs(t))}Gs(){const t=this.Ls.Ct();if(t===null)return;const e=this.Ls.W(),s=this.Ls.Dt().Rt(e.baseValue.price,t.Ot),n=this.Es.St().he();this.De.J({it:this.Is,et:e.lineWidth,Nt:e.lineStyle,ds:e.lineType,fs:s,vs:!1,tt:this.zs,cs:n}),this.Oe.J({it:this.Is,et:e.lineWidth,Nt:e.lineStyle,ds:e.lineVisible?e.lineType:void 0,Rs:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,fs:s,tt:this.zs,cs:n})}}class gf extends zt{constructor(){super(...arguments),this.zt=null,this.le=0}J(t){this.zt=t}Z(t){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:e}=t;this.le=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const h=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),l=Math.floor(r*h*o),c=Math.floor(r*o),a=Math.min(l,c);return Math.max(Math.floor(o),a)}(this.zt.he,e),this.le>=2&&Math.floor(e)%2!=this.le%2&&this.le--;const s=this.zt.In;this.zt.Ae&&this.Be(t,s,this.zt.tt),this.zt._i&&this.Ve(t,s,this.zt.tt);const n=this.Ie(e);(!this.zt._i||this.le>2*n)&&this.ze(t,s,this.zt.tt)}Be(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let h="",l=Math.min(Math.floor(r),Math.floor(this.zt.he*r));l=Math.max(Math.floor(r),Math.min(l,this.le));const c=Math.floor(.5*l);let a=null;for(let u=s.from;u<s.to;u++){const f=e[u];f.Le!==h&&(n.fillStyle=f.Le,h=f.Le);const d=Math.round(Math.min(f.ve,f.pe)*o),p=Math.round(Math.max(f.ve,f.pe)*o),g=Math.round(f.ce*o),x=Math.round(f.de*o);let M=Math.round(r*f.nt)-c;const k=M+l-1;a!==null&&(M=Math.max(a+1,M),M=Math.min(M,k));const T=k-M+1;n.fillRect(M,g,T,d-g),n.fillRect(M,p+1,T,x-p),a=k}}Ie(t){let e=Math.floor(1*t);this.le<=2*e&&(e=Math.floor(.5*(this.le-1)));const s=Math.max(Math.floor(t),e);return this.le<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}Ve(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let h="";const l=this.Ie(r);let c=null;for(let a=s.from;a<s.to;a++){const u=e[a];u.Ee!==h&&(n.fillStyle=u.Ee,h=u.Ee);let f=Math.round(u.nt*r)-Math.floor(.5*this.le);const d=f+this.le-1,p=Math.round(Math.min(u.ve,u.pe)*o),g=Math.round(Math.max(u.ve,u.pe)*o);if(c!==null&&(f=Math.max(c+1,f),f=Math.min(f,d)),this.zt.he*r>2*l)Xu(n,f,p,d-f+1,g-p+1,l);else{const x=d-f+1;n.fillRect(f,p,x,g-p+1)}c=d}}ze(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let h="";const l=this.Ie(r);for(let c=s.from;c<s.to;c++){const a=e[c];let u=Math.round(Math.min(a.ve,a.pe)*o),f=Math.round(Math.max(a.ve,a.pe)*o),d=Math.round(a.nt*r)-Math.floor(.5*this.le),p=d+this.le-1;if(a.ue!==h){const g=a.ue;n.fillStyle=g,h=g}this.zt._i&&(d+=l,u+=l,p-=l,f-=l),u>f||n.fillRect(d,u,p-d+1,f-u+1)}}}class bf extends yl{constructor(){super(...arguments),this.Ws=new gf}ne(t,e,s){return Object.assign(Object.assign({},this.be(t,e,s)),s.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Ae:t.wickVisible,_i:t.borderVisible,tt:this.zs})}}class vf{constructor(t,e){this.Ne=t,this.Li=e}K(t,e,s){this.Ne.draw(t,this.Li,e,s)}}class ks extends Xn{constructor(t,e,s){super(t,e,!1),this.wn=s,this.Ws=new vf(this.wn.renderer(),n=>{const r=t.Ct();return r===null?null:t.Dt().Rt(n,r.Ot)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>Object.assign(Object.assign({ot:e.se,nt:NaN},t.Hs(e.se)),{je:e.He}))}Zs(t,e){e.Js(this.Is,li(this.zs))}Gs(){this.wn.update({bars:this.Is.map(wf),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}}function wf(i){return{x:i.nt,time:i.ot,originalData:i.je,barColor:i.ue}}class yf extends zt{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(t){this.zt=t,this.$e=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.$e.length||this.Ue(e);const n=Math.max(1,Math.floor(s)),r=Math.round(this.zt.qe*s)-Math.floor(n/2),o=r+n;for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const l=this.zt.it[h],c=this.$e[h-this.zt.tt.from],a=Math.round(l.st*s);let u,f;t.fillStyle=l.ue,a<=r?(u=a,f=o):(u=r,f=a-Math.floor(n/2)+n),t.fillRect(c.Os,u,c.ui-c.Os+1,f-u)}}Ue(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.$e=[]);const e=Math.ceil(this.zt.he*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.zt.he*t)-e;this.$e=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],h=Math.round(o.nt*t);let l,c;if(s%2){const a=(s-1)/2;l=h-a,c=h+a}else{const a=s/2;l=h-a,c=h+a-1}this.$e[r-this.zt.tt.from]={Os:l,ui:c,Ye:h,Xe:o.nt*t,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.$e[r-this.zt.tt.from],h=this.$e[r-this.zt.tt.from-1];o.ot===h.ot+1&&o.Os-h.ui!==e+1&&(h.Ye>h.Xe?h.ui=o.Os-e-1:o.Os=h.ui+e+1)}let n=Math.ceil(this.zt.he*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.$e[r-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const h=o.ui-o.Os+1;n=Math.min(h,n)}if(e>0&&n<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.$e[r-this.zt.tt.from];o.ui-o.Os+1>n&&(o.Ye>o.Xe?o.ui-=1:o.Os+=1)}}}class _f extends us{constructor(){super(...arguments),this.Ws=new yf}ne(t,e,s){return Object.assign(Object.assign({},this.te(t,e)),s.Hs(t))}Gs(){const t={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,C(this.Ls.Ct()).Ot)};this.Ws.J(t)}}class Sf extends us{constructor(){super(...arguments),this.Ws=new gl}ne(t,e,s){return Object.assign(Object.assign({},this.te(t,e)),s.Hs(t))}Gs(){const t=this.Ls.W(),e={it:this.Is,Nt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(e)}}const Cf=/[2-9]/g;class ci{constructor(t=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}xi(t,e,s){return this.nr(t,e,s).width}Mi(t,e,s){const n=this.nr(t,e,s);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}nr(t,e,s){const n=s||Cf,r=String(e).replace(n,"0");if(this.Qe.has(r))return at(this.Qe.get(r)).sr;if(this.Ke===this.tr){const h=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(h),this.Ge++,this.Ke--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.Qe.set(r,{sr:o,er:this.Ze}),this.Je[this.Ze]=r,this.Ke++,this.Ze++),o}}class xf{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,e,s){this.rr=t,this.k=e,this.hr=s}K(t){this.k!==null&&this.rr!==null&&this.rr.K(t,this.k,this.lr,this.hr)}}class _l{constructor(t,e,s){this._r=t,this.lr=new ci(50),this.ur=e,this.F=s,this.j=-1,this.Wt=new xf(this.lr)}gt(){const t=this.F.cr(this.ur);if(t===null)return null;const e=t.dr(this.ur)?t.vr():this.ur.Dt();if(e===null)return null;const s=t.pr(e);if(s==="overlay")return null;const n=this.F.mr();return n.P!==this.j&&(this.j=n.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),n,s),this.Wt}}class Mf extends zt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}br(t,e){var s;if(!(!((s=this.zt)===null||s===void 0)&&s.yt))return null;const{st:n,et:r,wr:o}=this.zt;return e>=n-r-7&&e<=n+r+7?{gr:this.zt,wr:o}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*n);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.O,t.lineWidth=Math.floor(this.zt.et*s),_e(t,this.zt.Nt),hl(t,r,0,e.width))}}class Yn{constructor(t){this.Mr={st:0,O:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.Sr=new Mf,this.ft=!0,this.Ls=t,this.Es=t.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}}class Ef extends Yn{constructor(t){super(t)}kr(){this.Mr.yt=!1;const t=this.Ls.Dt(),e=t.yr().yr;if(e!==2&&e!==3)return;const s=this.Ls.W();if(!s.baseLineVisible||!this.Ls.yt())return;const n=this.Ls.Ct();n!==null&&(this.Mr.yt=!0,this.Mr.st=t.Rt(n.Ot,n.Ot),this.Mr.O=s.baseLineColor,this.Mr.et=s.baseLineWidth,this.Mr.Nt=s.baseLineStyle)}}class Lf extends zt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}He(){return this.zt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const n=this.zt;if(n===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,h=Math.round(n.Xe.x*e)+o,l=n.Xe.y*s;t.fillStyle=n.Cr,t.beginPath();const c=Math.max(2,1.5*n.Tr)*e;t.arc(h,l,c,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.Pr,t.beginPath(),t.arc(h,l,n.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=n.Rr,t.beginPath(),t.arc(h,l,n.ht*e+r/2,0,2*Math.PI,!1),t.stroke()}}const Of=[{Dr:0,Or:.25,Ar:4,Br:10,Vr:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Or:.525,Ar:10,Br:14,Vr:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Or:1,Ar:14,Br:14,Vr:0,Ir:0,zr:0,Lr:0}];function ho(i,t,e,s){return function(n,r){if(n==="transparent")return n;const o=Hi(n),h=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*h})`}(i,e+(s-e)*t)}function lo(i,t){const e=i%2600/2600;let s;for(const l of Of)if(e>=l.Dr&&e<=l.Or){s=l;break}se(s!==void 0,"Last price animation internal logic error");const n=(e-s.Dr)/(s.Or-s.Dr);return{Pr:ho(t,n,s.Vr,s.Ir),Rr:ho(t,n,s.zr,s.Lr),ht:(r=n,o=s.Ar,h=s.Br,o+(h-o)*r)};var r,o,h}class Tf{constructor(t){this.Wt=new Lf,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),this.Wr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Fr-t;if(e>0)return void(e<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return this.Wr.W().lastPriceAnimation!==0}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Wr.$t().St(),e=t.Xs(),s=this.Wr.Ct();if(e===null||s===null)return;const n=this.Wr.Yr(!0);if(n.Xr||!e.Kr(n.se))return;const r={x:t.It(n.se),y:this.Wr.Dt().Rt(n._t,s.Ot)},o=n.O,h=this.Wr.W().lineWidth,l=lo(this.Zr(),o);this.Wt.J({Cr:o,Tr:h,Pr:l.Pr,Rr:l.Rr,ht:l.ht,Xe:r})}qr(){const t=this.Wt.He();if(t!==null){const e=lo(this.Zr(),t.Cr);t.Pr=e.Pr,t.Rr=e.Rr,t.ht=e.ht}}Zr(){return this.Ur()?performance.now()-this.Nr:2599}}function Qe(i,t){return pl(Math.min(Math.max(i,12),30)*t)}function ai(i,t){switch(i){case"arrowDown":case"arrowUp":return Qe(t,1);case"circle":return Qe(t,.8);case"square":return Qe(t,.7)}}function Sl(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Qe(i,1))}function co(i){return Math.max(Qe(i,.1),3)}function ao(i,t,e){return t?i:e?Math.ceil(i/2):0}function Cl(i,t,e,s,n){const r=ai("square",e),o=(r-1)/2,h=i-o,l=t-o;return s>=h&&s<=h+r&&n>=l&&n<=l+r}function uo(i,t,e,s){const n=(ai("arrowUp",s)-1)/2*e.Gr,r=(pl(s/2)-1)/2*e.Gr;t.beginPath(),i?(t.moveTo(e.nt-n,e.st),t.lineTo(e.nt,e.st-n),t.lineTo(e.nt+n,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st+n),t.lineTo(e.nt-r,e.st+n),t.lineTo(e.nt-r,e.st)):(t.moveTo(e.nt-n,e.st),t.lineTo(e.nt,e.st+n),t.lineTo(e.nt+n,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st-n),t.lineTo(e.nt-r,e.st-n),t.lineTo(e.nt-r,e.st)),t.fill()}function zf(i,t,e,s,n,r){return Cl(t,e,s,n,r)}class Rf extends zt{constructor(){super(...arguments),this.zt=null,this.lr=new ci,this.j=-1,this.H="",this.Jr=""}J(t){this.zt=t}ar(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Jr=De(t,e),this.lr.ir())}br(t,e){if(this.zt===null||this.zt.tt===null)return null;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const n=this.zt.it[s];if(Pf(n,t,e))return{gr:n.Qr,wr:n.wr}}return null}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s},n,r){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Jr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const h=this.zt.it[o];h.Zt!==void 0&&(h.Zt.Hi=this.lr.xi(t,h.Zt.th),h.Zt.Vt=this.j,h.Zt.nt=h.nt-h.Zt.Hi/2),kf(h,t,e,s)}}}}function kf(i,t,e,s){t.fillStyle=i.O,i.Zt!==void 0&&function(n,r,o,h,l,c){n.save(),n.scale(l,c),n.fillText(r,o,h),n.restore()}(t,i.Zt.th,i.Zt.nt,i.Zt.st,e,s),function(n,r,o){if(n.Ks!==0){switch(n.ih){case"arrowDown":return void uo(!1,r,o,n.Ks);case"arrowUp":return void uo(!0,r,o,n.Ks);case"circle":return void function(h,l,c){const a=(ai("circle",c)-1)/2;h.beginPath(),h.arc(l.nt,l.st,a*l.Gr,0,2*Math.PI,!1),h.fill()}(r,o,n.Ks);case"square":return void function(h,l,c){const a=ai("square",c),u=(a-1)*l.Gr/2,f=l.nt-u,d=l.st-u;h.fillRect(f,d,a*l.Gr,a*l.Gr)}(r,o,n.Ks)}n.ih}}(i,t,function(n,r,o){const h=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(n.nt*r)+h,st:n.st*o,Gr:r}}(i,e,s))}function Pf(i,t,e){return!(i.Zt===void 0||!function(s,n,r,o,h,l){const c=o/2;return h>=s&&h<=s+r&&l>=n-c&&l<=n+c}(i.Zt.nt,i.Zt.st,i.Zt.Hi,i.Zt.Vt,t,e))||function(s,n,r){if(s.Ks===0)return!1;switch(s.ih){case"arrowDown":case"arrowUp":return zf(0,s.nt,s.st,s.Ks,n,r);case"circle":return function(o,h,l,c,a){const u=2+ai("circle",l)/2,f=o-c,d=h-a;return Math.sqrt(f*f+d*d)<=u}(s.nt,s.st,s.Ks,n,r);case"square":return Cl(s.nt,s.st,s.Ks,n,r)}}(i,t,e)}function Nf(i,t,e,s,n,r,o,h,l){const c=It(e)?e:e.xe,a=It(e)?e:e.ge,u=It(e)?e:e.Me,f=It(t.size)?Math.max(t.size,0):1,d=Sl(h.he())*f,p=d/2;switch(i.Ks=d,t.position){case"inBar":return i.st=o.Rt(c,l),void(i.Zt!==void 0&&(i.Zt.st=i.st+p+r+.6*n));case"aboveBar":return i.st=o.Rt(a,l)-p-s.nh,i.Zt!==void 0&&(i.Zt.st=i.st-p-.6*n,s.nh+=1.2*n),void(s.nh+=d+r);case"belowBar":return i.st=o.Rt(u,l)+p+s.sh,i.Zt!==void 0&&(i.Zt.st=i.st+p+r+.6*n,s.sh+=1.2*n),void(s.sh+=d+r)}t.position}class Af{constructor(t,e){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new Rf,this.Wr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.rh=!0,t==="data"&&(this.eh=!0,this.ah=null)}gt(t){if(!this.Wr.yt())return null;this.ft&&this.oh();const e=this.$i.W().layout;return this.Wt.ar(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){const t=this.$i.St().he(),e=co(t),s=1.5*Sl(t)+2*e,n=this.dh();this.hh={above:ao(s,n.aboveBar,n.inBar),below:ao(s,n.belowBar,n.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return this.ah===null&&(this.ah=this.Wr.uh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){const t=this.Wr.Dt(),e=this.$i.St(),s=this.Wr.uh();this.eh&&(this.zt.it=s.map(a=>({ot:a.time,nt:0,st:0,Ks:0,ih:a.shape,O:a.color,Qr:a.Qr,wr:a.id,Zt:void 0})),this.eh=!1);const n=this.$i.W().layout;this.zt.tt=null;const r=e.Xs();if(r===null)return;const o=this.Wr.Ct();if(o===null||this.zt.it.length===0)return;let h=NaN;const l=co(e.he()),c={nh:l,sh:l};this.zt.tt=wl(this.zt.it,r,!0);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const u=s[a];u.time!==h&&(c.nh=l,c.sh=l,h=u.time);const f=this.zt.it[a];f.nt=e.It(u.time),u.text!==void 0&&u.text.length>0&&(f.Zt={th:u.text,nt:0,st:0,Hi:0,Vt:0});const d=this.Wr.fh(u.time);d!==null&&Nf(f,u,d,c,n.fontSize,l,t,e,o.Ot)}this.ft=!1}}class Df extends Yn{constructor(t){super(t)}kr(){const t=this.Mr;t.yt=!1;const e=this.Ls.W();if(!e.priceLineVisible||!this.Ls.yt())return;const s=this.Ls.Yr(e.priceLineSource===0);s.Xr||(t.yt=!0,t.st=s.ki,t.O=this.Ls.ph(s.O),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class Ff extends ls{constructor(t){super(),this.jt=t}zi(t,e,s){t.yt=!1,e.yt=!1;const n=this.jt;if(!n.yt())return;const r=n.W(),o=r.lastValueVisible,h=n.mh()!=="",l=r.seriesLastValueMode===0,c=n.Yr(!1);if(c.Xr)return;o&&(t.Zt=this.bh(c,o,l),t.yt=t.Zt.length!==0),(h||l)&&(e.Zt=this.wh(c,o,h,l),e.yt=e.Zt.length>0);const a=n.ph(c.O),u=os(a);s.t=u.t,s.ki=c.ki,e.At=n.$t().Bt(c.ki/n.Dt().Vt()),t.At=a,t.O=u.i,e.O=u.i}wh(t,e,s,n){let r="";const o=this.jt.mh();return s&&o.length!==0&&(r+=`${o} `),e&&n&&(r+=this.jt.Dt().gh()?t.Mh:t.xh),r.trim()}bh(t,e,s){return e?s?this.jt.Dt().gh()?t.xh:t.Mh:t.Zt:""}}function fo(i,t,e,s){const n=Number.isFinite(t),r=Number.isFinite(e);return n&&r?i(t,e):n||r?n?t:e:s}class dt{constructor(t,e){this.Sh=t,this.kh=e}yh(t){return t!==null&&this.Sh===t.Sh&&this.kh===t.kh}Ch(){return new dt(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(t){return t===null?this:new dt(fo(Math.min,this.Th(),t.Th(),-1/0),fo(Math.max,this.Ph(),t.Ph(),1/0))}Dh(t){if(!It(t)||this.kh-this.Sh===0)return;const e=.5*(this.kh+this.Sh);let s=this.kh-e,n=this.Sh-e;s*=t,n*=t,this.kh=e+s,this.Sh=e+n}Oh(t){It(t)&&(this.kh+=t,this.Sh+=t)}Ah(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(t){return t===null?null:new dt(t.minValue,t.maxValue)}}class Ji{constructor(t,e){this.Vh=t,this.Ih=e||null}zh(){return this.Vh}Lh(){return this.Ih}Ah(){return this.Vh===null?null:{priceRange:this.Vh.Ah(),margins:this.Ih||void 0}}static Bh(t){return t===null?null:new Ji(dt.Bh(t.priceRange),t.margins)}}class $f extends Yn{constructor(t,e){super(t),this.Eh=e}kr(){const t=this.Mr;t.yt=!1;const e=this.Eh.W();if(!this.Ls.yt()||!e.lineVisible)return;const s=this.Eh.Nh();s!==null&&(t.yt=!0,t.st=s,t.O=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.wr=this.Eh.W().id)}}class Bf extends ls{constructor(t,e){super(),this.Wr=t,this.Eh=e}zi(t,e,s){t.yt=!1,e.yt=!1;const n=this.Eh.W(),r=n.axisLabelVisible,o=n.title!=="",h=this.Wr;if(!r||!h.yt())return;const l=this.Eh.Nh();if(l===null)return;o&&(e.Zt=n.title,e.yt=!0),e.At=h.$t().Bt(l/h.Dt().Vt()),t.Zt=this.Fh(n.price),t.yt=!0;const c=os(n.axisLabelColor||n.color);s.t=c.t;const a=n.axisLabelTextColor||c.i;t.O=a,e.O=a,s.ki=l}Fh(t){const e=this.Wr.Ct();return e===null?"":this.Wr.Dt().Fi(t,e.Ot)}}class If{constructor(t,e){this.Wr=t,this.cn=e,this.Wh=new $f(t,this),this._r=new Bf(t,this),this.jh=new _l(this._r,t,t.$t())}Hh(t){Tt(this.cn,t),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){const t=this.Wr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const s=t.Ct();return s===null?null:e.Rt(this.cn.price,s.Ot)}}class Wf extends qn{constructor(t){super(),this.$i=t}$t(){return this.$i}}const Vf={Bar:(i,t,e,s)=>{var n;const r=t.upColor,o=t.downColor,h=C(i(e,s)),l=Oe(h.Ot[0])<=Oe(h.Ot[3]);return{ue:(n=h.O)!==null&&n!==void 0?n:l?r:o}},Candlestick:(i,t,e,s)=>{var n,r,o;const h=t.upColor,l=t.downColor,c=t.borderUpColor,a=t.borderDownColor,u=t.wickUpColor,f=t.wickDownColor,d=C(i(e,s)),p=Oe(d.Ot[0])<=Oe(d.Ot[3]);return{ue:(n=d.O)!==null&&n!==void 0?n:p?h:l,Ee:(r=d.At)!==null&&r!==void 0?r:p?c:a,Le:(o=d.Xh)!==null&&o!==void 0?o:p?u:f}},Custom:(i,t,e,s)=>{var n;return{ue:(n=C(i(e,s)).O)!==null&&n!==void 0?n:t.color}},Area:(i,t,e,s)=>{var n,r,o,h;const l=C(i(e,s));return{ue:(n=l.lt)!==null&&n!==void 0?n:t.lineColor,lt:(r=l.lt)!==null&&r!==void 0?r:t.lineColor,Ts:(o=l.Ts)!==null&&o!==void 0?o:t.topColor,Ps:(h=l.Ps)!==null&&h!==void 0?h:t.bottomColor}},Baseline:(i,t,e,s)=>{var n,r,o,h,l,c;const a=C(i(e,s));return{ue:a.Ot[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Pe:(n=a.Pe)!==null&&n!==void 0?n:t.topLineColor,Re:(r=a.Re)!==null&&r!==void 0?r:t.bottomLineColor,Se:(o=a.Se)!==null&&o!==void 0?o:t.topFillColor1,ke:(h=a.ke)!==null&&h!==void 0?h:t.topFillColor2,ye:(l=a.ye)!==null&&l!==void 0?l:t.bottomFillColor1,Ce:(c=a.Ce)!==null&&c!==void 0?c:t.bottomFillColor2}},Line:(i,t,e,s)=>{var n,r;const o=C(i(e,s));return{ue:(n=o.O)!==null&&n!==void 0?n:t.color,lt:(r=o.O)!==null&&r!==void 0?r:t.color}},Histogram:(i,t,e,s)=>{var n;return{ue:(n=C(i(e,s)).O)!==null&&n!==void 0?n:t.color}}};class jf{constructor(t){this.Kh=(e,s)=>s!==void 0?s.Ot:this.Wr.In().Zh(e),this.Wr=t,this.Gh=Vf[t.Jh()]}Hs(t,e){return this.Gh(this.Kh,this.Wr.W(),t,e)}}var po;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(po||(po={}));const Zt=30;class Uf{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Ks()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Ks()>0?this.el(0):null}Vn(){return this.Ks()>0?this.el(this.Qh.length-1):null}Ks(){return this.Qh.length}Ni(){return this.Ks()===0}Kr(t){return this.rl(t,0)!==null}Zh(t){return this.hl(t)}hl(t,e=0){const s=this.rl(t,e);return s===null?null:Object.assign(Object.assign({},this.ll(s)),{se:this.el(s)})}ie(){return this.Qh}al(t,e,s){if(this.Ni())return null;let n=null;for(const r of s)n=Ei(n,this.ol(t,e,r));return n}J(t){this.il.clear(),this.tl.clear(),this.Qh=t}el(t){return this.Qh[t].se}ll(t){return this.Qh[t]}rl(t,e){const s=this._l(t);if(s===null&&e!==0)switch(e){case-1:return this.ul(t);case 1:return this.cl(t);default:throw new TypeError("Unknown search mode")}return s}ul(t){let e=this.dl(t);return e>0&&(e-=1),e!==this.Qh.length&&this.el(e)<t?e:null}cl(t){const e=this.fl(t);return e!==this.Qh.length&&t<this.el(e)?e:null}_l(t){const e=this.dl(t);return e===this.Qh.length||t<this.Qh[e].se?null:e}dl(t){return pi(this.Qh,t,(e,s)=>e.se<s)}fl(t){return vl(this.Qh,t,(e,s)=>e.se>s)}vl(t,e,s){let n=null;for(let r=t;r<e;r++){const o=this.Qh[r].Ot[s];Number.isNaN(o)||(n===null?n={pl:o,ml:o}:(o<n.pl&&(n.pl=o),o>n.ml&&(n.ml=o)))}return n}ol(t,e,s){if(this.Ni())return null;let n=null;const r=C(this.sl()),o=C(this.Vn()),h=Math.max(t,r),l=Math.min(e,o),c=Math.ceil(h/Zt)*Zt,a=Math.max(c,Math.floor(l/Zt)*Zt);{const f=this.dl(h),d=this.fl(Math.min(l,c,e));n=Ei(n,this.vl(f,d,s))}let u=this.tl.get(s);u===void 0&&(u=new Map,this.tl.set(s,u));for(let f=Math.max(c+1,h);f<a;f+=Zt){const d=Math.floor(f/Zt);let p=u.get(d);if(p===void 0){const g=this.dl(d*Zt),x=this.fl((d+1)*Zt-1);p=this.vl(g,x,s),u.set(d,p)}n=Ei(n,p)}{const f=this.dl(a),d=this.fl(l);n=Ei(n,this.vl(f,d,s))}return n}}function Ei(i,t){return i===null?t:t===null?i:{pl:Math.min(i.pl,t.pl),ml:Math.max(i.ml,t.ml)}}class Hf{constructor(t){this.bl=t}K(t,e,s){this.bl.draw(t)}wl(t,e,s){var n,r;(r=(n=this.bl).drawBackground)===null||r===void 0||r.call(n,t)}}class Ps{constructor(t){this.Qe=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(e===null)return null;if(((t=this.Qe)===null||t===void 0?void 0:t.gl)===e)return this.Qe.Ml;const s=new Hf(e);return this.Qe={gl:e,Ml:s},s}xl(){var t,e,s;return(s=(e=(t=this.wn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:"normal"}}function xl(i){var t,e,s,n,r;return{Zt:i.text(),ki:i.coordinate(),Si:(t=i.fixedCoordinate)===null||t===void 0?void 0:t.call(i),O:i.textColor(),t:i.backColor(),yt:(s=(e=i.visible)===null||e===void 0?void 0:e.call(i))===null||s===void 0||s,hi:(r=(n=i.tickVisible)===null||n===void 0?void 0:n.call(i))===null||r===void 0||r}}class Kf{constructor(t,e){this.Wt=new al,this.Sl=t,this.kl=e}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},xl(this.Sl))),this.Wt}}class Jf extends ls{constructor(t,e){super(),this.Sl=t,this.Li=e}zi(t,e,s){const n=xl(this.Sl);s.t=n.t,t.O=n.O;const r=2/12*this.Li.P();s.wi=r,s.gi=r,s.ki=n.ki,s.Si=n.Si,t.Zt=n.Zt,t.yt=n.yt,t.hi=n.hi}}class Gf{constructor(t,e){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=t,this.Wr=e}Ol(){return this.Dl}On(){var t,e;(e=(t=this.Dl).updateAllViews)===null||e===void 0||e.call(t)}Pn(){var t,e,s,n;const r=(s=(e=(t=this.Dl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.yl)===null||n===void 0?void 0:n.gl)===r)return this.yl.Ml;const o=r.map(h=>new Ps(h));return this.yl={gl:r,Ml:o},o}Qi(){var t,e,s,n;const r=(s=(e=(t=this.Dl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Cl)===null||n===void 0?void 0:n.gl)===r)return this.Cl.Ml;const o=this.Wr.$t().St(),h=r.map(l=>new Kf(l,o));return this.Cl={gl:r,Ml:h},h}Rn(){var t,e,s,n;const r=(s=(e=(t=this.Dl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Tl)===null||n===void 0?void 0:n.gl)===r)return this.Tl.Ml;const o=this.Wr.Dt(),h=r.map(l=>new Jf(l,o));return this.Tl={gl:r,Ml:h},h}Al(){var t,e,s,n;const r=(s=(e=(t=this.Dl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Pl)===null||n===void 0?void 0:n.gl)===r)return this.Pl.Ml;const o=r.map(h=>new Ps(h));return this.Pl={gl:r,Ml:o},o}Bl(){var t,e,s,n;const r=(s=(e=(t=this.Dl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Rl)===null||n===void 0?void 0:n.gl)===r)return this.Rl.Ml;const o=r.map(h=>new Ps(h));return this.Rl={gl:r,Ml:o},o}Vl(t,e){var s,n,r;return(r=(n=(s=this.Dl).autoscaleInfo)===null||n===void 0?void 0:n.call(s,t,e))!==null&&r!==void 0?r:null}br(t,e){var s,n,r;return(r=(n=(s=this.Dl).hitTest)===null||n===void 0?void 0:n.call(s,t,e))!==null&&r!==void 0?r:null}}function Ns(i,t,e,s){i.forEach(n=>{t(n).forEach(r=>{r.xl()===e&&s.push(r)})})}function As(i){return i.Pn()}function qf(i){return i.Al()}function Zf(i){return i.Bl()}class Qn extends Wf{constructor(t,e,s,n,r){super(t),this.zt=new Uf,this.Wh=new Df(this),this.Il=[],this.zl=new Ef(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=e,this.Hl=s;const o=new Ff(this);this.rn=[o],this.jh=new _l(o,this,t),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.Ll=new Tf(this)),this.$l(),this.Ul(r)}S(){this.Wl!==null&&clearTimeout(this.Wl)}ph(t){return this.cn.priceLineColor||t}Yr(t){const e={Xr:!0},s=this.Dt();if(this.$t().St().Ni()||s.Ni()||this.zt.Ni())return e;const n=this.$t().St().Xs(),r=this.Ct();if(n===null||r===null)return e;let o,h;if(t){const u=this.zt.nl();if(u===null)return e;o=u,h=u.se}else{const u=this.zt.hl(n.ui(),-1);if(u===null||(o=this.zt.Zh(u.se),o===null))return e;h=u.se}const l=o.Ot[3],c=this.$s().Hs(h,{Ot:o}),a=s.Rt(l,r.Ot);return{Xr:!1,_t:l,Zt:s.Fi(l,r.Ot),Mh:s.ql(l),xh:s.Yl(l,r.Ot),O:c.ue,ki:a,se:h}}$s(){return this.El!==null||(this.El=new jf(this)),this.El}W(){return this.cn}Hh(t){const e=t.priceScaleId;e!==void 0&&e!==this.cn.priceScaleId&&this.$t().Xl(this,e),Tt(this.cn,t),t.priceFormat!==void 0&&(this.$l(),this.$t().Kl()),this.$t().Zl(this),this.$t().Gl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Jl(),this.wn.bt("data"),this.dn.bt("data"),this.Ll!==null&&(e&&e.Ql?this.Ll.Hr():t.length===0&&this.Ll.jr());const s=this.$t().cr(this);this.$t().ta(s),this.$t().Zl(this),this.$t().Gl(),this.$t().$h()}ia(t){this.Nl=t,this.Jl();const e=this.$t().cr(this);this.dn.bt("data"),this.$t().ta(e),this.$t().Zl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(t){const e=new If(this,t);return this.Il.push(e),this.$t().Zl(this),e}ea(t){const e=this.Il.indexOf(t);e!==-1&&this.Il.splice(e,1),this.$t().Zl(this)}Jh(){return this.Hl}Ct(){const t=this.ra();return t===null?null:{Ot:t.Ot[3],ha:t.ot}}ra(){const t=this.$t().St().Xs();if(t===null)return null;const e=t.Os();return this.zt.hl(e,1)}In(){return this.zt}fh(t){const e=this.zt.Zh(t);return e===null?null:this.Hl==="Bar"||this.Hl==="Candlestick"||this.Hl==="Custom"?{we:e.Ot[0],ge:e.Ot[1],Me:e.Ot[2],xe:e.Ot[3]}:e.Ot[3]}la(t){const e=[];Ns(this.jl,As,"top",e);const s=this.Ll;return s!==null&&s.yt()&&(this.Wl===null&&s.Ur()&&(this.Wl=setTimeout(()=>{this.Wl=null,this.$t().aa()},0)),s.$r(),e.unshift(s)),e}Pn(){const t=[];this.oa()||t.push(this.zl),t.push(this.wn,this.Wh,this.dn);const e=this.Il.map(s=>s.Uh());return t.push(...e),Ns(this.jl,As,"normal",t),t}_a(){return this.ua(As,"bottom")}ca(t){return this.ua(qf,t)}da(t){return this.ua(Zf,t)}fa(t,e){return this.jl.map(s=>s.br(t,e)).filter(s=>s!==null)}Ji(t){return[this.jh,...this.Il.map(e=>e.qh())]}Rn(t,e){if(e!==this.Yi&&!this.oa())return[];const s=[...this.rn];for(const n of this.Il)s.push(n.Yh());return this.jl.forEach(n=>{s.push(...n.Rn())}),s}Qi(){const t=[];return this.jl.forEach(e=>{t.push(...e.Qi())}),t}Vl(t,e){if(this.cn.autoscaleInfoProvider!==void 0){const s=this.cn.autoscaleInfoProvider(()=>{const n=this.va(t,e);return n===null?null:n.Ah()});return Ji.Bh(s)}return this.va(t,e)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}On(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.Il)e.bt();this.Wh.bt(),this.zl.bt(),(t=this.Ll)===null||t===void 0||t.bt(),this.jl.forEach(e=>e.On())}Dt(){return C(super.Dt())}kt(t){if(!((this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const e=this.zt.Zh(t);return e===null?null:{_t:e.Ot[3],ht:this.wa(),At:this.ga(),Pt:this.Ma(),Tt:this.xa(t)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(t){this.jl.push(new Gf(t,this))}ka(t){this.jl=this.jl.filter(e=>e.Ol()!==t)}ya(){if(this.wn instanceof ks)return t=>this.wn.Fe(t)}Ca(){if(this.wn instanceof ks)return t=>this.wn.We(t)}oa(){return!cs(this.Dt().Ta())}va(t,e){if(!hi(t)||!hi(e)||this.zt.Ni())return null;const s=this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline"||this.Hl==="Histogram"?[3]:[2,1],n=this.zt.al(t,e,s);let r=n!==null?new dt(n.pl,n.ml):null;if(this.Jh()==="Histogram"){const h=this.cn.base,l=new dt(h,h);r=r!==null?r.ts(l):l}let o=this.dn._h();return this.jl.forEach(h=>{const l=h.Vl(t,e);if(l!=null&&l.priceRange){const d=new dt(l.priceRange.minValue,l.priceRange.maxValue);r=r!==null?r.ts(d):d}var c,a,u,f;l!=null&&l.margins&&(c=o,a=l.margins,o={above:Math.max((u=c==null?void 0:c.above)!==null&&u!==void 0?u:0,a.above),below:Math.max((f=c==null?void 0:c.below)!==null&&f!==void 0?f:0,a.below)})}),new Ji(r,o)}wa(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}Ma(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}xa(t){switch(this.Hl){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.$s().Hs(t).ue}$l(){switch(this.cn.priceFormat.type){case"custom":this.ba={format:this.cn.priceFormat.formatter};break;case"volume":this.ba=new sf(this.cn.priceFormat.precision);break;case"percent":this.ba=new ul(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.ba=new as(t,this.cn.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.Pa()}Jl(){const t=this.$t().St();if(!t.Ra()||this.zt.Ni())return void(this.Fl=[]);const e=C(this.zt.sl());this.Fl=this.Nl.map((s,n)=>{const r=C(t.Da(s.time,!0)),o=r<e?1:-1;return{time:C(this.zt.hl(r,o)).se,position:s.position,shape:s.shape,color:s.color,id:s.id,Qr:n,text:s.text,size:s.size,originalTime:s.originalTime}})}Ul(t){switch(this.dn=new Af(this,this.$t()),this.Hl){case"Bar":this.wn=new ff(this,this.$t());break;case"Candlestick":this.wn=new bf(this,this.$t());break;case"Line":this.wn=new Sf(this,this.$t());break;case"Custom":this.wn=new ks(this,this.$t(),at(t));break;case"Area":this.wn=new af(this,this.$t());break;case"Baseline":this.wn=new mf(this,this.$t());break;case"Histogram":this.wn=new _f(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Hl)}}ua(t,e){const s=[];return Ns(this.jl,t,e,s),s}}class Xf{constructor(t){this.cn=t}Oa(t,e,s){let n=t;if(this.cn.mode===0)return n;const r=s.vn(),o=r.Ct();if(o===null)return n;const h=r.Rt(t,o),l=s.Aa().filter(a=>a instanceof Qn).reduce((a,u)=>{if(s.dr(u)||!u.yt())return a;const f=u.Dt(),d=u.In();if(f.Ni()||!d.Kr(e))return a;const p=d.Zh(e);if(p===null)return a;const g=Oe(u.Ct());return a.concat([f.Rt(p.Ot[3],g.Ot)])},[]);if(l.length===0)return n;l.sort((a,u)=>Math.abs(a-h)-Math.abs(u-h));const c=l[0];return n=r.pn(c,o),n}}class Yf extends zt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null)return;const r=Math.max(1,Math.floor(s));t.lineWidth=r,function(o,h){o.save(),o.lineWidth%2&&o.translate(.5,.5),h(),o.restore()}(t,()=>{const o=C(this.zt);if(o.Ba){t.strokeStyle=o.Va,_e(t,o.Ia),t.beginPath();for(const h of o.za){const l=Math.round(h.La*s);t.moveTo(l,-r),t.lineTo(l,e.height+r)}t.stroke()}if(o.Ea){t.strokeStyle=o.Na,_e(t,o.Fa),t.beginPath();for(const h of o.Wa){const l=Math.round(h.La*n);t.moveTo(-r,l),t.lineTo(e.width+r,l)}t.stroke()}})}}class Qf{constructor(t){this.Wt=new Yf,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Ea:t.horzLines.visible,Ba:t.vertLines.visible,Na:t.horzLines.color,Va:t.vertLines.color,Fa:t.horzLines.style,Ia:t.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map(s=>({La:s.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class td{constructor(t){this.wn=new Qf(t)}Uh(){return this.wn}}const Ds={Ha:4,$a:1e-4};function Te(i,t){const e=100*(i-t)/t;return t<0?-e:e}function ed(i,t){const e=Te(i.Th(),t),s=Te(i.Ph(),t);return new dt(e,s)}function ti(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function id(i,t){const e=ti(i.Th(),t),s=ti(i.Ph(),t);return new dt(e,s)}function Gi(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.log10(e+t.$a)+t.Ha;return i<0?-s:s}function ei(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Ha)-t.$a;return i<0?-s:s}function He(i,t){if(i===null)return null;const e=Gi(i.Th(),t),s=Gi(i.Ph(),t);return new dt(e,s)}function Li(i,t){if(i===null)return null;const e=ei(i.Th(),t),s=ei(i.Ph(),t);return new dt(e,s)}function Fs(i){if(i===null)return Ds;const t=Math.abs(i.Ph()-i.Th());if(t>=1||t<1e-15)return Ds;const e=Math.ceil(Math.abs(Math.log10(t))),s=Ds.Ha+e;return{Ha:s,$a:1/Math.pow(10,s)}}class $s{constructor(t,e){if(this.Ua=t,this.qa=e,function(s){if(s<0)return!1;for(let n=s;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let s=this.Ua;s!==1;){if(s%2==0)this.Ya.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.Ya.push(2,2.5),s/=5}if(this.Ya.length>100)throw new Error("something wrong with base")}}}Xa(t,e,s){const n=this.Ua===0?0:1/this.Ua;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,h=this.qa[0];for(;;){const u=Mi(r,n,1e-14)&&r>n+1e-14,f=Mi(r,s*h,1e-14),d=Mi(r,1,1e-14);if(!(u&&f&&d))break;r/=h,h=this.qa[++o%this.qa.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.Ya.length>0&&(l=r,c=1,a=1e-14,Math.abs(l-c)<a))for(o=0,h=this.Ya[0];Mi(r,s*h,1e-14)&&r>n+1e-14;)r/=h,h=this.Ya[++o%this.Ya.length];var l,c,a;return r}}class mo{constructor(t,e,s,n){this.Ka=[],this.Li=t,this.Ua=e,this.Za=s,this.Ga=n}Xa(t,e){if(t<e)throw new Error("high < low");const s=this.Li.Vt(),n=(t-e)*this.Ja()/s,r=new $s(this.Ua,[2,2.5,2]),o=new $s(this.Ua,[2,2,2.5]),h=new $s(this.Ua,[2.5,2,2]),l=[];return l.push(r.Xa(t,e,n),o.Xa(t,e,n),h.Xa(t,e,n)),function(c){if(c.length<1)throw Error("array is empty");let a=c[0];for(let u=1;u<c.length;++u)c[u]<a&&(a=c[u]);return a}(l)}Qa(){const t=this.Li,e=t.Ct();if(e===null)return void(this.Ka=[]);const s=t.Vt(),n=this.Za(s-1,e),r=this.Za(0,e),o=this.Li.W().entireTextOnly?this.io()/2:0,h=o,l=s-1-o,c=Math.max(n,r),a=Math.min(n,r);if(c===a)return void(this.Ka=[]);let u=this.Xa(c,a),f=c%u;f+=f<0?u:0;const d=c>=a?1:-1;let p=null,g=0;for(let x=c-f;x>a;x-=u){const M=this.Ga(x,e,!0);p!==null&&Math.abs(M-p)<this.Ja()||M<h||M>l||(g<this.Ka.length?(this.Ka[g].La=M,this.Ka[g].no=t.so(x)):this.Ka.push({La:M,no:t.so(x)}),g++,p=M,t.eo()&&(u=this.Xa(x*d,a)))}this.Ka.length=g}ja(){return this.Ka}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}}function Ml(i){return i.slice().sort((t,e)=>C(t.Ki())-C(e.Ki()))}var go;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(go||(go={}));const bo=new ul,vo=new as(100,1);class sd{constructor(t,e,s,n){this.ro=0,this.ho=null,this.Vh=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new tt,this.fo=new tt,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=vo,this.Mo=Fs(null),this.xo=t,this.cn=e,this.So=s,this.ko=n,this.yo=new mo(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(t){if(Tt(this.cn,t),this.Pa(),t.mode!==void 0&&this.Po({yr:t.mode}),t.scaleMargins!==void 0){const e=at(t.scaleMargins.top),s=at(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return this.cn.mode===1}gh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}yr(){return{Wn:this.cn.autoScale,Ao:this.cn.invertScale,yr:this.cn.mode}}Po(t){const e=this.yr();let s=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.yr!==void 0&&(this.cn.mode=t.yr,t.yr!==2&&t.yr!==3||(this.cn.autoScale=!0),this.ao.oo=!1),e.yr===1&&t.yr!==e.yr&&(function(r,o){if(r===null)return!1;const h=ei(r.Th(),o),l=ei(r.Ph(),o);return isFinite(h)&&isFinite(l)}(this.Vh,this.Mo)?(s=Li(this.Vh,this.Mo),s!==null&&this.Bo(s)):this.cn.autoScale=!0),t.yr===1&&t.yr!==e.yr&&(s=He(this.Vh,this.Mo),s!==null&&this.Bo(s));const n=e.yr!==this.cn.mode;n&&(e.yr===2||this.gh())&&this.Pa(),n&&(e.yr===3||this.Oo())&&this.Pa(),t.Ao!==void 0&&e.Ao!==t.Ao&&(this.cn.invertScale=t.Ao,this.Vo()),this.fo.m(e,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}Vt(){return this.ro}zo(t){this.ro!==t&&(this.ro=t,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;const t=this.Vt()-this.Eo()-this.No();return this.ho=t,t}zh(){return this.Fo(),this.Vh}Bo(t,e){const s=this.Vh;(e||s===null&&t!==null||s!==null&&!s.yh(t))&&(this.mo=null,this.Vh=t)}Ni(){return this.Fo(),this.ro===0||!this.Vh||this.Vh.Ni()}Wo(t){return this.Ao()?t:this.Vt()-1-t}Rt(t,e){return this.gh()?t=Te(t,e):this.Oo()&&(t=ti(t,e)),this.To(t,e)}Qs(t,e,s){this.Fo();const n=this.No(),r=C(this.zh()),o=r.Th(),h=r.Ph(),l=this.Lo()-1,c=this.Ao(),a=l/(h-o),u=s===void 0?0:s.from,f=s===void 0?t.length:s.to,d=this.jo();for(let p=u;p<f;p++){const g=t[p],x=g._t;if(isNaN(x))continue;let M=x;d!==null&&(M=d(g._t,e));const k=n+a*(M-o),T=c?k:this.ro-1-k;g.st=T}}me(t,e,s){this.Fo();const n=this.No(),r=C(this.zh()),o=r.Th(),h=r.Ph(),l=this.Lo()-1,c=this.Ao(),a=l/(h-o),u=s===void 0?0:s.from,f=s===void 0?t.length:s.to,d=this.jo();for(let p=u;p<f;p++){const g=t[p];let x=g.we,M=g.ge,k=g.Me,T=g.xe;d!==null&&(x=d(g.we,e),M=d(g.ge,e),k=d(g.Me,e),T=d(g.xe,e));let P=n+a*(x-o),V=c?P:this.ro-1-P;g.ve=V,P=n+a*(M-o),V=c?P:this.ro-1-P,g.ce=V,P=n+a*(k-o),V=c?P:this.ro-1-P,g.de=V,P=n+a*(T-o),V=c?P:this.ro-1-P,g.pe=V}}pn(t,e){const s=this.Co(t,e);return this.Ho(s,e)}Ho(t,e){let s=t;return this.gh()?s=function(n,r){return r<0&&(n=-n),n/100*r+r}(s,e):this.Oo()&&(s=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(s,e)),s}Aa(){return this.vo}$o(){if(this.po)return this.po;let t=[];for(let e=0;e<this.vo.length;e++){const s=this.vo[e];s.Ki()===null&&s.Zi(e+1),t.push(s)}return t=Ml(t),this.po=t,this.po}Uo(t){this.vo.indexOf(t)===-1&&(this.vo.push(t),this.Pa(),this.qo())}Yo(t){const e=this.vo.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.vo.splice(e,1),this.vo.length===0&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let t=null;for(const e of this.vo){const s=e.Ct();s!==null&&(t===null||s.ha<t.ha)&&(t=s)}return t===null?null:t.Ot}Ao(){return this.cn.invertScale}ja(){const t=this.Ct()===null;if(this.mo!==null&&(t||this.mo.Xo===t))return this.mo.ja;this.yo.Qa();const e=this.yo.ja();return this.mo={ja:e,Xo:t},this.do.m(),e}Ko(){return this.do}Zo(t){this.gh()||this.Oo()||this.bo===null&&this.lo===null&&(this.Ni()||(this.bo=this.ro-t,this.lo=C(this.zh()).Ch()))}Go(t){if(this.gh()||this.Oo()||this.bo===null)return;this.Po({Wn:!1}),(t=this.ro-t)<0&&(t=0);let e=(this.bo+.2*(this.ro-1))/(t+.2*(this.ro-1));const s=C(this.lo).Ch();e=Math.max(e,.1),s.Dh(e),this.Bo(s)}Jo(){this.gh()||this.Oo()||(this.bo=null,this.lo=null)}Qo(t){this.Do()||this.wo===null&&this.lo===null&&(this.Ni()||(this.wo=t,this.lo=C(this.zh()).Ch()))}t_(t){if(this.Do()||this.wo===null)return;const e=C(this.zh()).Rh()/(this.Lo()-1);let s=t-this.wo;this.Ao()&&(s*=-1);const n=s*e,r=C(this.lo).Ch();r.Oh(n),this.Bo(r,!0),this.mo=null}i_(){this.Do()||this.wo!==null&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(t,e){switch(this.cn.mode){case 2:return this.n_(Te(t,e));case 3:return this.ma().format(ti(t,e));default:return this.Fh(t)}}so(t){switch(this.cn.mode){case 2:return this.n_(t);case 3:return this.ma().format(t);default:return this.Fh(t)}}ql(t){return this.Fh(t,C(this.s_()).ma())}Yl(t,e){return t=Te(t,e),this.n_(t,bo)}e_(){return this.vo}r_(t){this.ao={_o:t,oo:!1}}On(){this.vo.forEach(t=>t.On())}Pa(){this.mo=null;const t=this.s_();let e=100;t!==null&&(e=Math.round(1/t.pa())),this.ba=vo,this.gh()?(this.ba=bo,e=100):this.Oo()?(this.ba=new as(100,1),e=100):t!==null&&(this.ba=t.ma()),this.yo=new mo(this,e,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Ao()?this.cn.scaleMargins.bottom*this.Vt()+this.co:this.cn.scaleMargins.top*this.Vt()+this.uo}No(){return this.Ao()?this.cn.scaleMargins.top*this.Vt()+this.uo:this.cn.scaleMargins.bottom*this.Vt()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(t,e){if(this.Fo(),this.Ni())return 0;t=this.eo()&&t?Gi(t,this.Mo):t;const s=C(this.zh()),n=this.No()+(this.Lo()-1)*(t-s.Th())/s.Rh();return this.Wo(n)}Co(t,e){if(this.Fo(),this.Ni())return 0;const s=this.Wo(t),n=C(this.zh()),r=n.Th()+n.Rh()*((s-this.No())/(this.Lo()-1));return this.eo()?ei(r,this.Mo):r}Vo(){this.mo=null,this.yo.Qa()}h_(){const t=this.ao._o;if(t===null)return;let e=null;const s=this.e_();let n=0,r=0;for(const l of s){if(!l.yt())continue;const c=l.Ct();if(c===null)continue;const a=l.Vl(t.Os(),t.ui());let u=a&&a.zh();if(u!==null){switch(this.cn.mode){case 1:u=He(u,this.Mo);break;case 2:u=ed(u,c.Ot);break;case 3:u=id(u,c.Ot)}if(e=e===null?u:e.ts(C(u)),a!==null){const f=a.Lh();f!==null&&(n=Math.max(n,f.above),r=Math.max(r,f.below))}}}if(n===this.uo&&r===this.co||(this.uo=n,this.co=r,this.mo=null,this.Ro()),e!==null){if(e.Th()===e.Ph()){const l=this.s_(),c=5*(l===null||this.gh()||this.Oo()?1:l.pa());this.eo()&&(e=Li(e,this.Mo)),e=new dt(e.Th()-c,e.Ph()+c),this.eo()&&(e=He(e,this.Mo))}if(this.eo()){const l=Li(e,this.Mo),c=Fs(l);if(o=c,h=this.Mo,o.Ha!==h.Ha||o.$a!==h.$a){const a=this.lo!==null?Li(this.lo,this.Mo):null;this.Mo=c,e=He(l,c),a!==null&&(this.lo=He(a,c))}}this.Bo(e)}else this.Vh===null&&(this.Bo(new dt(-.5,.5)),this.Mo=Fs(null));var o,h;this.ao.oo=!0}jo(){return this.gh()?Te:this.Oo()?ti:this.eo()?t=>Gi(t,this.Mo):null}l_(t,e,s){return e===void 0?(s===void 0&&(s=this.ma()),s.format(t)):e(t)}Fh(t,e){return this.l_(t,this.ko.priceFormatter,e)}n_(t,e){return this.l_(t,this.ko.percentageFormatter,e)}}class nd{constructor(t,e){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new tt,this.kl=t,this.$i=e,this.c_=new td(this);const s=e.W();this.d_=this.f_("left",s.leftPriceScale),this.v_=this.f_("right",s.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(s)}m_(t){if(t.leftPriceScale&&this.d_.Hh(t.leftPriceScale),t.rightPriceScale&&this.v_.Hh(t.rightPriceScale),t.localization&&(this.d_.Pa(),this.v_.Pa()),t.overlayPriceScales){const e=Array.from(this.a_.values());for(const s of e){const n=C(s[0].Dt());n.Hh(t.overlayPriceScales),t.localization&&n.Pa()}}}b_(t){switch(t){case"left":return this.d_;case"right":return this.v_}return this.a_.has(t)?at(this.a_.get(t))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach(t=>{t.S&&t.S()}),this.u_.m()}g_(){return this.__}M_(t){this.__=t}$t(){return this.$i}Hi(){return this.o_}Vt(){return this.ro}x_(t){this.o_=t,this.S_()}zo(t){this.ro=t,this.d_.zo(t),this.v_.zo(t),this.vo.forEach(e=>{if(this.dr(e)){const s=e.Dt();s!==null&&s.zo(t)}}),this.S_()}Aa(){return this.vo}dr(t){const e=t.Dt();return e===null||this.d_!==e&&this.v_!==e}Uo(t,e,s){const n=s!==void 0?s:this.y_().k_+1;this.C_(t,e,n)}Yo(t){const e=this.vo.indexOf(t);se(e!==-1,"removeDataSource: invalid data source"),this.vo.splice(e,1);const s=C(t.Dt()).Ta();if(this.a_.has(s)){const r=at(this.a_.get(s)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.a_.delete(s))}const n=t.Dt();n&&n.Aa().indexOf(t)>=0&&n.Yo(t),n!==null&&(n.qo(),this.T_(n)),this.po=null}pr(t){return t===this.d_?"left":t===this.v_?"right":"overlay"}P_(){return this.d_}R_(){return this.v_}D_(t,e){t.Zo(e)}O_(t,e){t.Go(e),this.S_()}A_(t){t.Jo()}B_(t,e){t.Qo(e)}V_(t,e){t.t_(e),this.S_()}I_(t){t.i_()}S_(){this.vo.forEach(t=>{t.On()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&this.v_.Aa().length!==0?t=this.v_:this.$i.W().leftPriceScale.visible&&this.d_.Aa().length!==0?t=this.d_:this.vo.length!==0&&(t=this.vo[0].Dt()),t===null&&(t=this.v_),t}vr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.v_:this.$i.W().leftPriceScale.visible&&(t=this.d_),t}T_(t){t!==null&&t.Do()&&this.z_(t)}L_(t){const e=this.kl.Xs();t.Po({Wn:!0}),e!==null&&t.r_(e),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach(t=>{this.dr(t)&&this.T_(t.Dt())}),this.S_(),this.$i.$h()}$o(){return this.po===null&&(this.po=Ml(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(t){const e=t.e_();if(e&&e.length>0&&!this.kl.Ni()){const s=this.kl.Xs();s!==null&&t.r_(s)}t.On()}y_(){const t=this.$o();if(t.length===0)return{j_:0,k_:0};let e=0,s=0;for(let n=0;n<t.length;n++){const r=t[n].Ki();r!==null&&(r<e&&(e=r),r>s&&(s=r))}return{j_:e,k_:s}}C_(t,e,s){let n=this.b_(e);if(n===null&&(n=this.f_(e,this.$i.W().overlayPriceScales)),this.vo.push(t),!cs(e)){const r=this.a_.get(e)||[];r.push(t),this.a_.set(e,r)}n.Uo(t),t.Gi(n),t.Zi(s),this.T_(n),this.po=null}p_(t,e,s){e.yr!==s.yr&&this.z_(t)}f_(t,e){const s=Object.assign({visible:!0,autoScale:!0},jt(e)),n=new sd(t,s,this.$i.W().layout,this.$i.W().localization);return n.zo(this.Vt()),n}}class rd{constructor(t,e,s=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=t,this.U_=e,this.tr=s}q_(t){const e=t.time,s=this.U_.cacheKey(e),n=this.Qe.get(s);if(n!==void 0)return n.Y_;if(this.Ke===this.tr){const o=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(at(o)),this.Ge++,this.Ke--}const r=this.H_(t);return this.Qe.set(s,{Y_:r,er:this.Ze}),this.Je.set(this.Ze,s),this.Ke++,this.Ze++,r}}class ii{constructor(t,e){se(t<=e,"right should be >= left"),this.X_=t,this.K_=e}Os(){return this.X_}ui(){return this.K_}Z_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}yh(t){return this.X_===t.Os()&&this.K_===t.ui()}}function wo(i,t){return i===null||t===null?i===t:i.yh(t)}class od{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(t){this.J_=t,this.Qe=null}tu(t,e){this.iu(e),this.Qe=null;for(let s=e;s<t.length;++s){const n=t[s];let r=this.G_.get(n.timeWeight);r===void 0&&(r=[],this.G_.set(n.timeWeight,r)),r.push({index:s,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}nu(t,e){const s=Math.ceil(e/t);return this.Qe!==null&&this.Qe.su===s||(this.Qe={ja:this.eu(s),su:s}),this.Qe.ja}iu(t){if(t===0)return void this.G_.clear();const e=[];this.G_.forEach((s,n)=>{t<=s[0].index?e.push(n):s.splice(pi(s,t,r=>r.index<t),1/0)});for(const s of e)this.G_.delete(s)}eu(t){let e=[];for(const s of Array.from(this.G_.keys()).sort((n,r)=>r-n)){if(!this.G_.get(s))continue;const n=e;e=[];const r=n.length;let o=0;const h=at(this.G_.get(s)),l=h.length;let c=1/0,a=-1/0;for(let u=0;u<l;u++){const f=h[u],d=f.index;for(;o<r;){const p=n[o],g=p.index;if(!(g<d)){c=g;break}o++,e.push(p),a=g,c=1/0}if(c-d>=t&&d-a>=t)e.push(f),a=d;else if(this.J_)return n}for(;o<r;o++)e.push(n[o])}return e}}class Pe{constructor(t){this.ru=t}hu(){return this.ru===null?null:new ii(Math.floor(this.ru.Os()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new Pe(null)}}function hd(i,t){return i.weight>t.weight?i:t}class ld{constructor(t,e,s,n){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new od,this.cu=new Map,this.du=Pe.au(),this.fu=!0,this.vu=new tt,this.pu=new tt,this.mu=new tt,this.bu=null,this.wu=null,this.gu=[],this.cn=e,this.ko=s,this.Mu=e.rightOffset,this.xu=e.barSpacing,this.$i=t,this.U_=n,this.Su(),this.uu.Q_(e.uniformDistribution)}W(){return this.cn}ku(t){Tt(this.ko,t),this.yu(),this.Su()}Hh(t,e){var s;Tt(this.cn,t),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),t.barSpacing!==void 0&&this.$i.Gn(t.barSpacing),t.rightOffset!==void 0&&this.$i.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.$i.Gn((s=t.barSpacing)!==null&&s!==void 0?s:this.xu),this.yu(),this.Su(),this.mu.m()}mn(t){var e,s;return(s=(e=this._u[t])===null||e===void 0?void 0:e.time)!==null&&s!==void 0?s:null}Ui(t){var e;return(e=this._u[t])!==null&&e!==void 0?e:null}Da(t,e){if(this._u.length<1)return null;if(this.U_.key(t)>this.U_.key(this._u[this._u.length-1].time))return e?this._u.length-1:null;const s=pi(this._u,this.U_.key(t),(n,r)=>this.U_.key(n.time)<r);return this.U_.key(t)<this.U_.key(this._u[s].time)?e?s:null:s}Ni(){return this.o_===0||this._u.length===0||this.ou===null}Ra(){return this._u.length>0}Xs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){const t=this.Xs();if(t===null)return null;const e={from:t.Os(),to:t.ui()};return this.Ou(e)}Ou(t){const e=Math.round(t.from),s=Math.round(t.to),n=C(this.Au()),r=C(this.Bu());return{from:C(this.Ui(Math.max(n,e))),to:C(this.Ui(Math.min(r,s)))}}Vu(t){return{from:C(this.Da(t.from,!0)),to:C(this.Da(t.to,!0))}}Hi(){return this.o_}x_(t){if(!isFinite(t)||t<=0||this.o_===t)return;const e=this.Ru(),s=this.o_;if(this.o_=t,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&s!==0){const n=this.xu*t/s;this.xu=n}if(this.cn.fixLeftEdge&&e!==null&&e.Os()<=0){const n=s-t;this.Mu-=Math.round(n/this.xu)+1,this.fu=!0}this.Iu(),this.zu()}It(t){if(this.Ni()||!hi(t))return 0;const e=this.Lu()+this.Mu-t;return this.o_-(e+.5)*this.xu-1}Js(t,e){const s=this.Lu(),n=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=n;o<r;o++){const h=t[o].ot,l=s+this.Mu-h,c=this.o_-(l+.5)*this.xu-1;t[o].nt=c}}Eu(t){return Math.ceil(this.Nu(t))}Jn(t){this.fu=!0,this.Mu=t,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(t){this.Wu(t),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(this.wu!==null)return this.wu;const t=this.xu,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),s=Math.round(e/t),n=C(this.Xs()),r=Math.max(n.Os(),n.Os()-s),o=Math.max(n.ui(),n.ui()-s),h=this.uu.nu(t,e),l=this.Au()+s,c=this.Bu()-s,a=this.Hu(),u=this.cn.fixLeftEdge||a,f=this.cn.fixRightEdge||a;let d=0;for(const p of h){if(!(r<=p.index&&p.index<=o))continue;let g;d<this.gu.length?(g=this.gu[d],g.coord=this.It(p.index),g.label=this.$u(p),g.weight=p.weight):(g={needAlignCoordinate:!1,coord:this.It(p.index),label:this.$u(p),weight:p.weight},this.gu.push(g)),this.xu>e/2&&!a?g.needAlignCoordinate=!1:g.needAlignCoordinate=u&&p.index<=l||f&&p.index>=c,d++}return this.gu.length=d,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(t){this.fu=!0,this.ou=t,this.zu(),this.Cu()}Yu(t,e){const s=this.Nu(t),n=this.he(),r=n+e*(n/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(s-this.Nu(t)))}Zo(t){this.wo&&this.i_(),this.bo===null&&this.bu===null&&(this.Ni()||(this.bo=t,this.Xu()))}Go(t){if(this.bu===null)return;const e=dn(this.o_-t,0,this.o_),s=dn(this.o_-C(this.bo),0,this.o_);e!==0&&s!==0&&this.Gn(this.bu.he*e/s)}Jo(){this.bo!==null&&(this.bo=null,this.Ku())}Qo(t){this.wo===null&&this.bu===null&&(this.Ni()||(this.wo=t,this.Xu()))}t_(t){if(this.wo===null)return;const e=(this.wo-t)/this.he();this.Mu=C(this.bu).ju+e,this.fu=!0,this.zu()}i_(){this.wo!==null&&(this.wo=null,this.Ku())}Zu(){this.Gu(this.cn.rightOffset)}Gu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.Mu,n=performance.now();this.$i.Xn({Ju:r=>(r-n)/e>=1,Qu:r=>{const o=(r-n)/e;return o>=1?t:s+(t-s)*o}})}bt(t,e){this.fu=!0,this._u=t,this.uu.tu(t,e),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(t){const e=t.Z_();this.Wu(this.o_/e),this.Mu=t.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){const t=this.Au(),e=this.Bu();t!==null&&e!==null&&this.ec(new ii(t,e+this.cn.rightOffset))}hc(t){const e=new ii(t.from,t.to);this.ec(e)}qi(t){return this.ko.timeFormatter!==void 0?this.ko.timeFormatter(t.originalTime):this.U_.formatHorzItem(t.time)}Hu(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Au(){return this._u.length===0?null:0}Bu(){return this._u.length===0?null:this._u.length-1}lc(t){return(this.o_-1-t)/this.xu}Nu(t){const e=this.lc(t),s=this.Lu()+this.Mu-e;return Math.round(1e6*s)/1e6}Wu(t){const e=this.xu;this.xu=t,this.Iu(),e!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(Pe.au());const t=this.Lu(),e=this.o_/this.xu,s=this.Mu+t,n=new ii(s-e+1,s);this.oc(new Pe(n))}Iu(){const t=this._c();if(this.xu<t&&(this.xu=t,this.fu=!0),this.o_!==0){const e=.5*this.o_;this.xu>e&&(this.xu=e,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this._u.length!==0?this.o_/this._u.length:this.cn.minBarSpacing}zu(){const t=this.uc();this.Mu>t&&(this.Mu=t,this.fu=!0);const e=this.cc();e!==null&&this.Mu<e&&(this.Mu=e,this.fu=!0)}cc(){const t=this.Au(),e=this.ou;return t===null||e===null?null:t-e-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}uc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Xu(){this.bu={he:this.he(),ju:this.ju()}}Ku(){this.bu=null}$u(t){let e=this.cu.get(t.weight);return e===void 0&&(e=new rd(s=>this.dc(s),this.U_),this.cu.set(t.weight,e)),e.q_(t)}dc(t){return this.U_.formatTickmark(t,this.ko)}oc(t){const e=this.du;this.du=t,wo(e.hu(),this.du.hu())||this.vu.m(),wo(e.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;const t=this.Au();if(t===null)return;const e=this.Xs();if(e===null)return;const s=e.Os()-t;if(s<0){const n=this.Mu-s-1;this.Jn(n)}this.Iu()}Tu(){this.zu(),this.Iu()}}class cd{K(t,e,s){t.useMediaCoordinateSpace(n=>this.Z(n,e,s))}wl(t,e,s){t.useMediaCoordinateSpace(n=>this.fc(n,e,s))}fc(t,e,s){}}class ad extends cd{constructor(t){super(),this.vc=new Map,this.zt=t}Z(t){}fc(t){if(!this.zt.yt)return;const{context:e,mediaSize:s}=t;let n=0;for(const o of this.zt.mc){if(o.Zt.length===0)continue;e.font=o.R;const h=this.bc(e,o.Zt);h>s.width?o.Yu=s.width/h:o.Yu=1,n+=o.wc*o.Yu}let r=0;switch(this.zt.gc){case"top":r=0;break;case"center":r=Math.max((s.height-n)/2,0);break;case"bottom":r=Math.max(s.height-n,0)}e.fillStyle=this.zt.O;for(const o of this.zt.mc){e.save();let h=0;switch(this.zt.Mc){case"left":e.textAlign="left",h=o.wc/2;break;case"center":e.textAlign="center",h=s.width/2;break;case"right":e.textAlign="right",h=s.width-1-o.wc/2}e.translate(h,r),e.textBaseline="top",e.font=o.R,e.scale(o.Yu,o.Yu),e.fillText(o.Zt,0,o.xc),e.restore(),r+=o.wc*o.Yu}}bc(t,e){const s=this.Sc(t.font);let n=s.get(e);return n===void 0&&(n=t.measureText(e).width,s.set(e,n)),n}Sc(t){let e=this.vc.get(t);return e===void 0&&(e=new Map,this.vc.set(t,e)),e}}class ud{constructor(t){this.ft=!0,this.Ft={yt:!1,O:"",mc:[],gc:"center",Mc:"center"},this.Wt=new ad(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.O=t.color,e.Mc=t.horzAlign,e.gc=t.vertAlign,e.mc=[{Zt:t.text,R:De(t.fontSize,t.fontFamily,t.fontStyle),wc:1.2*t.fontSize,xc:0,Yu:0}])}}class fd extends qn{constructor(t,e){super(),this.cn=e,this.wn=new ud(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}On(){this.wn.bt()}}var yo,_o,So,Co,xo;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(yo||(yo={}));class dd{constructor(t,e,s){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new tt,this.Pc=new tt,this.Rc=null,this.Dc=t,this.cn=e,this.U_=s,this.Oc=new Uu(this),this.kl=new ld(this,e.timeScale,this.cn.localization,s),this.vt=new ef(this,e.crosshair),this.Ac=new Xf(e.crosshair),this.Bc=new fd(this,e.watermark),this.Vc(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Kl(){this.Ec(rt.es())}$h(){this.Ec(rt.ss())}aa(){this.Ec(new rt(1))}Zl(t){const e=this.Nc(t);this.Ec(e)}Fc(){return this.Cc}Wc(t){const e=this.Cc;this.Cc=t,e!==null&&this.Zl(e.jc),t!==null&&this.Zl(t.jc)}W(){return this.cn}Hh(t){Tt(this.cn,t),this.kc.forEach(e=>e.m_(t)),t.timeScale!==void 0&&this.kl.Hh(t.timeScale),t.localization!==void 0&&this.kl.ku(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Kl()}Hc(t,e){if(t==="left")return void this.Hh({leftPriceScale:e});if(t==="right")return void this.Hh({rightPriceScale:e});const s=this.$c(t);s!==null&&(s.Dt.Hh(e),this.Tc.m())}$c(t){for(const e of this.kc){const s=e.b_(t);if(s!==null)return{Ht:e,Dt:s}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Xc(){return this.Pc}Kc(t,e){t.zo(e),this.Fu()}x_(t){this.o_=t,this.kl.x_(this.o_),this.kc.forEach(e=>e.x_(t)),this.Fu()}Vc(t){const e=new nd(this.kl,this);t!==void 0?this.kc.splice(t,0,e):this.kc.push(e);const s=t===void 0?this.kc.length-1:t,n=rt.es();return n.Nn(s,{Fn:0,Wn:!0}),this.Ec(n),e}D_(t,e,s){t.D_(e,s)}O_(t,e,s){t.O_(e,s),this.Gl(),this.Ec(this.Zc(t,2))}A_(t,e){t.A_(e),this.Ec(this.Zc(t,2))}B_(t,e,s){e.Do()||t.B_(e,s)}V_(t,e,s){e.Do()||(t.V_(e,s),this.Gl(),this.Ec(this.Zc(t,2)))}I_(t,e){e.Do()||(t.I_(e),this.Ec(this.Zc(t,2)))}L_(t,e){t.L_(e),this.Ec(this.Zc(t,2))}Gc(t){this.kl.Zo(t)}Jc(t,e){const s=this.St();if(s.Ni()||e===0)return;const n=s.Hi();t=Math.max(1,Math.min(t,n)),s.Yu(t,e),this.Fu()}Qc(t){this.td(0),this.nd(t),this.sd()}ed(t){this.kl.Go(t),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(t){this.kl.Qo(t)}nd(t){this.kl.t_(t),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(t,e,s,n,r){this.vt.gn(t,e);let o=NaN,h=this.kl.Eu(t);const l=this.kl.Xs();l!==null&&(h=Math.min(Math.max(l.Os(),h),l.ui()));const c=n.vn(),a=c.Ct();a!==null&&(o=c.pn(e,a)),o=this.Ac.Oa(o,h,n),this.vt.kn(h,o,n),this.aa(),r||this.Pc.m(this.vt.xt(),{x:t,y:e},s)}ld(t,e,s){const n=s.vn(),r=n.Ct(),o=n.Rt(t,C(r)),h=this.kl.Da(e,!0),l=this.kl.It(C(h));this.hd(l,o,null,s,!0)}ad(t){this.Yc().Cn(),this.aa(),t||this.Pc.m(null,null,null)}Gl(){const t=this.vt.Ht();if(t!==null){const e=this.vt.xn(),s=this.vt.Sn();this.hd(e,s,null,t)}this.vt.On()}od(t,e,s){const n=this.kl.mn(0);e!==void 0&&s!==void 0&&this.kl.bt(e,s);const r=this.kl.mn(0),o=this.kl.Lu(),h=this.kl.Xs();if(h!==null&&n!==null&&r!==null){const l=h.Kr(o),c=this.U_.key(n)>this.U_.key(r),a=t!==null&&t>o&&!c,u=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=l&&(s!==void 0||u)&&this.kl.W().shiftVisibleRangeOnNewBar;if(a&&!f){const d=t-o;this.kl.Jn(this.kl.ju()-d)}}this.kl.qu(t)}ta(t){t!==null&&t.N_()}cr(t){const e=this.kc.find(s=>s.$o().includes(t));return e===void 0?null:e}Fu(){this.Bc.On(),this.kc.forEach(t=>t.N_()),this.Gl()}S(){this.kc.forEach(t=>t.S()),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Oc}mr(){return this.Oc.W()}w_(){return this.Tc}ud(t,e,s){const n=this.kc[0],r=this.dd(e,t,n,s);return this.yc.push(r),this.yc.length===1?this.Kl():this.$h(),r}fd(t){const e=this.cr(t),s=this.yc.indexOf(t);se(s!==-1,"Series not found"),this.yc.splice(s,1),C(e).Yo(t),t.S&&t.S()}Xl(t,e){const s=C(this.cr(t));s.Yo(t);const n=this.$c(e);if(n===null){const r=t.Ki();s.Uo(t,e,r)}else{const r=n.Ht===s?t.Ki():void 0;n.Ht.Uo(t,e,r)}}rc(){const t=rt.ss();t.$n(),this.Ec(t)}vd(t){const e=rt.ss();e.Yn(t),this.Ec(e)}Zn(){const t=rt.ss();t.Zn(),this.Ec(t)}Gn(t){const e=rt.ss();e.Gn(t),this.Ec(e)}Jn(t){const e=rt.ss();e.Jn(t),this.Ec(e)}Xn(t){const e=rt.ss();e.Xn(t),this.Ec(e)}Un(){const t=rt.ss();t.Un(),this.Ec(t)}pd(){return this.cn.rightPriceScale.visible?"right":"left"}md(){return this.Lc}q(){return this.Ic}Bt(t){const e=this.Lc,s=this.Ic;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Rc===null||this.Rc.Ts!==s||this.Rc.Ps!==e)this.Rc={Ts:s,Ps:e,bd:new Map};else{const r=this.Rc.bd.get(t);if(r!==void 0)return r}const n=function(r,o,h){const[l,c,a,u]=Hi(r),[f,d,p,g]=Hi(o),x=[wt(l+h*(f-l)),wt(c+h*(d-c)),wt(a+h*(p-a)),ll(u+h*(g-u))];return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}(s,e,t/100);return this.Rc.bd.set(t,n),n}Zc(t,e){const s=new rt(e);if(t!==null){const n=this.kc.indexOf(t);s.Nn(n,{Fn:e})}return s}Nc(t,e){return e===void 0&&(e=2),this.Zc(this.cr(t),e)}Ec(t){this.Dc&&this.Dc(t),this.kc.forEach(e=>e.W_().Uh().bt())}dd(t,e,s,n){const r=new Qn(this,t,e,s,n),o=t.priceScaleId!==void 0?t.priceScaleId:this.pd();return s.Uo(r,o),cs(o)||r.Hh(t),r}zc(t){const e=this.cn.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function pn(i){return!It(i)&&!di(i)}function El(i){return It(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(_o||(_o={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(So||(So={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(Co||(Co={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(xo||(xo={}));const Mo=i=>i.getUTCFullYear();function pd(i,t,e){return t.replace(/yyyy/g,(s=>Ut(Mo(s),4))(i)).replace(/yy/g,(s=>Ut(Mo(s)%100,2))(i)).replace(/MMMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(i,e)).replace(/MMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(i,e)).replace(/MM/g,(s=>Ut((n=>n.getUTCMonth()+1)(s),2))(i)).replace(/dd/g,(s=>Ut((n=>n.getUTCDate())(s),2))(i))}class Ll{constructor(t="yyyy-MM-dd",e="default"){this.wd=t,this.gd=e}q_(t){return pd(t,this.wd,this.gd)}}class md{constructor(t){this.Md=t||"%h:%m:%s"}q_(t){return this.Md.replace("%h",Ut(t.getUTCHours(),2)).replace("%m",Ut(t.getUTCMinutes(),2)).replace("%s",Ut(t.getUTCSeconds(),2))}}const gd={xd:"yyyy-MM-dd",Sd:"%h:%m:%s",kd:" ",yd:"default"};class bd{constructor(t={}){const e=Object.assign(Object.assign({},gd),t);this.Cd=new Ll(e.xd,e.yd),this.Td=new md(e.Sd),this.Pd=e.kd}q_(t){return`${this.Cd.q_(t)}${this.Pd}${this.Td.q_(t)}`}}function Oi(i){return 60*i*60*1e3}function Bs(i){return 60*i*1e3}const Ti=[{Rd:(Eo=1,1e3*Eo),Dd:10},{Rd:Bs(1),Dd:20},{Rd:Bs(5),Dd:21},{Rd:Bs(30),Dd:22},{Rd:Oi(1),Dd:30},{Rd:Oi(3),Dd:31},{Rd:Oi(6),Dd:32},{Rd:Oi(12),Dd:33}];var Eo;function Lo(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=Ti.length-1;e>=0;--e)if(Math.floor(t.getTime()/Ti[e].Rd)!==Math.floor(i.getTime()/Ti[e].Rd))return Ti[e].Dd;return 0}function Is(i){let t=i;if(di(i)&&(t=tr(i)),!pn(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Od:Math.round(e.getTime()/1e3),Ad:t}}function Oo(i){if(!El(i))throw new Error("time must be of type isUTCTimestamp");return{Od:i}}function tr(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function To(i){di(i.time)&&(i.time=tr(i.time))}class zo{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(To)}(t):To(t)}createConverterToInternalObj(t){return C(function(e){return e.length===0?null:pn(e[0].time)||di(e[0].time)?Is:Oo}(t))}key(t){return typeof t=="object"&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Ad===void 0?new Date(1e3*e.Od).getTime():new Date(Date.UTC(e.Ad.year,e.Ad.month-1,e.Ad.day)).getTime()}convertHorzItemToInternal(t){return El(e=t)?Oo(e):pn(e)?Is(e):Is(tr(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new bd({xd:e,Sd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",kd:"   ",yd:t.locale}):this.Bd=new Ll(e,t.locale)}formatHorzItem(t){const e=t;return this.Bd.q_(new Date(1e3*e.Od))}formatTickmark(t,e){const s=function(r,o,h){switch(r){case 0:case 10:return o?h?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),n=this.cn.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(t.originalTime,s,e.locale);if(r!==null)return r}return function(r,o,h){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=r.Ad===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Ad.year,r.Ad.month-1,r.Ad.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(h,l)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(hd,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(s,n=0){if(s.length===0)return;let r=n===0?null:s[n-1].time.Od,o=r!==null?new Date(1e3*r):null,h=0;for(let l=n;l<s.length;++l){const c=s[l],a=new Date(1e3*c.time.Od);o!==null&&(c.timeWeight=Lo(a,o)),h+=c.time.Od-(r||c.time.Od),r=c.time.Od,o=a}if(n===0&&s.length>1){const l=Math.ceil(h/(s.length-1)),c=new Date(1e3*(s[0].time.Od-l));s[0].timeWeight=Lo(new Date(1e3*s[0].time.Od),c)}})(t,e)}static Vd(t){return Tt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const Fe=typeof window<"u";function Ro(){return!!Fe&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Ws(){return!!Fe&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function mn(i){return i+i%2}function Vs(i,t){return i.Id-t.Id}function js(i,t,e){const s=(i.Id-t.Id)/(i.ot-t.ot);return Math.sign(s)*Math.min(Math.abs(s),e)}class vd{constructor(t,e,s,n){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=t,this.$d=e,this.Ud=s,this.rs=n}qd(t,e){if(this.zd!==null){if(this.zd.ot===e)return void(this.zd.Id=t);if(Math.abs(this.zd.Id-t)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:e,Id:t}}Dr(t,e){if(this.zd===null||this.Ld===null||e-this.zd.ot>50)return;let s=0;const n=js(this.zd,this.Ld,this.$d),r=Vs(this.zd,this.Ld),o=[n],h=[r];if(s+=r,this.Ed!==null){const c=js(this.Ld,this.Ed,this.$d);if(Math.sign(c)===Math.sign(n)){const a=Vs(this.Ld,this.Ed);if(o.push(c),h.push(a),s+=a,this.Nd!==null){const u=js(this.Ed,this.Nd,this.$d);if(Math.sign(u)===Math.sign(n)){const f=Vs(this.Ed,this.Nd);o.push(u),h.push(f),s+=f}}}}let l=0;for(let c=0;c<o.length;++c)l+=h[c]/s*o[c];Math.abs(l)<this.Hd||(this.Fd={Id:t,ot:e},this.jd=l,this.Wd=function(c,a){const u=Math.log(a);return Math.log(1*u/-c)/u}(Math.abs(l),this.Ud))}Qu(t){const e=C(this.Fd),s=t-e.ot;return e.Id+this.jd*(Math.pow(this.Ud,s)-1)/Math.log(this.Ud)}Ju(t){return this.Fd===null||this.Yd(t)===this.Wd}Yd(t){const e=t-C(this.Fd).ot;return Math.min(e,this.Wd)}}function Se(i,t){const e=C(i.ownerDocument).createElement("canvas");i.appendChild(e);const s=Tu(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return s.resizeCanvasElement(t),s}function Ce(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function gn(i,t,e,s){i.wl&&i.wl(t,e,s)}function $i(i,t,e,s){i.K(t,e,s)}function bn(i,t,e,s){const n=i(e,s);for(const r of n){const o=r.gt();o!==null&&t(o)}}function wd(i){Fe&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class er{constructor(t,e,s){this.Xd=0,this.Kd=null,this.Zd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Gd=0,this.Jd=null,this.Qd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.tf=null,this.if=!1,this.nf=null,this.sf=null,this.ef=!1,this.rf=!1,this.hf=!1,this.lf=null,this.af=null,this._f=null,this.uf=null,this.cf=null,this.df=null,this.ff=null,this.vf=0,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=0,this.gf=null,this.Mf=!Ws(),this.xf=n=>{this.Sf(n)},this.kf=n=>{if(this.yf(n)){const r=this.Cf(n);if(++this.Gd,this.Jd&&this.Gd>1){const{Tf:o}=this.Pf(At(n),this.Qd);o<30&&!this.hf&&this.Rf(r,this.Of.Df),this.Af()}}else{const r=this.Cf(n);if(++this.Xd,this.Kd&&this.Xd>1){const{Tf:o}=this.Pf(At(n),this.Zd);o<5&&!this.rf&&this.Bf(r,this.Of.Vf),this.If()}}},this.zf=t,this.Of=e,this.cn=s,this.Lf()}S(){this.lf!==null&&(this.lf(),this.lf=null),this.af!==null&&(this.af(),this.af=null),this.uf!==null&&(this.uf(),this.uf=null),this.cf!==null&&(this.cf(),this.cf=null),this.df!==null&&(this.df(),this.df=null),this._f!==null&&(this._f(),this._f=null),this.Ef(),this.If()}Nf(t){this.uf&&this.uf();const e=this.Ff.bind(this);if(this.uf=()=>{this.zf.removeEventListener("mousemove",e)},this.zf.addEventListener("mousemove",e),this.yf(t))return;const s=this.Cf(t);this.Bf(s,this.Of.Wf),this.Mf=!0}If(){this.Kd!==null&&clearTimeout(this.Kd),this.Xd=0,this.Kd=null,this.Zd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Af(){this.Jd!==null&&clearTimeout(this.Jd),this.Gd=0,this.Jd=null,this.Qd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Ff(t){if(this.bf||this.sf!==null||this.yf(t))return;const e=this.Cf(t);this.Bf(e,this.Of.jf),this.Mf=!0}Hf(t){const e=Us(t.changedTouches,C(this.gf));if(e===null||(this.wf=zi(t),this.ff!==null)||this.mf)return;this.pf=!0;const s=this.Pf(At(e),C(this.sf)),{$f:n,Uf:r,Tf:o}=s;if(this.ef||!(o<5)){if(!this.ef){const h=.5*n,l=r>=h&&!this.cn.qf(),c=h>r&&!this.cn.Yf();l||c||(this.mf=!0),this.ef=!0,this.hf=!0,this.Ef(),this.Af()}if(!this.mf){const h=this.Cf(t,e);this.Rf(h,this.Of.Xf),Le(t)}}}Kf(t){if(t.button!==0)return;const e=this.Pf(At(t),C(this.nf)),{Tf:s}=e;if(s>=5&&(this.rf=!0,this.If()),this.rf){const n=this.Cf(t);this.Bf(n,this.Of.Zf)}}Pf(t,e){const s=Math.abs(e.nt-t.nt),n=Math.abs(e.st-t.st);return{$f:s,Uf:n,Tf:s+n}}Gf(t){let e=Us(t.changedTouches,C(this.gf));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.gf=null,this.wf=zi(t),this.Ef(),this.sf=null,this.df&&(this.df(),this.df=null);const s=this.Cf(t,e);if(this.Rf(s,this.Of.Jf),++this.Gd,this.Jd&&this.Gd>1){const{Tf:n}=this.Pf(At(e),this.Qd);n<30&&!this.hf&&this.Rf(s,this.Of.Df),this.Af()}else this.hf||(this.Rf(s,this.Of.Qf),this.Of.Qf&&Le(t));this.Gd===0&&Le(t),t.touches.length===0&&this.if&&(this.if=!1,Le(t))}Sf(t){if(t.button!==0)return;const e=this.Cf(t);if(this.nf=null,this.bf=!1,this.cf&&(this.cf(),this.cf=null),Ro()&&this.zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.xf),!this.yf(t))if(this.Bf(e,this.Of.tv),++this.Xd,this.Kd&&this.Xd>1){const{Tf:s}=this.Pf(At(t),this.Zd);s<5&&!this.rf&&this.Bf(e,this.Of.Vf),this.If()}else this.rf||this.Bf(e,this.Of.iv)}Ef(){this.tf!==null&&(clearTimeout(this.tf),this.tf=null)}nv(t){if(this.gf!==null)return;const e=t.changedTouches[0];this.gf=e.identifier,this.wf=zi(t);const s=this.zf.ownerDocument.documentElement;this.hf=!1,this.ef=!1,this.mf=!1,this.sf=At(e),this.df&&(this.df(),this.df=null);{const r=this.Hf.bind(this),o=this.Gf.bind(this);this.df=()=>{s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Ef(),this.tf=setTimeout(this.sv.bind(this,t),240)}const n=this.Cf(t,e);this.Rf(n,this.Of.ev),this.Jd||(this.Gd=0,this.Jd=setTimeout(this.Af.bind(this),500),this.Qd=At(e))}rv(t){if(t.button!==0)return;const e=this.zf.ownerDocument.documentElement;Ro()&&e.addEventListener("mouseleave",this.xf),this.rf=!1,this.nf=At(t),this.cf&&(this.cf(),this.cf=null);{const n=this.Kf.bind(this),r=this.Sf.bind(this);this.cf=()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",r)}if(this.bf=!0,this.yf(t))return;const s=this.Cf(t);this.Bf(s,this.Of.hv),this.Kd||(this.Xd=0,this.Kd=setTimeout(this.If.bind(this),500),this.Zd=At(t))}Lf(){this.zf.addEventListener("mouseenter",this.Nf.bind(this)),this.zf.addEventListener("touchcancel",this.Ef.bind(this));{const t=this.zf.ownerDocument,e=s=>{this.Of.lv&&(s.composed&&this.zf.contains(s.composedPath()[0])||s.target&&this.zf.contains(s.target)||this.Of.lv())};this.af=()=>{t.removeEventListener("touchstart",e)},this.lf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Ws()&&(this._f=()=>{this.zf.removeEventListener("dblclick",this.kf)},this.zf.addEventListener("dblclick",this.kf)),this.zf.addEventListener("mouseleave",this.av.bind(this)),this.zf.addEventListener("touchstart",this.nv.bind(this),{passive:!0}),wd(this.zf),this.zf.addEventListener("mousedown",this.rv.bind(this)),this.ov(),this.zf.addEventListener("touchmove",()=>{},{passive:!1})}ov(){this.Of._v===void 0&&this.Of.uv===void 0&&this.Of.cv===void 0||(this.zf.addEventListener("touchstart",t=>this.dv(t.touches),{passive:!0}),this.zf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.ff!==null&&this.Of.uv!==void 0){const e=ko(t.touches[0],t.touches[1])/this.vf;this.Of.uv(this.ff,e),Le(t)}},{passive:!1}),this.zf.addEventListener("touchend",t=>{this.dv(t.touches)}))}dv(t){t.length===1&&(this.pf=!1),t.length!==2||this.pf||this.if?this.fv():this.vv(t)}vv(t){const e=this.zf.getBoundingClientRect()||{left:0,top:0};this.ff={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.vf=ko(t[0],t[1]),this.Of._v!==void 0&&this.Of._v(),this.Ef()}fv(){this.ff!==null&&(this.ff=null,this.Of.cv!==void 0&&this.Of.cv())}av(t){if(this.uf&&this.uf(),this.yf(t)||!this.Mf)return;const e=this.Cf(t);this.Bf(e,this.Of.pv),this.Mf=!Ws()}sv(t){const e=Us(t.touches,C(this.gf));if(e===null)return;const s=this.Cf(t,e);this.Rf(s,this.Of.mv),this.hf=!0,this.if=!0}yf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:zi(t)<this.wf+500}Rf(t,e){e&&e.call(this.Of,t)}Bf(t,e){e&&e.call(this.Of,t)}Cf(t,e){const s=e||t,n=this.zf.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-n.left,localY:s.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,bv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",wv:t.type,gv:s.target,Mv:t.view,xv:()=>{t.type!=="touchstart"&&Le(t)}}}}function ko(i,t){const e=i.clientX-t.clientX,s=i.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function Le(i){i.cancelable&&i.preventDefault()}function At(i){return{nt:i.pageX,st:i.pageY}}function zi(i){return i.timeStamp||performance.now()}function Us(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}function Ri(i){return{jc:i.jc,Sv:{wr:i.kv.externalId},yv:i.kv.cursorStyle}}function yd(i,t,e){for(const s of i){const n=s.gt();if(n!==null&&n.br){const r=n.br(t,e);if(r!==null)return{Mv:s,Sv:r}}}return null}function Hs(i,t){return e=>{var s,n,r,o;return((n=(s=e.Dt())===null||s===void 0?void 0:s.Ta())!==null&&n!==void 0?n:"")!==t?[]:(o=(r=e.ca)===null||r===void 0?void 0:r.call(e,i))!==null&&o!==void 0?o:[]}}function Po(i,t,e,s){if(!i.length)return;let n=0;const r=i[0].Vt(s,!0);let o=t===1?e/2-(i[0].Oi()-r/2):i[0].Oi()-r/2-e/2;o=Math.max(0,o);for(let h=1;h<i.length;h++){const l=i[h],c=i[h-1],a=c.Vt(s,!1),u=l.Oi(),f=c.Oi();if(t===1?u>f-a:u<f+a){const d=f-a*t;l.Ai(d);const p=d-t*a/2;if((t===1?p<0:p>e)&&o>0){const g=t===1?-1-p:p-e,x=Math.min(g,o);for(let M=n;M<i.length;M++)i[M].Ai(i[M].Oi()+t*x);o-=x}}else n=h,o=t===1?f-a-u:u-(f+a)}}class No{constructor(t,e,s,n){this.Li=null,this.Cv=null,this.Tv=!1,this.Pv=new ci(200),this.Jr=null,this.Rv=0,this.Dv=!1,this.Ov=()=>{this.Dv||this.tn.Av().$t().$h()},this.Bv=()=>{this.Dv||this.tn.Av().$t().$h()},this.tn=t,this.cn=e,this.So=e.layout,this.Oc=s,this.Vv=n==="left",this.Iv=Hs("normal",n),this.zv=Hs("top",n),this.Lv=Hs("bottom",n),this.Ev=document.createElement("div"),this.Ev.style.height="100%",this.Ev.style.overflow="hidden",this.Ev.style.width="25px",this.Ev.style.left="0",this.Ev.style.position="relative",this.Nv=Se(this.Ev,X({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);const r=this.Nv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Fv=Se(this.Ev,X({width:16,height:16})),this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);const o=this.Fv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const h={hv:this.Wv.bind(this),ev:this.Wv.bind(this),Zf:this.jv.bind(this),Xf:this.jv.bind(this),lv:this.Hv.bind(this),tv:this.$v.bind(this),Jf:this.$v.bind(this),Vf:this.Uv.bind(this),Df:this.Uv.bind(this),Wf:this.qv.bind(this),pv:this.Yv.bind(this)};this.Xv=new er(this.Fv.canvasElement,h,{qf:()=>!this.cn.handleScroll.vertTouchDrag,Yf:()=>!0})}S(){this.Xv.S(),this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv),Ce(this.Fv.canvasElement),this.Fv.dispose(),this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),Ce(this.Nv.canvasElement),this.Nv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}Kv(){return this.Ev}P(){return this.So.fontSize}Zv(){const t=this.Oc.W();return this.Jr!==t.R&&(this.Pv.ir(),this.Jr=t.R),t}Gv(){if(this.Li===null)return 0;let t=0;const e=this.Zv(),s=C(this.Nv.canvasElement.getContext("2d"));s.save();const n=this.Li.ja();s.font=this.Jv(),n.length>0&&(t=Math.max(this.Pv.xi(s,n[0].no),this.Pv.xi(s,n[n.length-1].no)));const r=this.Qv();for(let l=r.length;l--;){const c=this.Pv.xi(s,r[l].Zt());c>t&&(t=c)}const o=this.Li.Ct();if(o!==null&&this.Cv!==null){const l=this.Li.pn(1,o),c=this.Li.pn(this.Cv.height-2,o);t=Math.max(t,this.Pv.xi(s,this.Li.Fi(Math.floor(Math.min(l,c))+.11111111111111,o)),this.Pv.xi(s,this.Li.Fi(Math.ceil(Math.max(l,c))-.11111111111111,o)))}s.restore();const h=t||34;return mn(Math.ceil(e.C+e.T+e.V+e.I+5+h))}tp(t){this.Cv!==null&&be(this.Cv,t)||(this.Cv=t,this.Dv=!0,this.Nv.resizeCanvasElement(t),this.Fv.resizeCanvasElement(t),this.Dv=!1,this.Ev.style.width=`${t.width}px`,this.Ev.style.height=`${t.height}px`)}ip(){return C(this.Cv).width}Gi(t){this.Li!==t&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){const t=this.tn.np();this.tn.Av().$t().L_(t,C(this.Dt()))}sp(t){if(this.Cv===null)return;if(t!==1){this.ep(),this.Nv.applySuggestedBitmapSize();const s=ye(this.Nv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.rp(n),this.Ve(n)}),this.tn.hp(s,this.Lv),this.lp(s),this.tn.hp(s,this.Iv),this.ap(s))}this.Fv.applySuggestedBitmapSize();const e=ye(this.Fv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.op(e),this.tn.hp(e,this.zv))}_p(){return this.Nv.bitmapSize}up(t,e,s){const n=this._p();n.width>0&&n.height>0&&t.drawImage(this.Nv.canvasElement,e,s)}bt(){var t;(t=this.Li)===null||t===void 0||t.ja()}Wv(t){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Av().$t(),s=this.tn.np();this.Tv=!0,e.D_(s,this.Li,t.localY)}jv(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Av().$t(),s=this.tn.np(),n=this.Li;e.O_(s,n,t.localY)}Hv(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Av().$t(),e=this.tn.np(),s=this.Li;this.Tv&&(this.Tv=!1,t.A_(e,s))}$v(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Av().$t(),s=this.tn.np();this.Tv=!1,e.A_(s,this.Li)}Uv(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}qv(t){this.Li!==null&&(!this.tn.Av().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Oo()||this.cp(1))}Yv(t){this.cp(0)}Qv(){const t=[],e=this.Li===null?void 0:this.Li;return(s=>{for(let n=0;n<s.length;++n){const r=s[n].Rn(this.tn.np(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.tn.np().$o()),t}rp({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.tn.np().$t(),o=r.q(),h=r.md();o===h?hs(t,0,0,s,n,o):cl(t,0,0,s,n,o,h)}Ve({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.Cv===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const n=Math.max(1,Math.floor(this.Zv().C*s));let r;r=this.Vv?e.width-n:0,t.fillRect(r,0,n,e.height)}lp(t){if(this.Cv===null||this.Li===null)return;const e=this.Li.ja(),s=this.Li.W(),n=this.Zv(),r=this.Vv?this.Cv.width-n.T:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:h,verticalPixelRatio:l})=>{o.fillStyle=s.borderColor;const c=Math.max(1,Math.floor(l)),a=Math.floor(.5*l),u=Math.round(n.T*h);o.beginPath();for(const f of e)o.rect(Math.floor(r*h),Math.round(f.La*l)-a,u,c);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var h;o.font=this.Jv(),o.fillStyle=(h=s.textColor)!==null&&h!==void 0?h:this.So.textColor,o.textAlign=this.Vv?"right":"left",o.textBaseline="middle";const l=this.Vv?Math.round(r-n.V):Math.round(r+n.T+n.V),c=e.map(a=>this.Pv.Mi(o,a.no));for(let a=e.length;a--;){const u=e[a];o.fillText(u.no,l,u.La+c[a])}})}ep(){if(this.Cv===null||this.Li===null)return;let t=this.Cv.height/2;const e=[],s=this.Li.$o().slice(),n=this.tn.np(),r=this.Zv();this.Li===n.vr()&&this.tn.np().$o().forEach(l=>{n.dr(l)&&s.push(l)});const o=this.Li.Aa()[0],h=this.Li;s.forEach(l=>{const c=l.Rn(n,h);c.forEach(a=>{a.Ai(null),a.Bi()&&e.push(a)}),o===l&&c.length>0&&(t=c[0].ki())}),e.forEach(l=>l.Ai(l.ki())),this.Li.W().alignLabels&&this.dp(e,r,t)}dp(t,e,s){if(this.Cv===null)return;const n=t.filter(o=>o.ki()<=s),r=t.filter(o=>o.ki()>s);n.sort((o,h)=>h.ki()-o.ki()),n.length&&r.length&&r.push(n[0]),r.sort((o,h)=>o.ki()-h.ki());for(const o of t){const h=Math.floor(o.Vt(e)/2),l=o.ki();l>-h&&l<h&&o.Ai(h),l>this.Cv.height-h&&l<this.Cv.height+h&&o.Ai(this.Cv.height-h)}Po(n,1,this.Cv.height,e),Po(r,-1,this.Cv.height,e)}ap(t){if(this.Cv===null)return;const e=this.Qv(),s=this.Zv(),n=this.Vv?"right":"left";e.forEach(r=>{r.Vi()&&r.gt(C(this.Li)).K(t,s,this.Pv,n)})}op(t){if(this.Cv===null||this.Li===null)return;const e=this.tn.Av().$t(),s=[],n=this.tn.np(),r=e.Yc().Rn(n,this.Li);r.length&&s.push(r);const o=this.Zv(),h=this.Vv?"right":"left";s.forEach(l=>{l.forEach(c=>{c.gt(C(this.Li)).K(t,o,this.Pv,h)})})}cp(t){this.Ev.style.cursor=t===1?"ns-resize":"default"}do(){const t=this.Gv();this.Rv<t&&this.tn.Av().$t().Kl(),this.Rv=t}Jv(){return De(this.So.fontSize,this.So.fontFamily)}}function _d(i,t){var e,s;return(s=(e=i._a)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function ki(i,t){var e,s;return(s=(e=i.Pn)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function Sd(i,t){var e,s;return(s=(e=i.Ji)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function Cd(i,t){var e,s;return(s=(e=i.la)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}class ir{constructor(t,e){this.Cv=X({width:0,height:0}),this.fp=null,this.vp=null,this.pp=null,this.mp=!1,this.bp=new tt,this.wp=new tt,this.gp=0,this.Mp=!1,this.xp=null,this.Sp=!1,this.kp=null,this.yp=null,this.Dv=!1,this.Ov=()=>{this.Dv||this.Cp===null||this.$i().$h()},this.Bv=()=>{this.Dv||this.Cp===null||this.$i().$h()},this.Tp=t,this.Cp=e,this.Cp.F_().l(this.Pp.bind(this),this,!0),this.Rp=document.createElement("td"),this.Rp.style.padding="0",this.Rp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Dp=document.createElement("td"),this.Dp.style.padding="0",this.Op=document.createElement("td"),this.Op.style.padding="0",this.Rp.appendChild(s),this.Nv=Se(s,X({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);const n=this.Nv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Fv=Se(s,X({width:16,height:16})),this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);const r=this.Fv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Ap=document.createElement("tr"),this.Ap.appendChild(this.Dp),this.Ap.appendChild(this.Rp),this.Ap.appendChild(this.Op),this.Bp(),this.Xv=new er(this.Fv.canvasElement,this,{qf:()=>this.xp===null&&!this.Tp.W().handleScroll.vertTouchDrag,Yf:()=>this.xp===null&&!this.Tp.W().handleScroll.horzTouchDrag})}S(){this.fp!==null&&this.fp.S(),this.vp!==null&&this.vp.S(),this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv),Ce(this.Fv.canvasElement),this.Fv.dispose(),this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),Ce(this.Nv.canvasElement),this.Nv.dispose(),this.Cp!==null&&this.Cp.F_().p(this),this.Xv.S()}np(){return C(this.Cp)}Vp(t){this.Cp!==null&&this.Cp.F_().p(this),this.Cp=t,this.Cp!==null&&this.Cp.F_().l(ir.prototype.Pp.bind(this),this,!0),this.Bp()}Av(){return this.Tp}Kv(){return this.Ap}Bp(){if(this.Cp!==null&&(this.Ip(),this.$i().wt().length!==0)){if(this.fp!==null){const t=this.Cp.P_();this.fp.Gi(C(t))}if(this.vp!==null){const t=this.Cp.R_();this.vp.Gi(C(t))}}}zp(){this.fp!==null&&this.fp.bt(),this.vp!==null&&this.vp.bt()}g_(){return this.Cp!==null?this.Cp.g_():0}M_(t){this.Cp&&this.Cp.M_(t)}Wf(t){if(!this.Cp)return;this.Lp();const e=t.localX,s=t.localY;this.Ep(e,s,t)}hv(t){this.Lp(),this.Np(),this.Ep(t.localX,t.localY,t)}jf(t){var e;if(!this.Cp)return;this.Lp();const s=t.localX,n=t.localY;this.Ep(s,n,t);const r=this.br(s,n);this.Tp.Fp((e=r==null?void 0:r.yv)!==null&&e!==void 0?e:null),this.$i().Wc(r&&{jc:r.jc,Sv:r.Sv})}iv(t){this.Cp!==null&&(this.Lp(),this.Wp(t))}Vf(t){this.Cp!==null&&this.jp(this.wp,t)}Df(t){this.Vf(t)}Zf(t){this.Lp(),this.Hp(t),this.Ep(t.localX,t.localY,t)}tv(t){this.Cp!==null&&(this.Lp(),this.Mp=!1,this.$p(t))}Qf(t){this.Cp!==null&&this.Wp(t)}mv(t){if(this.Mp=!0,this.xp===null){const e={x:t.localX,y:t.localY};this.Up(e,e,t)}}pv(t){this.Cp!==null&&(this.Lp(),this.Cp.$t().Wc(null),this.qp())}Yp(){return this.bp}Xp(){return this.wp}_v(){this.gp=1,this.$i().Un()}uv(t,e){if(!this.Tp.W().handleScale.pinch)return;const s=5*(e-this.gp);this.gp=e,this.$i().Jc(t.nt,s)}ev(t){this.Mp=!1,this.Sp=this.xp!==null,this.Np();const e=this.$i().Yc();this.xp!==null&&e.yt()&&(this.kp={x:e.Yt(),y:e.Xt()},this.xp={x:t.localX,y:t.localY})}Xf(t){if(this.Cp===null)return;const e=t.localX,s=t.localY;if(this.xp===null)this.Hp(t);else{this.Sp=!1;const n=C(this.kp),r=n.x+(e-this.xp.x),o=n.y+(s-this.xp.y);this.Ep(r,o,t)}}Jf(t){this.Av().W().trackingMode.exitMode===0&&(this.Sp=!0),this.Kp(),this.$p(t)}br(t,e){const s=this.Cp;return s===null?null:function(n,r,o){const h=n.$o(),l=function(c,a,u){var f,d;let p,g;for(const k of c){const T=(d=(f=k.fa)===null||f===void 0?void 0:f.call(k,a,u))!==null&&d!==void 0?d:[];for(const P of T)x=P.zOrder,(!(M=p==null?void 0:p.zOrder)||x==="top"&&M!=="top"||x==="normal"&&M==="bottom")&&(p=P,g=k)}var x,M;return p&&g?{kv:p,jc:g}:null}(h,r,o);if((l==null?void 0:l.kv.zOrder)==="top")return Ri(l);for(const c of h){if(l&&l.jc===c&&l.kv.zOrder!=="bottom"&&!l.kv.isBackground)return Ri(l);const a=yd(c.Pn(n),r,o);if(a!==null)return{jc:c,Mv:a.Mv,Sv:a.Sv};if(l&&l.jc===c&&l.kv.zOrder!=="bottom"&&l.kv.isBackground)return Ri(l)}return l!=null&&l.kv?Ri(l):null}(s,t,e)}Zp(t,e){C(e==="left"?this.fp:this.vp).tp(X({width:t,height:this.Cv.height}))}Gp(){return this.Cv}tp(t){be(this.Cv,t)||(this.Cv=t,this.Dv=!0,this.Nv.resizeCanvasElement(t),this.Fv.resizeCanvasElement(t),this.Dv=!1,this.Rp.style.width=t.width+"px",this.Rp.style.height=t.height+"px")}Jp(){const t=C(this.Cp);t.T_(t.P_()),t.T_(t.R_());for(const e of t.Aa())if(t.dr(e)){const s=e.Dt();s!==null&&t.T_(s),e.On()}}_p(){return this.Nv.bitmapSize}up(t,e,s){const n=this._p();n.width>0&&n.height>0&&t.drawImage(this.Nv.canvasElement,e,s)}sp(t){if(t===0||this.Cp===null)return;if(t>1&&this.Jp(),this.fp!==null&&this.fp.sp(t),this.vp!==null&&this.vp.sp(t),t!==1){this.Nv.applySuggestedBitmapSize();const s=ye(this.Nv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.rp(n)}),this.Cp&&(this.Qp(s,_d),this.tm(s),this.im(s),this.Qp(s,ki),this.Qp(s,Sd)))}this.Fv.applySuggestedBitmapSize();const e=ye(this.Fv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.nm(e),this.Qp(e,Cd))}sm(){return this.fp}rm(){return this.vp}hp(t,e){this.Qp(t,e)}Pp(){this.Cp!==null&&this.Cp.F_().p(this),this.Cp=null}Wp(t){this.jp(this.bp,t)}jp(t,e){const s=e.localX,n=e.localY;t.M()&&t.m(this.$i().St().Eu(s),{x:s,y:n},e)}rp({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.$i(),o=r.q(),h=r.md();o===h?hs(t,0,0,s,n,h):cl(t,0,0,s,n,o,h)}tm(t){const e=C(this.Cp).W_().Uh().gt();e!==null&&e.K(t,!1)}im(t){const e=this.$i().qc();this.hm(t,ki,gn,e),this.hm(t,ki,$i,e)}nm(t){this.hm(t,ki,$i,this.$i().Yc())}Qp(t,e){const s=C(this.Cp).$o();for(const n of s)this.hm(t,e,gn,n);for(const n of s)this.hm(t,e,$i,n)}hm(t,e,s,n){const r=C(this.Cp),o=r.$t().Fc(),h=o!==null&&o.jc===n,l=o!==null&&h&&o.Sv!==void 0?o.Sv.gr:void 0;bn(e,c=>s(c,t,h,l),n,r)}Ip(){if(this.Cp===null)return;const t=this.Tp,e=this.Cp.P_().W().visible,s=this.Cp.R_().W().visible;e||this.fp===null||(this.Dp.removeChild(this.fp.Kv()),this.fp.S(),this.fp=null),s||this.vp===null||(this.Op.removeChild(this.vp.Kv()),this.vp.S(),this.vp=null);const n=t.$t()._d();e&&this.fp===null&&(this.fp=new No(this,t.W(),n,"left"),this.Dp.appendChild(this.fp.Kv())),s&&this.vp===null&&(this.vp=new No(this,t.W(),n,"right"),this.Op.appendChild(this.vp.Kv()))}lm(t){return t.bv&&this.Mp||this.xp!==null}am(t){return Math.max(0,Math.min(t,this.Cv.width-1))}om(t){return Math.max(0,Math.min(t,this.Cv.height-1))}Ep(t,e,s){this.$i().hd(this.am(t),this.om(e),s,C(this.Cp))}qp(){this.$i().ad()}Kp(){this.Sp&&(this.xp=null,this.qp())}Up(t,e,s){this.xp=t,this.Sp=!1,this.Ep(e.x,e.y,s);const n=this.$i().Yc();this.kp={x:n.Yt(),y:n.Xt()}}$i(){return this.Tp.$t()}$p(t){if(!this.mp)return;const e=this.$i(),s=this.np();if(e.I_(s,s.vn()),this.pp=null,this.mp=!1,e.sd(),this.yp!==null){const n=performance.now(),r=e.St();this.yp.Dr(r.ju(),n),this.yp.Ju(n)||e.Xn(this.yp)}}Lp(){this.xp=null}Np(){if(this.Cp){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)C(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Cp.vn().Ni()&&this.$i().St().Ni()}}Hp(t){if(this.Cp===null)return;const e=this.$i(),s=e.St();if(s.Ni())return;const n=this.Tp.W(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||t.bv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.bv))return;const h=this.Cp.vn(),l=performance.now();if(this.pp!==null||this.lm(t)||(this.pp={x:t.clientX,y:t.clientY,Od:l,_m:t.localX,um:t.localY}),this.pp!==null&&!this.mp&&(this.pp.x!==t.clientX||this.pp.y!==t.clientY)){if(t.bv&&o.touch||!t.bv&&o.mouse){const c=s.he();this.yp=new vd(.2/c,7/c,.997,15/c),this.yp.qd(s.ju(),this.pp.Od)}else this.yp=null;h.Ni()||e.B_(this.Cp,h,t.localY),e.td(t.localX),this.mp=!0}this.mp&&(h.Ni()||e.V_(this.Cp,h,t.localY),e.nd(t.localX),this.yp!==null&&this.yp.qd(s.ju(),l))}}class Ao{constructor(t,e,s,n,r){this.ft=!0,this.Cv=X({width:0,height:0}),this.Ov=()=>this.sp(3),this.Vv=t==="left",this.Oc=s._d,this.cn=e,this.dm=n,this.fm=r,this.Ev=document.createElement("div"),this.Ev.style.width="25px",this.Ev.style.height="100%",this.Ev.style.overflow="hidden",this.Nv=Se(this.Ev,X({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov)}S(){this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),Ce(this.Nv.canvasElement),this.Nv.dispose()}Kv(){return this.Ev}Gp(){return this.Cv}tp(t){be(this.Cv,t)||(this.Cv=t,this.Nv.resizeCanvasElement(t),this.Ev.style.width=`${t.width}px`,this.Ev.style.height=`${t.height}px`,this.ft=!0)}sp(t){if(t<3&&!this.ft||this.Cv.width===0||this.Cv.height===0)return;this.ft=!1,this.Nv.applySuggestedBitmapSize();const e=ye(this.Nv);e!==null&&e.useBitmapCoordinateSpace(s=>{this.rp(s),this.Ve(s)})}_p(){return this.Nv.bitmapSize}up(t,e,s){const n=this._p();n.width>0&&n.height>0&&t.drawImage(this.Nv.canvasElement,e,s)}Ve({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(!this.dm())return;t.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*s),o=Math.floor(this.Oc.W().C*n),h=this.Vv?e.width-r:0;t.fillRect(h,0,r,o)}rp({context:t,bitmapSize:e}){hs(t,0,0,e.width,e.height,this.fm())}}function sr(i){return t=>{var e,s;return(s=(e=t.da)===null||e===void 0?void 0:e.call(t,i))!==null&&s!==void 0?s:[]}}const xd=sr("normal"),Md=sr("top"),Ed=sr("bottom");class Ld{constructor(t,e){this.vm=null,this.pm=null,this.k=null,this.bm=!1,this.Cv=X({width:0,height:0}),this.wm=new tt,this.Pv=new ci(5),this.Dv=!1,this.Ov=()=>{this.Dv||this.Tp.$t().$h()},this.Bv=()=>{this.Dv||this.Tp.$t().$h()},this.Tp=t,this.U_=e,this.cn=t.W().layout,this.gm=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.xm=document.createElement("td"),this.xm.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.height="25px",this.Ev.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.Ev.appendChild(this.Sm),this.Nv=Se(this.Sm,X({width:16,height:16})),this.Nv.subscribeSuggestedBitmapSizeChanged(this.Ov);const s=this.Nv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Fv=Se(this.Sm,X({width:16,height:16})),this.Fv.subscribeSuggestedBitmapSizeChanged(this.Bv);const n=this.Fv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.gm.appendChild(this.Mm),this.gm.appendChild(this.Ev),this.gm.appendChild(this.xm),this.km(),this.Tp.$t().w_().l(this.km.bind(this),this),this.Xv=new er(this.Fv.canvasElement,this,{qf:()=>!0,Yf:()=>!this.Tp.W().handleScroll.horzTouchDrag})}S(){this.Xv.S(),this.vm!==null&&this.vm.S(),this.pm!==null&&this.pm.S(),this.Fv.unsubscribeSuggestedBitmapSizeChanged(this.Bv),Ce(this.Fv.canvasElement),this.Fv.dispose(),this.Nv.unsubscribeSuggestedBitmapSizeChanged(this.Ov),Ce(this.Nv.canvasElement),this.Nv.dispose()}Kv(){return this.gm}ym(){return this.vm}Cm(){return this.pm}hv(t){if(this.bm)return;this.bm=!0;const e=this.Tp.$t();!e.St().Ni()&&this.Tp.W().handleScale.axisPressedMouseMove.time&&e.Gc(t.localX)}ev(t){this.hv(t)}lv(){const t=this.Tp.$t();!t.St().Ni()&&this.bm&&(this.bm=!1,this.Tp.W().handleScale.axisPressedMouseMove.time&&t.rd())}Zf(t){const e=this.Tp.$t();!e.St().Ni()&&this.Tp.W().handleScale.axisPressedMouseMove.time&&e.ed(t.localX)}Xf(t){this.Zf(t)}tv(){this.bm=!1;const t=this.Tp.$t();t.St().Ni()&&!this.Tp.W().handleScale.axisPressedMouseMove.time||t.rd()}Jf(){this.tv()}Vf(){this.Tp.W().handleScale.axisDoubleClickReset.time&&this.Tp.$t().Zn()}Df(){this.Vf()}Wf(){this.Tp.$t().W().handleScale.axisPressedMouseMove.time&&this.cp(1)}pv(){this.cp(0)}Gp(){return this.Cv}Tm(){return this.wm}Pm(t,e,s){be(this.Cv,t)||(this.Cv=t,this.Dv=!0,this.Nv.resizeCanvasElement(t),this.Fv.resizeCanvasElement(t),this.Dv=!1,this.Ev.style.width=`${t.width}px`,this.Ev.style.height=`${t.height}px`,this.wm.m(t)),this.vm!==null&&this.vm.tp(X({width:e,height:t.height})),this.pm!==null&&this.pm.tp(X({width:s,height:t.height}))}Rm(){const t=this.Dm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Om)}bt(){this.Tp.$t().St().ja()}_p(){return this.Nv.bitmapSize}up(t,e,s){const n=this._p();n.width>0&&n.height>0&&t.drawImage(this.Nv.canvasElement,e,s)}sp(t){if(t===0)return;if(t!==1){this.Nv.applySuggestedBitmapSize();const s=ye(this.Nv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.rp(n),this.Ve(n),this.Am(s,Ed)}),this.lp(s),this.Am(s,xd)),this.vm!==null&&this.vm.sp(t),this.pm!==null&&this.pm.sp(t)}this.Fv.applySuggestedBitmapSize();const e=ye(this.Fv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.Bm([...this.Tp.$t().wt(),this.Tp.$t().Yc()],e),this.Am(e,Md))}Am(t,e){const s=this.Tp.$t().wt();for(const n of s)bn(e,r=>gn(r,t,!1,void 0),n,void 0);for(const n of s)bn(e,r=>$i(r,t,!1,void 0),n,void 0)}rp({context:t,bitmapSize:e}){hs(t,0,0,e.width,e.height,this.Tp.$t().md())}Ve({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Tp.W().timeScale.borderVisible){t.fillStyle=this.Vm();const n=Math.max(1,Math.floor(this.Dm().C*s));t.fillRect(0,0,e.width,n)}}lp(t){const e=this.Tp.$t().St(),s=e.ja();if(!s||s.length===0)return;const n=this.U_.maxTickMarkWeight(s),r=this.Dm(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:h,horizontalPixelRatio:l,verticalPixelRatio:c})=>{h.strokeStyle=this.Vm(),h.fillStyle=this.Vm();const a=Math.max(1,Math.floor(l)),u=Math.floor(.5*l);h.beginPath();const f=Math.round(r.T*c);for(let d=s.length;d--;){const p=Math.round(s[d].coord*l);h.rect(p-u,0,a,f)}h.fill()}),t.useMediaCoordinateSpace(({context:h})=>{const l=r.C+r.T+r.L+r.P/2;h.textAlign="center",h.textBaseline="middle",h.fillStyle=this.$(),h.font=this.Jv();for(const c of s)if(c.weight<n){const a=c.needAlignCoordinate?this.Im(h,c.coord,c.label):c.coord;h.fillText(c.label,a,l)}this.Tp.W().timeScale.allowBoldLabels&&(h.font=this.zm());for(const c of s)if(c.weight>=n){const a=c.needAlignCoordinate?this.Im(h,c.coord,c.label):c.coord;h.fillText(c.label,a,l)}})}Im(t,e,s){const n=this.Pv.xi(t,s),r=n/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+n>this.Cv.width&&(e-=Math.abs(this.Cv.width-(o+n))),e}Bm(t,e){const s=this.Dm();for(const n of t)for(const r of n.Qi())r.gt().K(e,s)}Vm(){return this.Tp.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}Jv(){return De(this.j(),this.cn.fontFamily)}zm(){return De(this.j(),this.cn.fontFamily,"bold")}Dm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new ci,Om:0});const t=this.k,e=this.Jv();if(t.R!==e){const s=this.j();t.P=s,t.R=e,t.L=3*s/12,t.B=3*s/12,t.ji=9*s/12,t.N=0,t.Om=4*s/12,t.Wi.ir()}return this.k}cp(t){this.Ev.style.cursor=t===1?"ew-resize":"default"}km(){const t=this.Tp.$t(),e=t.W();e.leftPriceScale.visible||this.vm===null||(this.Mm.removeChild(this.vm.Kv()),this.vm.S(),this.vm=null),e.rightPriceScale.visible||this.pm===null||(this.xm.removeChild(this.pm.Kv()),this.pm.S(),this.pm=null);const s={_d:this.Tp.$t()._d()},n=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t.md();e.leftPriceScale.visible&&this.vm===null&&(this.vm=new Ao("left",e,s,n,r),this.Mm.appendChild(this.vm.Kv())),e.rightPriceScale.visible&&this.pm===null&&(this.pm=new Ao("right",e,s,n,r),this.xm.appendChild(this.pm.Kv()))}}const Od=!!Fe&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!Fe&&(!((Ks=navigator==null?void 0:navigator.userAgentData)===null||Ks===void 0)&&Ks.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Ks;class Td{constructor(t,e,s){var n;this.Lm=[],this.Em=0,this.ro=0,this.o_=0,this.Nm=0,this.Fm=0,this.Wm=null,this.jm=!1,this.bp=new tt,this.wp=new tt,this.Pc=new tt,this.Hm=null,this.$m=null,this.Um=t,this.cn=e,this.U_=s,this.gm=document.createElement("div"),this.gm.classList.add("tv-lightweight-charts"),this.gm.style.overflow="hidden",this.gm.style.direction="ltr",this.gm.style.width="100%",this.gm.style.height="100%",(n=this.gm).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.gm.appendChild(this.qm),this.Ym=this.Xm.bind(this),Js(this.cn)&&this.Km(!0),this.$i=new dd(this.Dc.bind(this),this.cn,s),this.$t().Xc().l(this.Zm.bind(this),this),this.Gm=new Ld(this,this.U_),this.qm.appendChild(this.Gm.Kv());const r=e.autoSize&&this.Jm();let o=this.cn.width,h=this.cn.height;if(r||o===0||h===0){const l=t.getBoundingClientRect();o=o||l.width,h=h||l.height}this.Qm(o,h),this.tb(),t.appendChild(this.gm),this.ib(),this.$i.St().sc().l(this.$i.Kl.bind(this.$i),this),this.$i.w_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}nb(){return this.Lm}sb(){return this.Gm}S(){this.Km(!1),this.Em!==0&&window.cancelAnimationFrame(this.Em),this.$i.Xc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S();for(const t of this.Lm)this.qm.removeChild(t.Kv()),t.Yp().p(this),t.Xp().p(this),t.S();this.Lm=[],C(this.Gm).S(),this.gm.parentElement!==null&&this.gm.parentElement.removeChild(this.gm),this.Pc.S(),this.bp.S(),this.wp.S(),this.eb()}Qm(t,e,s=!1){if(this.ro===e&&this.o_===t)return;const n=function(h){const l=Math.floor(h.width),c=Math.floor(h.height);return X({width:l-l%2,height:c-c%2})}(X({width:t,height:e}));this.ro=n.height,this.o_=n.width;const r=this.ro+"px",o=this.o_+"px";C(this.gm).style.height=r,C(this.gm).style.width=o,this.qm.style.height=r,this.qm.style.width=o,s?this.rb(rt.es(),performance.now()):this.$i.Kl()}sp(t){t===void 0&&(t=rt.es());for(let e=0;e<this.Lm.length;e++)this.Lm[e].sp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.Gm.sp(t.jn())}Hh(t){const e=Js(this.cn);this.$i.Hh(t);const s=Js(this.cn);s!==e&&this.Km(s),this.ib(),this.hb(t)}Yp(){return this.bp}Xp(){return this.wp}Xc(){return this.Pc}lb(){this.Wm!==null&&(this.rb(this.Wm,performance.now()),this.Wm=null);const t=this.ab(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=C(e.getContext("2d"));return this.ab(s),e}ob(t){return t==="left"&&!this._b()||t==="right"&&!this.ub()||this.Lm.length===0?0:C(t==="left"?this.Lm[0].sm():this.Lm[0].rm()).ip()}cb(){return this.cn.autoSize&&this.Hm!==null}fb(){return this.gm}Fp(t){this.$m=t,this.$m?this.fb().style.setProperty("cursor",t):this.fb().style.removeProperty("cursor")}pb(){return this.$m}mb(){return at(this.Lm[0]).Gp()}hb(t){(t.autoSize!==void 0||!this.Hm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Hm&&this.Jm(),t.autoSize===!1&&this.Hm!==null&&this.eb(),t.autoSize||t.width===void 0&&t.height===void 0||this.Qm(t.width||this.o_,t.height||this.ro))}ab(t){let e=0,s=0;const n=this.Lm[0],r=(h,l)=>{let c=0;for(let a=0;a<this.Lm.length;a++){const u=this.Lm[a],f=C(h==="left"?u.sm():u.rm()),d=f._p();t!==null&&f.up(t,l,c),c+=d.height}};this._b()&&(r("left",0),e+=C(n.sm())._p().width);for(let h=0;h<this.Lm.length;h++){const l=this.Lm[h],c=l._p();t!==null&&l.up(t,e,s),s+=c.height}e+=n._p().width,this.ub()&&(r("right",e),e+=C(n.rm())._p().width);const o=(h,l,c)=>{C(h==="left"?this.Gm.ym():this.Gm.Cm()).up(C(t),l,c)};if(this.cn.timeScale.visible){const h=this.Gm._p();if(t!==null){let l=0;this._b()&&(o("left",l,s),l=C(n.sm())._p().width),this.Gm.up(t,l,s),l+=h.width,this.ub()&&o("right",l,s)}s+=h.height}return X({width:e,height:s})}bb(){let t=0,e=0,s=0;for(const p of this.Lm)this._b()&&(e=Math.max(e,C(p.sm()).Gv(),this.cn.leftPriceScale.minimumWidth)),this.ub()&&(s=Math.max(s,C(p.rm()).Gv(),this.cn.rightPriceScale.minimumWidth)),t+=p.g_();e=mn(e),s=mn(s);const n=this.o_,r=this.ro,o=Math.max(n-e-s,0),h=this.cn.timeScale.visible;let l=h?Math.max(this.Gm.Rm(),this.cn.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const a=0+l,u=r<a?0:r-a,f=u/t;let d=0;for(let p=0;p<this.Lm.length;++p){const g=this.Lm[p];g.Vp(this.$i.Uc()[p]);let x=0,M=0;M=p===this.Lm.length-1?u-d:Math.round(g.g_()*f),x=Math.max(M,2),d+=x,g.tp(X({width:o,height:x})),this._b()&&g.Zp(e,"left"),this.ub()&&g.Zp(s,"right"),g.np()&&this.$i.Kc(g.np(),x)}this.Gm.Pm(X({width:h?o:0,height:l}),h?e:0,h?s:0),this.$i.x_(o),this.Nm!==e&&(this.Nm=e),this.Fm!==s&&(this.Fm=s)}Km(t){t?this.gm.addEventListener("wheel",this.Ym,{passive:!1}):this.gm.removeEventListener("wheel",this.Ym)}wb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Od?1/window.devicePixelRatio:1}Xm(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const e=this.wb(t),s=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),n!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),o=t.clientX-this.gm.getBoundingClientRect().left;this.$t().Jc(o,r)}s!==0&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*s)}rb(t,e){var s;const n=t.jn();n===3&&this.gb(),n!==3&&n!==2||(this.Mb(t),this.xb(t,e),this.Gm.bt(),this.Lm.forEach(r=>{r.zp()}),((s=this.Wm)===null||s===void 0?void 0:s.jn())===3&&(this.Wm.ts(t),this.gb(),this.Mb(this.Wm),this.xb(this.Wm,e),t=this.Wm,this.Wm=null)),this.sp(t)}xb(t,e){for(const s of t.Qn())this.ns(s,e)}Mb(t){const e=this.$i.Uc();for(let s=0;s<e.length;s++)t.Hn(s).Wn&&e[s].E_()}ns(t,e){const s=this.$i.St();switch(t.qn){case 0:s.rc();break;case 1:s.hc(t.Ot);break;case 2:s.Gn(t.Ot);break;case 3:s.Jn(t.Ot);break;case 4:s.Uu();break;case 5:t.Ot.Ju(e)||s.Jn(t.Ot.Qu(e))}}Dc(t){this.Wm!==null?this.Wm.ts(t):this.Wm=t,this.jm||(this.jm=!0,this.Em=window.requestAnimationFrame(e=>{if(this.jm=!1,this.Em=0,this.Wm!==null){const s=this.Wm;this.Wm=null,this.rb(s,e);for(const n of s.Qn())if(n.qn===5&&!n.Ot.Ju(e)){this.$t().Xn(n.Ot);break}}}))}gb(){this.tb()}tb(){const t=this.$i.Uc(),e=t.length,s=this.Lm.length;for(let n=e;n<s;n++){const r=at(this.Lm.pop());this.qm.removeChild(r.Kv()),r.Yp().p(this),r.Xp().p(this),r.S()}for(let n=s;n<e;n++){const r=new ir(this,t[n]);r.Yp().l(this.Sb.bind(this),this),r.Xp().l(this.kb.bind(this),this),this.Lm.push(r),this.qm.insertBefore(r.Kv(),this.Gm.Kv())}for(let n=0;n<e;n++){const r=t[n],o=this.Lm[n];o.np()!==r?o.Vp(r):o.Bp()}this.ib(),this.bb()}yb(t,e,s){var n;const r=new Map;t!==null&&this.$i.wt().forEach(a=>{const u=a.In().hl(t);u!==null&&r.set(a,u)});let o;if(t!==null){const a=(n=this.$i.St().Ui(t))===null||n===void 0?void 0:n.originalTime;a!==void 0&&(o=a)}const h=this.$t().Fc(),l=h!==null&&h.jc instanceof Qn?h.jc:void 0,c=h!==null&&h.Sv!==void 0?h.Sv.wr:void 0;return{Cb:o,se:t??void 0,Tb:e??void 0,Pb:l,Rb:r,Db:c,Ob:s??void 0}}Sb(t,e,s){this.bp.m(()=>this.yb(t,e,s))}kb(t,e,s){this.wp.m(()=>this.yb(t,e,s))}Zm(t,e,s){this.Pc.m(()=>this.yb(t,e,s))}ib(){const t=this.cn.timeScale.visible?"":"none";this.Gm.Kv().style.display=t}_b(){return this.Lm[0].np().P_().W().visible}ub(){return this.Lm[0].np().R_().W().visible}Jm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(t=>{const e=t.find(s=>s.target===this.Um);e&&this.Qm(e.contentRect.width,e.contentRect.height)}),this.Hm.observe(this.Um,{box:"border-box"}),!0)}eb(){this.Hm!==null&&this.Hm.disconnect(),this.Hm=null}}function Js(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function Ol(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(s=Object.getOwnPropertySymbols(i);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(i,s[n])&&(e[s[n]]=i[s[n]])}return e}function Do(i,t,e,s){const n=e.value,r={se:t,ot:i,Ot:[n,n,n,n],Cb:s};return e.color!==void 0&&(r.O=e.color),r}function zd(i,t,e,s){const n=e.value,r={se:t,ot:i,Ot:[n,n,n,n],Cb:s};return e.lineColor!==void 0&&(r.lt=e.lineColor),e.topColor!==void 0&&(r.Ts=e.topColor),e.bottomColor!==void 0&&(r.Ps=e.bottomColor),r}function Rd(i,t,e,s){const n=e.value,r={se:t,ot:i,Ot:[n,n,n,n],Cb:s};return e.topLineColor!==void 0&&(r.Pe=e.topLineColor),e.bottomLineColor!==void 0&&(r.Re=e.bottomLineColor),e.topFillColor1!==void 0&&(r.Se=e.topFillColor1),e.topFillColor2!==void 0&&(r.ke=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.ye=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.Ce=e.bottomFillColor2),r}function kd(i,t,e,s){const n={se:t,ot:i,Ot:[e.open,e.high,e.low,e.close],Cb:s};return e.color!==void 0&&(n.O=e.color),n}function Pd(i,t,e,s){const n={se:t,ot:i,Ot:[e.open,e.high,e.low,e.close],Cb:s};return e.color!==void 0&&(n.O=e.color),e.borderColor!==void 0&&(n.At=e.borderColor),e.wickColor!==void 0&&(n.Xh=e.wickColor),n}function Nd(i,t,e,s,n){const r=at(n)(e),o=Math.max(...r),h=Math.min(...r),l=r[r.length-1],c=[l,o,h,l],a=e,{time:u,color:f}=a;return{se:t,ot:i,Ot:c,Cb:s,He:Ol(a,["time","color"]),O:f}}function Pi(i){return i.Ot!==void 0}function Fo(i,t){return t.customValues!==void 0&&(i.Ab=t.customValues),i}function ue(i){return(t,e,s,n,r,o)=>function(h,l){return l?l(h):(c=h).open===void 0&&c.value===void 0;var c}(s,o)?Fo({ot:t,se:e,Cb:n},s):Fo(i(t,e,s,n,r),s)}function $o(i){return{Candlestick:ue(Pd),Bar:ue(kd),Area:ue(zd),Baseline:ue(Rd),Histogram:ue(Do),Line:ue(Do),Custom:ue(Nd)}[i]}function Bo(i){return{se:0,Bb:new Map,ha:i}}function Io(i,t){if(i!==void 0&&i.length!==0)return{Vb:t.key(i[0].ot),Ib:t.key(i[i.length-1].ot)}}function Wo(i){let t;return i.forEach(e=>{t===void 0&&(t=e.Cb)}),at(t)}class Ad{constructor(t){this.zb=new Map,this.Lb=new Map,this.Eb=new Map,this.Nb=[],this.U_=t}S(){this.zb.clear(),this.Lb.clear(),this.Eb.clear(),this.Nb=[]}Fb(t,e){let s=this.zb.size!==0,n=!1;const r=this.Lb.get(t);if(r!==void 0)if(this.Lb.size===1)s=!1,n=!0,this.zb.clear();else for(const l of this.Nb)l.pointData.Bb.delete(t)&&(n=!0);let o=[];if(e.length!==0){const l=e.map(d=>d.time),c=this.U_.createConverterToInternalObj(e),a=$o(t.Jh()),u=t.ya(),f=t.Ca();o=e.map((d,p)=>{const g=c(d.time),x=this.U_.key(g);let M=this.zb.get(x);M===void 0&&(M=Bo(g),this.zb.set(x,M),n=!0);const k=a(g,M.se,d,l[p],u,f);return M.Bb.set(t,k),k})}s&&this.Wb(),this.jb(t,o);let h=-1;if(n){const l=[];this.zb.forEach(c=>{l.push({timeWeight:0,time:c.ha,pointData:c,originalTime:Wo(c.Bb)})}),l.sort((c,a)=>this.U_.key(c.time)-this.U_.key(a.time)),h=this.Hb(l)}return this.$b(t,h,function(l,c,a){const u=Io(l,a),f=Io(c,a);if(u!==void 0&&f!==void 0)return{Ql:u.Ib>=f.Ib&&u.Vb>=f.Vb}}(this.Lb.get(t),r,this.U_))}fd(t){return this.Fb(t,[])}Ub(t,e){const s=e;(function(g){g.Cb===void 0&&(g.Cb=g.time)})(s),this.U_.preprocessData(e);const n=this.U_.createConverterToInternalObj([e])(e.time),r=this.Eb.get(t);if(r!==void 0&&this.U_.key(n)<this.U_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${n}`);let o=this.zb.get(this.U_.key(n));const h=o===void 0;o===void 0&&(o=Bo(n),this.zb.set(this.U_.key(n),o));const l=$o(t.Jh()),c=t.ya(),a=t.Ca(),u=l(n,o.se,e,s.Cb,c,a);o.Bb.set(t,u),this.qb(t,u);const f={Ql:Pi(u)};if(!h)return this.$b(t,-1,f);const d={timeWeight:0,time:o.ha,pointData:o,originalTime:Wo(o.Bb)},p=pi(this.Nb,this.U_.key(d.time),(g,x)=>this.U_.key(g.time)<x);this.Nb.splice(p,0,d);for(let g=p;g<this.Nb.length;++g)Gs(this.Nb[g].pointData,g);return this.U_.fillWeightsForPoints(this.Nb,p),this.$b(t,p,f)}qb(t,e){let s=this.Lb.get(t);s===void 0&&(s=[],this.Lb.set(t,s));const n=s.length!==0?s[s.length-1]:null;n===null||this.U_.key(e.ot)>this.U_.key(n.ot)?Pi(e)&&s.push(e):Pi(e)?s[s.length-1]=e:s.splice(-1,1),this.Eb.set(t,e.ot)}jb(t,e){e.length!==0?(this.Lb.set(t,e.filter(Pi)),this.Eb.set(t,e[e.length-1].ot)):(this.Lb.delete(t),this.Eb.delete(t))}Wb(){for(const t of this.Nb)t.pointData.Bb.size===0&&this.zb.delete(this.U_.key(t.time))}Hb(t){let e=-1;for(let s=0;s<this.Nb.length&&s<t.length;++s){const n=this.Nb[s],r=t[s];if(this.U_.key(n.time)!==this.U_.key(r.time)){e=s;break}r.timeWeight=n.timeWeight,Gs(r.pointData,s)}if(e===-1&&this.Nb.length!==t.length&&(e=Math.min(this.Nb.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)Gs(t[s].pointData,s);return this.U_.fillWeightsForPoints(t,e),this.Nb=t,e}Yb(){if(this.Lb.size===0)return null;let t=0;return this.Lb.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].se))}),t}$b(t,e,s){const n={Xb:new Map,St:{Lu:this.Yb()}};if(e!==-1)this.Lb.forEach((r,o)=>{n.Xb.set(o,{He:r,Kb:o===t?s:void 0})}),this.Lb.has(t)||n.Xb.set(t,{He:[],Kb:s}),n.St.Zb=this.Nb,n.St.Gb=e;else{const r=this.Lb.get(t);n.Xb.set(t,{He:r||[],Kb:s})}return n}}function Gs(i,t){i.se=t,i.Bb.forEach(e=>{e.se=t})}function nr(i){const t={value:i.Ot[3],time:i.Cb};return i.Ab!==void 0&&(t.customValues=i.Ab),t}function Vo(i){const t=nr(i);return i.O!==void 0&&(t.color=i.O),t}function Dd(i){const t=nr(i);return i.lt!==void 0&&(t.lineColor=i.lt),i.Ts!==void 0&&(t.topColor=i.Ts),i.Ps!==void 0&&(t.bottomColor=i.Ps),t}function Fd(i){const t=nr(i);return i.Pe!==void 0&&(t.topLineColor=i.Pe),i.Re!==void 0&&(t.bottomLineColor=i.Re),i.Se!==void 0&&(t.topFillColor1=i.Se),i.ke!==void 0&&(t.topFillColor2=i.ke),i.ye!==void 0&&(t.bottomFillColor1=i.ye),i.Ce!==void 0&&(t.bottomFillColor2=i.Ce),t}function Tl(i){const t={open:i.Ot[0],high:i.Ot[1],low:i.Ot[2],close:i.Ot[3],time:i.Cb};return i.Ab!==void 0&&(t.customValues=i.Ab),t}function $d(i){const t=Tl(i);return i.O!==void 0&&(t.color=i.O),t}function Bd(i){const t=Tl(i),{O:e,At:s,Xh:n}=i;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),n!==void 0&&(t.wickColor=n),t}function vn(i){return{Area:Dd,Line:Vo,Baseline:Fd,Histogram:Vo,Bar:$d,Candlestick:Bd,Custom:Id}[i]}function Id(i){const t=i.Cb;return Object.assign(Object.assign({},i.He),{time:t})}const Wd={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Vd={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},jd={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Jn},qs={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Ud={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Hd={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Jn,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function jo(){return{width:0,height:0,autoSize:!1,layout:jd,crosshair:Wd,grid:Vd,overlayPriceScales:Object.assign({},qs),leftPriceScale:Object.assign(Object.assign({},qs),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},qs),{visible:!0}),timeScale:Ud,watermark:Hd,localization:{locale:Fe?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Kd{constructor(t,e){this.Jb=t,this.Qb=e}applyOptions(t){this.Jb.$t().Hc(this.Qb,t)}options(){return this.Li().W()}width(){return cs(this.Qb)?this.Jb.ob(this.Qb):0}Li(){return C(this.Jb.$t().$c(this.Qb)).Dt}}function Uo(i,t,e){const s=Ol(i,["time","originalTime"]),n=Object.assign({time:t},s);return e!==void 0&&(n.originalTime=e),n}const Jd={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Gd{constructor(t){this.Eh=t}applyOptions(t){this.Eh.Hh(t)}options(){return this.Eh.W()}tw(){return this.Eh}}class qd{constructor(t,e,s,n,r){this.iw=new tt,this.Ls=t,this.nw=e,this.sw=s,this.U_=r,this.ew=n}S(){this.iw.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(t){const e=this.Ls.Ct();return e===null?null:this.Ls.Dt().Rt(t,e.Ot)}coordinateToPrice(t){const e=this.Ls.Ct();return e===null?null:this.Ls.Dt().pn(t,e.Ot)}barsInLogicalRange(t){if(t===null)return null;const e=new Pe(new ii(t.from,t.to)).hu(),s=this.Ls.In();if(s.Ni())return null;const n=s.hl(e.Os(),1),r=s.hl(e.ui(),-1),o=C(s.sl()),h=C(s.Vn());if(n!==null&&r!==null&&n.se>r.se)return{barsBefore:t.from-o,barsAfter:h-t.to};const l={barsBefore:n===null||n.se===o?t.from-o:n.se-o,barsAfter:r===null||r.se===h?h-t.to:h-r.se};return n!==null&&r!==null&&(l.from=n.Cb,l.to=r.Cb),l}setData(t){this.U_,this.Ls.Jh(),this.nw.rw(this.Ls,t),this.hw("full")}update(t){this.Ls.Jh(),this.nw.lw(this.Ls,t),this.hw("update")}dataByIndex(t,e){const s=this.Ls.In().hl(t,e);return s===null?null:vn(this.seriesType())(s)}data(){const t=vn(this.seriesType());return this.Ls.In().ie().map(e=>t(e))}subscribeDataChanged(t){this.iw.l(t)}unsubscribeDataChanged(t){this.iw.v(t)}setMarkers(t){this.U_;const e=t.map(s=>Uo(s,this.U_.convertHorzItemToInternal(s.time),s.time));this.Ls.ia(e)}markers(){return this.Ls.na().map(t=>Uo(t,t.originalTime,void 0))}applyOptions(t){this.Ls.Hh(t)}options(){return jt(this.Ls.W())}priceScale(){return this.sw.priceScale(this.Ls.Dt().Ta())}createPriceLine(t){const e=Tt(jt(Jd),t),s=this.Ls.sa(e);return new Gd(s)}removePriceLine(t){this.Ls.ea(t.tw())}seriesType(){return this.Ls.Jh()}attachPrimitive(t){this.Ls.Sa(t),t.attached&&t.attached({chart:this.ew,series:this,requestUpdate:()=>this.Ls.$t().Kl()})}detachPrimitive(t){this.Ls.ka(t),t.detached&&t.detached()}hw(t){this.iw.M()&&this.iw.m(t)}}class Zd{constructor(t,e,s){this.aw=new tt,this.pu=new tt,this.wm=new tt,this.$i=t,this.kl=t.St(),this.Gm=e,this.kl.tc().l(this.ow.bind(this)),this.kl.nc().l(this._w.bind(this)),this.Gm.Tm().l(this.uw.bind(this)),this.U_=s}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.Gm.Tm().p(this),this.aw.S(),this.pu.S(),this.wm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(t,e){e?this.kl.Gu(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.kl.Zu()}getVisibleRange(){const t=this.kl.Du();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.U_.convertHorzItemToInternal(t.from),to:this.U_.convertHorzItemToInternal(t.to)},s=this.kl.Vu(e);this.$i.vd(s)}getVisibleLogicalRange(){const t=this.kl.Ru();return t===null?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){se(t.from<=t.to,"The from index cannot be after the to index."),this.$i.vd(t)}resetTimeScale(){this.$i.Zn()}fitContent(){this.$i.rc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.kl.Ni()?null:this.kl.Eu(t)}timeToCoordinate(t){const e=this.U_.convertHorzItemToInternal(t),s=this.kl.Da(e,!1);return s===null?null:this.kl.It(s)}coordinateToTime(t){const e=this.$i.St(),s=e.Eu(t),n=e.Ui(s);return n===null?null:n.originalTime}width(){return this.Gm.Gp().width}height(){return this.Gm.Gp().height}subscribeVisibleTimeRangeChange(t){this.aw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.aw.v(t)}subscribeVisibleLogicalRangeChange(t){this.pu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.pu.v(t)}subscribeSizeChange(t){this.wm.l(t)}unsubscribeSizeChange(t){this.wm.v(t)}applyOptions(t){this.kl.Hh(t)}options(){return Object.assign(Object.assign({},jt(this.kl.W())),{barSpacing:this.kl.he()})}ow(){this.aw.M()&&this.aw.m(this.getVisibleRange())}_w(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}uw(t){this.wm.m(t.width,t.height)}}function Xd(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return s;e*=10}return s}(t.minMove))}function Ho(i){return function(t){if(xi(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:n}=t.handleScale;xi(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),xi(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const e=t.handleScroll;xi(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class Yd{constructor(t,e,s){this.cw=new Map,this.dw=new Map,this.fw=new tt,this.pw=new tt,this.mw=new tt,this.bw=new Ad(e);const n=s===void 0?jt(jo()):Tt(jt(jo()),Ho(s));this.U_=e,this.Jb=new Td(t,n,e),this.Jb.Yp().l(o=>{this.fw.M()&&this.fw.m(this.ww(o()))},this),this.Jb.Xp().l(o=>{this.pw.M()&&this.pw.m(this.ww(o()))},this),this.Jb.Xc().l(o=>{this.mw.M()&&this.mw.m(this.ww(o()))},this);const r=this.Jb.$t();this.gw=new Zd(r,this.Jb.sb(),this.U_)}remove(){this.Jb.Yp().p(this),this.Jb.Xp().p(this),this.Jb.Xc().p(this),this.gw.S(),this.Jb.S(),this.cw.clear(),this.dw.clear(),this.fw.S(),this.pw.S(),this.mw.S(),this.bw.S()}resize(t,e,s){this.autoSizeActive()||this.Jb.Qm(t,e,s)}addCustomSeries(t,e){const s=Oe(t),n=Object.assign(Object.assign({},rl),s.defaultOptions());return this.Mw("Custom",n,e,s)}addAreaSeries(t){return this.Mw("Area",Du,t)}addBaselineSeries(t){return this.Mw("Baseline",Fu,t)}addBarSeries(t){return this.Mw("Bar",Nu,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.Mw("Candlestick",Pu,t)}addHistogramSeries(t){return this.Mw("Histogram",$u,t)}addLineSeries(t){return this.Mw("Line",Au,t)}removeSeries(t){const e=at(this.cw.get(t)),s=this.bw.fd(e);this.Jb.$t().fd(e),this.xw(s),this.cw.delete(t),this.dw.delete(e)}rw(t,e){this.xw(this.bw.Fb(t,e))}lw(t,e){this.xw(this.bw.Ub(t,e))}subscribeClick(t){this.fw.l(t)}unsubscribeClick(t){this.fw.v(t)}subscribeCrosshairMove(t){this.mw.l(t)}unsubscribeCrosshairMove(t){this.mw.v(t)}subscribeDblClick(t){this.pw.l(t)}unsubscribeDblClick(t){this.pw.v(t)}priceScale(t){return new Kd(this.Jb,t)}timeScale(){return this.gw}applyOptions(t){this.Jb.Hh(Ho(t))}options(){return this.Jb.W()}takeScreenshot(){return this.Jb.lb()}autoSizeActive(){return this.Jb.cb()}chartElement(){return this.Jb.fb()}paneSize(){const t=this.Jb.mb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,s){const n=this.cw.get(s);if(n===void 0)return;const r=this.Jb.$t().cr(n);r!==null&&this.Jb.$t().ld(t,e,r)}clearCrosshairPosition(){this.Jb.$t().ad(!0)}Mw(t,e,s={},n){Xd(s.priceFormat);const r=Tt(jt(ol),jt(e),s),o=this.Jb.$t().ud(t,r,n),h=new qd(o,this,this,this,this.U_);return this.cw.set(h,o),this.dw.set(o,h),h}xw(t){const e=this.Jb.$t();e.od(t.St.Lu,t.St.Zb,t.St.Gb),t.Xb.forEach((s,n)=>n.J(s.He,s.Kb)),e.Fu()}Sw(t){return at(this.dw.get(t))}ww(t){const e=new Map;t.Rb.forEach((n,r)=>{const o=r.Jh(),h=vn(o)(n);if(o!=="Custom")se(function(l){return l.open!==void 0||l.value!==void 0}(h));else{const l=r.Ca();se(!l||l(h)===!1)}e.set(this.Sw(r),h)});const s=t.Pb!==void 0&&this.dw.has(t.Pb)?this.Sw(t.Pb):void 0;return{time:t.Cb,logical:t.se,point:t.Tb,hoveredSeries:s,hoveredObjectId:t.Db,seriesData:e,sourceEvent:t.Ob}}}function Qd(i,t,e){let s;if(di(i)){const r=document.getElementById(i);se(r!==null,`Cannot find element in DOM with id=${i}`),s=r}else s=i;const n=new Yd(s,t,e);return t.setOptions(n.options()),n}function Ko(i,t){return Qd(i,new zo,zo.Vd(t))}Object.assign(Object.assign({},ol),rl);function tp(...i){if(i.length>0){let t=i[0].length;for(let e=1;e<i.length;e++)if(i[e].length!==t)throw new Error(`values length at ${e} not ${t}`)}}function ep(i,t,e){let s=e.length,n=Array(s).fill(t);for(let r=i;r<s;r++){let o=(r-i+s)%s;n[o]=e[r]}return n}function ip(i,t){return ep(i,0,t)}var sp=(i=>(i[i.SYMBOL=0]="SYMBOL",i[i.NAME=1]="NAME",i[i.STRATEGY=2]="STRATEGY",i[i.GAIN=3]="GAIN",i[i.ACTION=4]="ACTION",i))(sp||{}),np={short:9,medium:26,long:52,close:26},rr=({period:i,highs:t,lows:e,projection:s=0})=>(n,r,o)=>{if(o<i-1)return[...n,0];let h=o+1-i,l=o-s+1,c=Math.max(...t.slice(h,l)),a=Math.min(...e.slice(h,l));return[...n,(c+a)/2]},rp=({highs:i,lows:t,short:e})=>i.reduce(rr({period:e,highs:i,lows:t}),[]),op=({highs:i,lows:t,medium:e})=>i.reduce(rr({period:e,highs:i,lows:t}),[]),hp=({tenkanSen:i,kijunSen:t,medium:e})=>{let s=new Array(t.length+e).fill(0);return t.forEach((n,r)=>{n&&(s[r+e]=(n+i[r])/2)}),s},lp=({highs:i,lows:t,long:e,medium:s})=>new Array(i.length+s).fill(0).reduce(rr({period:e+s,highs:i,lows:t,projection:s}),[]);function cp(i,t,e,s={}){tp(i,t,e);let{short:n,medium:r,long:o,close:h}={...np,...s},l=rp({highs:i,lows:t,short:n}),c=op({highs:i,lows:t,medium:r});return{tenkan:l,kijun:c,ssa:hp({tenkanSen:l,kijunSen:c,medium:r}),ssb:lp({highs:i,lows:t,medium:r,long:o}),laggingSpan:ip(h,e)}}var ap=(i=>(i[i.FALLING=-1]="FALLING",i[i.STABLE=0]="STABLE",i[i.RISING=1]="RISING",i))(ap||{}),up=(i=>(i[i.STRATEGY=0]="STRATEGY",i[i.SCORE=1]="SCORE",i[i.MIN=2]="MIN",i[i.MAX=3]="MAX",i[i.AVERAGE=4]="AVERAGE",i))(up||{});function zl(i,t){return function(){return i.apply(t,arguments)}}const{toString:fp}=Object.prototype,{getPrototypeOf:or}=Object,fs=(i=>t=>{const e=fp.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Rt=i=>(i=i.toLowerCase(),t=>fs(t)===i),ds=i=>t=>typeof t===i,{isArray:Be}=Array,ui=ds("undefined");function dp(i){return i!==null&&!ui(i)&&i.constructor!==null&&!ui(i.constructor)&&_t(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Rl=Rt("ArrayBuffer");function pp(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&Rl(i.buffer),t}const mp=ds("string"),_t=ds("function"),kl=ds("number"),ps=i=>i!==null&&typeof i=="object",gp=i=>i===!0||i===!1,Bi=i=>{if(fs(i)!=="object")return!1;const t=or(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},bp=Rt("Date"),vp=Rt("File"),wp=Rt("Blob"),yp=Rt("FileList"),_p=i=>ps(i)&&_t(i.pipe),Sp=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||_t(i.append)&&((t=fs(i))==="formdata"||t==="object"&&_t(i.toString)&&i.toString()==="[object FormData]"))},Cp=Rt("URLSearchParams"),[xp,Mp,Ep,Lp]=["ReadableStream","Request","Response","Headers"].map(Rt),Op=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mi(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let s,n;if(typeof i!="object"&&(i=[i]),Be(i))for(s=0,n=i.length;s<n;s++)t.call(null,i[s],s,i);else{const r=e?Object.getOwnPropertyNames(i):Object.keys(i),o=r.length;let h;for(s=0;s<o;s++)h=r[s],t.call(null,i[h],h,i)}}function Pl(i,t){t=t.toLowerCase();const e=Object.keys(i);let s=e.length,n;for(;s-- >0;)if(n=e[s],t===n.toLowerCase())return n;return null}const Nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Al=i=>!ui(i)&&i!==Nl;function wn(){const{caseless:i}=Al(this)&&this||{},t={},e=(s,n)=>{const r=i&&Pl(t,n)||n;Bi(t[r])&&Bi(s)?t[r]=wn(t[r],s):Bi(s)?t[r]=wn({},s):Be(s)?t[r]=s.slice():t[r]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&mi(arguments[s],e);return t}const Tp=(i,t,e,{allOwnKeys:s}={})=>(mi(t,(n,r)=>{e&&_t(n)?i[r]=zl(n,e):i[r]=n},{allOwnKeys:s}),i),zp=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Rp=(i,t,e,s)=>{i.prototype=Object.create(t.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},kp=(i,t,e,s)=>{let n,r,o;const h={};if(t=t||{},i==null)return t;do{for(n=Object.getOwnPropertyNames(i),r=n.length;r-- >0;)o=n[r],(!s||s(o,i,t))&&!h[o]&&(t[o]=i[o],h[o]=!0);i=e!==!1&&or(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},Pp=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const s=i.indexOf(t,e);return s!==-1&&s===e},Np=i=>{if(!i)return null;if(Be(i))return i;let t=i.length;if(!kl(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},Ap=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&or(Uint8Array)),Dp=(i,t)=>{const s=(i&&i[Symbol.iterator]).call(i);let n;for(;(n=s.next())&&!n.done;){const r=n.value;t.call(i,r[0],r[1])}},Fp=(i,t)=>{let e;const s=[];for(;(e=i.exec(t))!==null;)s.push(e);return s},$p=Rt("HTMLFormElement"),Bp=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,n){return s.toUpperCase()+n}),Jo=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),Ip=Rt("RegExp"),Dl=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),s={};mi(e,(n,r)=>{let o;(o=t(n,r,i))!==!1&&(s[r]=o||n)}),Object.defineProperties(i,s)},Wp=i=>{Dl(i,(t,e)=>{if(_t(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=i[e];if(_t(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Vp=(i,t)=>{const e={},s=n=>{n.forEach(r=>{e[r]=!0})};return Be(i)?s(i):s(String(i).split(t)),e},jp=()=>{},Up=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t,Zs="abcdefghijklmnopqrstuvwxyz",Go="0123456789",Fl={DIGIT:Go,ALPHA:Zs,ALPHA_DIGIT:Zs+Zs.toUpperCase()+Go},Hp=(i=16,t=Fl.ALPHA_DIGIT)=>{let e="";const{length:s}=t;for(;i--;)e+=t[Math.random()*s|0];return e};function Kp(i){return!!(i&&_t(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const Jp=i=>{const t=new Array(10),e=(s,n)=>{if(ps(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[n]=s;const r=Be(s)?[]:{};return mi(s,(o,h)=>{const l=e(o,n+1);!ui(l)&&(r[h]=l)}),t[n]=void 0,r}}return s};return e(i,0)},Gp=Rt("AsyncFunction"),qp=i=>i&&(ps(i)||_t(i))&&_t(i.then)&&_t(i.catch),v={isArray:Be,isArrayBuffer:Rl,isBuffer:dp,isFormData:Sp,isArrayBufferView:pp,isString:mp,isNumber:kl,isBoolean:gp,isObject:ps,isPlainObject:Bi,isReadableStream:xp,isRequest:Mp,isResponse:Ep,isHeaders:Lp,isUndefined:ui,isDate:bp,isFile:vp,isBlob:wp,isRegExp:Ip,isFunction:_t,isStream:_p,isURLSearchParams:Cp,isTypedArray:Ap,isFileList:yp,forEach:mi,merge:wn,extend:Tp,trim:Op,stripBOM:zp,inherits:Rp,toFlatObject:kp,kindOf:fs,kindOfTest:Rt,endsWith:Pp,toArray:Np,forEachEntry:Dp,matchAll:Fp,isHTMLForm:$p,hasOwnProperty:Jo,hasOwnProp:Jo,reduceDescriptors:Dl,freezeMethods:Wp,toObjectSet:Vp,toCamelCase:Bp,noop:jp,toFiniteNumber:Up,findKey:Pl,global:Nl,isContextDefined:Al,ALPHABET:Fl,generateString:Hp,isSpecCompliantForm:Kp,toJSONObject:Jp,isAsyncFn:Gp,isThenable:qp};function B(i,t,e,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),n&&(this.response=n)}v.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $l=B.prototype,Bl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Bl[i]={value:i}});Object.defineProperties(B,Bl);Object.defineProperty($l,"isAxiosError",{value:!0});B.from=(i,t,e,s,n,r)=>{const o=Object.create($l);return v.toFlatObject(i,o,function(l){return l!==Error.prototype},h=>h!=="isAxiosError"),B.call(o,i.message,t,e,s,n),o.cause=i,o.name=i.name,r&&Object.assign(o,r),o};const Zp=null;function yn(i){return v.isPlainObject(i)||v.isArray(i)}function Il(i){return v.endsWith(i,"[]")?i.slice(0,-2):i}function qo(i,t,e){return i?i.concat(t).map(function(n,r){return n=Il(n),!e&&r?"["+n+"]":n}).join(e?".":""):t}function Xp(i){return v.isArray(i)&&!i.some(yn)}const Yp=v.toFlatObject(v,{},null,function(t){return/^is[A-Z]/.test(t)});function ms(i,t,e){if(!v.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=v.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!v.isUndefined(x[g])});const s=e.metaTokens,n=e.visitor||a,r=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(t);if(!v.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(v.isDate(p))return p.toISOString();if(!l&&v.isBlob(p))throw new B("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(p)||v.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function a(p,g,x){let M=p;if(p&&!x&&typeof p=="object"){if(v.endsWith(g,"{}"))g=s?g:g.slice(0,-2),p=JSON.stringify(p);else if(v.isArray(p)&&Xp(p)||(v.isFileList(p)||v.endsWith(g,"[]"))&&(M=v.toArray(p)))return g=Il(g),M.forEach(function(T,P){!(v.isUndefined(T)||T===null)&&t.append(o===!0?qo([g],P,r):o===null?g:g+"[]",c(T))}),!1}return yn(p)?!0:(t.append(qo(x,g,r),c(p)),!1)}const u=[],f=Object.assign(Yp,{defaultVisitor:a,convertValue:c,isVisitable:yn});function d(p,g){if(!v.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(p),v.forEach(p,function(M,k){(!(v.isUndefined(M)||M===null)&&n.call(t,M,v.isString(k)?k.trim():k,g,f))===!0&&d(M,g?g.concat(k):[k])}),u.pop()}}if(!v.isObject(i))throw new TypeError("data must be an object");return d(i),t}function Zo(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function hr(i,t){this._pairs=[],i&&ms(i,this,t)}const Wl=hr.prototype;Wl.append=function(t,e){this._pairs.push([t,e])};Wl.toString=function(t){const e=t?function(s){return t.call(this,s,Zo)}:Zo;return this._pairs.map(function(n){return e(n[0])+"="+e(n[1])},"").join("&")};function Qp(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vl(i,t,e){if(!t)return i;const s=e&&e.encode||Qp,n=e&&e.serialize;let r;if(n?r=n(t,e):r=v.isURLSearchParams(t)?t.toString():new hr(t,e).toString(s),r){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+r}return i}class Xo{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){v.forEach(this.handlers,function(s){s!==null&&t(s)})}}const jl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tm=typeof URLSearchParams<"u"?URLSearchParams:hr,em=typeof FormData<"u"?FormData:null,im=typeof Blob<"u"?Blob:null,sm={isBrowser:!0,classes:{URLSearchParams:tm,FormData:em,Blob:im},protocols:["http","https","file","blob","url","data"]},lr=typeof window<"u"&&typeof document<"u",nm=(i=>lr&&["ReactNative","NativeScript","NS"].indexOf(i)<0)(typeof navigator<"u"&&navigator.product),rm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",om=lr&&window.location.href||"http://localhost",hm=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lr,hasStandardBrowserEnv:nm,hasStandardBrowserWebWorkerEnv:rm,origin:om},Symbol.toStringTag,{value:"Module"})),Ot={...hm,...sm};function lm(i,t){return ms(i,new Ot.classes.URLSearchParams,Object.assign({visitor:function(e,s,n,r){return Ot.isNode&&v.isBuffer(e)?(this.append(s,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function cm(i){return v.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function am(i){const t={},e=Object.keys(i);let s;const n=e.length;let r;for(s=0;s<n;s++)r=e[s],t[r]=i[r];return t}function Ul(i){function t(e,s,n,r){let o=e[r++];if(o==="__proto__")return!0;const h=Number.isFinite(+o),l=r>=e.length;return o=!o&&v.isArray(n)?n.length:o,l?(v.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!h):((!n[o]||!v.isObject(n[o]))&&(n[o]=[]),t(e,s,n[o],r)&&v.isArray(n[o])&&(n[o]=am(n[o])),!h)}if(v.isFormData(i)&&v.isFunction(i.entries)){const e={};return v.forEachEntry(i,(s,n)=>{t(cm(s),n,e,0)}),e}return null}function um(i,t,e){if(v.isString(i))try{return(t||JSON.parse)(i),v.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(i)}const gi={transitional:jl,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",n=s.indexOf("application/json")>-1,r=v.isObject(t);if(r&&v.isHTMLForm(t)&&(t=new FormData(t)),v.isFormData(t))return n?JSON.stringify(Ul(t)):t;if(v.isArrayBuffer(t)||v.isBuffer(t)||v.isStream(t)||v.isFile(t)||v.isBlob(t)||v.isReadableStream(t))return t;if(v.isArrayBufferView(t))return t.buffer;if(v.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return lm(t,this.formSerializer).toString();if((h=v.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ms(h?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||n?(e.setContentType("application/json",!1),um(t)):t}],transformResponse:[function(t){const e=this.transitional||gi.transitional,s=e&&e.forcedJSONParsing,n=this.responseType==="json";if(v.isResponse(t)||v.isReadableStream(t))return t;if(t&&v.isString(t)&&(s&&!this.responseType||n)){const o=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(h){if(o)throw h.name==="SyntaxError"?B.from(h,B.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],i=>{gi.headers[i]={}});const fm=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dm=i=>{const t={};let e,s,n;return i&&i.split(`
`).forEach(function(o){n=o.indexOf(":"),e=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!e||t[e]&&fm[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},Yo=Symbol("internals");function Ke(i){return i&&String(i).trim().toLowerCase()}function Ii(i){return i===!1||i==null?i:v.isArray(i)?i.map(Ii):String(i)}function pm(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(i);)t[s[1]]=s[2];return t}const mm=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Xs(i,t,e,s,n){if(v.isFunction(s))return s.call(this,t,e);if(n&&(t=e),!!v.isString(t)){if(v.isString(s))return t.indexOf(s)!==-1;if(v.isRegExp(s))return s.test(t)}}function gm(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function bm(i,t){const e=v.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+e,{value:function(n,r,o){return this[s].call(this,t,n,r,o)},configurable:!0})})}class pt{constructor(t){t&&this.set(t)}set(t,e,s){const n=this;function r(h,l,c){const a=Ke(l);if(!a)throw new Error("header name must be a non-empty string");const u=v.findKey(n,a);(!u||n[u]===void 0||c===!0||c===void 0&&n[u]!==!1)&&(n[u||l]=Ii(h))}const o=(h,l)=>v.forEach(h,(c,a)=>r(c,a,l));if(v.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(v.isString(t)&&(t=t.trim())&&!mm(t))o(dm(t),e);else if(v.isHeaders(t))for(const[h,l]of t.entries())r(l,h,s);else t!=null&&r(e,t,s);return this}get(t,e){if(t=Ke(t),t){const s=v.findKey(this,t);if(s){const n=this[s];if(!e)return n;if(e===!0)return pm(n);if(v.isFunction(e))return e.call(this,n,s);if(v.isRegExp(e))return e.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ke(t),t){const s=v.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||Xs(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let n=!1;function r(o){if(o=Ke(o),o){const h=v.findKey(s,o);h&&(!e||Xs(s,s[h],h,e))&&(delete s[h],n=!0)}}return v.isArray(t)?t.forEach(r):r(t),n}clear(t){const e=Object.keys(this);let s=e.length,n=!1;for(;s--;){const r=e[s];(!t||Xs(this,this[r],r,t,!0))&&(delete this[r],n=!0)}return n}normalize(t){const e=this,s={};return v.forEach(this,(n,r)=>{const o=v.findKey(s,r);if(o){e[o]=Ii(n),delete e[r];return}const h=t?gm(r):String(r).trim();h!==r&&delete e[r],e[h]=Ii(n),s[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return v.forEach(this,(s,n)=>{s!=null&&s!==!1&&(e[n]=t&&v.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Yo]=this[Yo]={accessors:{}}).accessors,n=this.prototype;function r(o){const h=Ke(o);s[h]||(bm(n,o),s[h]=!0)}return v.isArray(t)?t.forEach(r):r(t),this}}pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(pt.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(s){this[e]=s}}});v.freezeMethods(pt);function Ys(i,t){const e=this||gi,s=t||e,n=pt.from(s.headers);let r=s.data;return v.forEach(i,function(h){r=h.call(e,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function Hl(i){return!!(i&&i.__CANCEL__)}function Ie(i,t,e){B.call(this,i??"canceled",B.ERR_CANCELED,t,e),this.name="CanceledError"}v.inherits(Ie,B,{__CANCEL__:!0});function Kl(i,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?i(e):t(new B("Request failed with status code "+e.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function vm(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function wm(i,t){i=i||10;const e=new Array(i),s=new Array(i);let n=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),a=s[r];o||(o=c),e[n]=l,s[n]=c;let u=r,f=0;for(;u!==n;)f+=e[u++],u=u%i;if(n=(n+1)%i,n===r&&(r=(r+1)%i),c-o<t)return;const d=a&&c-a;return d?Math.round(f*1e3/d):void 0}}function ym(i,t){let e=0;const s=1e3/t;let n=null;return function(){const o=this===!0,h=Date.now();if(o||h-e>s)return n&&(clearTimeout(n),n=null),e=h,i.apply(null,arguments);n||(n=setTimeout(()=>(n=null,e=Date.now(),i.apply(null,arguments)),s-(h-e)))}}const qi=(i,t,e=3)=>{let s=0;const n=wm(50,250);return ym(r=>{const o=r.loaded,h=r.lengthComputable?r.total:void 0,l=o-s,c=n(l),a=o<=h;s=o;const u={loaded:o,total:h,progress:h?o/h:void 0,bytes:l,rate:c||void 0,estimated:c&&h&&a?(h-o)/c:void 0,event:r,lengthComputable:h!=null};u[t?"download":"upload"]=!0,i(u)},e)},_m=Ot.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let s;function n(r){let o=r;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return s=n(window.location.href),function(o){const h=v.isString(o)?n(o):o;return h.protocol===s.protocol&&h.host===s.host}}():function(){return function(){return!0}}(),Sm=Ot.hasStandardBrowserEnv?{write(i,t,e,s,n,r){const o=[i+"="+encodeURIComponent(t)];v.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),v.isString(s)&&o.push("path="+s),v.isString(n)&&o.push("domain="+n),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cm(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function xm(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function Jl(i,t){return i&&!Cm(t)?xm(i,t):t}const Qo=i=>i instanceof pt?{...i}:i;function xe(i,t){t=t||{};const e={};function s(c,a,u){return v.isPlainObject(c)&&v.isPlainObject(a)?v.merge.call({caseless:u},c,a):v.isPlainObject(a)?v.merge({},a):v.isArray(a)?a.slice():a}function n(c,a,u){if(v.isUndefined(a)){if(!v.isUndefined(c))return s(void 0,c,u)}else return s(c,a,u)}function r(c,a){if(!v.isUndefined(a))return s(void 0,a)}function o(c,a){if(v.isUndefined(a)){if(!v.isUndefined(c))return s(void 0,c)}else return s(void 0,a)}function h(c,a,u){if(u in t)return s(c,a);if(u in i)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:h,headers:(c,a)=>n(Qo(c),Qo(a),!0)};return v.forEach(Object.keys(Object.assign({},i,t)),function(a){const u=l[a]||n,f=u(i[a],t[a],a);v.isUndefined(f)&&u!==h||(e[a]=f)}),e}const Gl=i=>{const t=xe({},i);let{data:e,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:r,headers:o,auth:h}=t;t.headers=o=pt.from(o),t.url=Vl(Jl(t.baseURL,t.url),i.params,i.paramsSerializer),h&&o.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let l;if(v.isFormData(e)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...a]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...a].join("; "))}}if(Ot.hasStandardBrowserEnv&&(s&&v.isFunction(s)&&(s=s(t)),s||s!==!1&&_m(t.url))){const c=n&&r&&Sm.read(r);c&&o.set(n,c)}return t},Mm=typeof XMLHttpRequest<"u",Em=Mm&&function(i){return new Promise(function(e,s){const n=Gl(i);let r=n.data;const o=pt.from(n.headers).normalize();let{responseType:h}=n,l;function c(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let a=new XMLHttpRequest;a.open(n.method.toUpperCase(),n.url,!0),a.timeout=n.timeout;function u(){if(!a)return;const d=pt.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),g={data:!h||h==="text"||h==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:d,config:i,request:a};Kl(function(M){e(M),c()},function(M){s(M),c()},g),a=null}"onloadend"in a?a.onloadend=u:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(u)},a.onabort=function(){a&&(s(new B("Request aborted",B.ECONNABORTED,n,a)),a=null)},a.onerror=function(){s(new B("Network Error",B.ERR_NETWORK,n,a)),a=null},a.ontimeout=function(){let p=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const g=n.transitional||jl;n.timeoutErrorMessage&&(p=n.timeoutErrorMessage),s(new B(p,g.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,n,a)),a=null},r===void 0&&o.setContentType(null),"setRequestHeader"in a&&v.forEach(o.toJSON(),function(p,g){a.setRequestHeader(g,p)}),v.isUndefined(n.withCredentials)||(a.withCredentials=!!n.withCredentials),h&&h!=="json"&&(a.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&a.addEventListener("progress",qi(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",qi(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=d=>{a&&(s(!d||d.type?new Ie(null,i,a):d),a.abort(),a=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const f=vm(n.url);if(f&&Ot.protocols.indexOf(f)===-1){s(new B("Unsupported protocol "+f+":",B.ERR_BAD_REQUEST,i));return}a.send(r||null)})},Lm=(i,t)=>{let e=new AbortController,s;const n=function(l){if(!s){s=!0,o();const c=l instanceof Error?l:this.reason;e.abort(c instanceof B?c:new Ie(c instanceof Error?c.message:c))}};let r=t&&setTimeout(()=>{n(new B(`timeout ${t} of ms exceeded`,B.ETIMEDOUT))},t);const o=()=>{i&&(r&&clearTimeout(r),r=null,i.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",n):l.unsubscribe(n))}),i=null)};i.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",n));const{signal:h}=e;return h.unsubscribe=o,[h,()=>{r&&clearTimeout(r),r=null}]},Om=function*(i,t){let e=i.byteLength;if(!t||e<t){yield i;return}let s=0,n;for(;s<e;)n=s+t,yield i.slice(s,n),s=n},Tm=async function*(i,t,e){for await(const s of i)yield*Om(ArrayBuffer.isView(s)?s:await e(String(s)),t)},th=(i,t,e,s,n)=>{const r=Tm(i,t,n);let o=0;return new ReadableStream({type:"bytes",async pull(h){const{done:l,value:c}=await r.next();if(l){h.close(),s();return}let a=c.byteLength;e&&e(o+=a),h.enqueue(new Uint8Array(c))},cancel(h){return s(h),r.return()}},{highWaterMark:2})},eh=(i,t)=>{const e=i!=null;return s=>setTimeout(()=>t({lengthComputable:e,total:i,loaded:s}))},gs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ql=gs&&typeof ReadableStream=="function",_n=gs&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),zm=ql&&(()=>{let i=!1;const t=new Request(Ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t})(),ih=64*1024,Sn=ql&&!!(()=>{try{return v.isReadableStream(new Response("").body)}catch{}})(),Zi={stream:Sn&&(i=>i.body)};gs&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Zi[t]&&(Zi[t]=v.isFunction(i[t])?e=>e[t]():(e,s)=>{throw new B(`Response type '${t}' is not supported`,B.ERR_NOT_SUPPORT,s)})})})(new Response);const Rm=async i=>{if(i==null)return 0;if(v.isBlob(i))return i.size;if(v.isSpecCompliantForm(i))return(await new Request(i).arrayBuffer()).byteLength;if(v.isArrayBufferView(i))return i.byteLength;if(v.isURLSearchParams(i)&&(i=i+""),v.isString(i))return(await _n(i)).byteLength},km=async(i,t)=>{const e=v.toFiniteNumber(i.getContentLength());return e??Rm(t)},Pm=gs&&(async i=>{let{url:t,method:e,data:s,signal:n,cancelToken:r,timeout:o,onDownloadProgress:h,onUploadProgress:l,responseType:c,headers:a,withCredentials:u="same-origin",fetchOptions:f}=Gl(i);c=c?(c+"").toLowerCase():"text";let[d,p]=n||r||o?Lm([n,r],o):[],g,x;const M=()=>{!g&&setTimeout(()=>{d&&d.unsubscribe()}),g=!0};let k;try{if(l&&zm&&e!=="get"&&e!=="head"&&(k=await km(a,s))!==0){let A=new Request(t,{method:"POST",body:s,duplex:"half"}),U;v.isFormData(s)&&(U=A.headers.get("content-type"))&&a.setContentType(U),A.body&&(s=th(A.body,ih,eh(k,qi(l)),null,_n))}v.isString(u)||(u=u?"cors":"omit"),x=new Request(t,{...f,signal:d,method:e.toUpperCase(),headers:a.normalize().toJSON(),body:s,duplex:"half",withCredentials:u});let T=await fetch(x);const P=Sn&&(c==="stream"||c==="response");if(Sn&&(h||P)){const A={};["status","statusText","headers"].forEach(K=>{A[K]=T[K]});const U=v.toFiniteNumber(T.headers.get("content-length"));T=new Response(th(T.body,ih,h&&eh(U,qi(h,!0)),P&&M,_n),A)}c=c||"text";let V=await Zi[v.findKey(Zi,c)||"text"](T,i);return!P&&M(),p&&p(),await new Promise((A,U)=>{Kl(A,U,{data:V,headers:pt.from(T.headers),status:T.status,statusText:T.statusText,config:i,request:x})})}catch(T){throw M(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new B("Network Error",B.ERR_NETWORK,i,x),{cause:T.cause||T}):B.from(T,T&&T.code,i,x)}}),Cn={http:Zp,xhr:Em,fetch:Pm};v.forEach(Cn,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const sh=i=>`- ${i}`,Nm=i=>v.isFunction(i)||i===null||i===!1,Zl={getAdapter:i=>{i=v.isArray(i)?i:[i];const{length:t}=i;let e,s;const n={};for(let r=0;r<t;r++){e=i[r];let o;if(s=e,!Nm(e)&&(s=Cn[(o=String(e)).toLowerCase()],s===void 0))throw new B(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+r]=s}if(!s){const r=Object.entries(n).map(([h,l])=>`adapter ${h} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(sh).join(`
`):" "+sh(r[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Cn};function Qs(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Ie(null,i)}function nh(i){return Qs(i),i.headers=pt.from(i.headers),i.data=Ys.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Zl.getAdapter(i.adapter||gi.adapter)(i).then(function(s){return Qs(i),s.data=Ys.call(i,i.transformResponse,s),s.headers=pt.from(s.headers),s},function(s){return Hl(s)||(Qs(i),s&&s.response&&(s.response.data=Ys.call(i,i.transformResponse,s.response),s.response.headers=pt.from(s.response.headers))),Promise.reject(s)})}const Xl="1.7.2",cr={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{cr[i]=function(s){return typeof s===i||"a"+(t<1?"n ":" ")+i}});const rh={};cr.transitional=function(t,e,s){function n(r,o){return"[Axios v"+Xl+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,h)=>{if(t===!1)throw new B(n(o," has been removed"+(e?" in "+e:"")),B.ERR_DEPRECATED);return e&&!rh[o]&&(rh[o]=!0,console.warn(n(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,o,h):!0}};function Am(i,t,e){if(typeof i!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let n=s.length;for(;n-- >0;){const r=s[n],o=t[r];if(o){const h=i[r],l=h===void 0||o(h,r,i);if(l!==!0)throw new B("option "+r+" must be "+l,B.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new B("Unknown option "+r,B.ERR_BAD_OPTION)}}const xn={assertOptions:Am,validators:cr},Xt=xn.validators;class ve{constructor(t){this.defaults=t,this.interceptors={request:new Xo,response:new Xo}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const r=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=xe(this.defaults,e);const{transitional:s,paramsSerializer:n,headers:r}=e;s!==void 0&&xn.assertOptions(s,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),n!=null&&(v.isFunction(n)?e.paramsSerializer={serialize:n}:xn.assertOptions(n,{encode:Xt.function,serialize:Xt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&v.merge(r.common,r[e.method]);r&&v.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),e.headers=pt.concat(o,r);const h=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(l=l&&g.synchronous,h.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let a,u=0,f;if(!l){const p=[nh.bind(this),void 0];for(p.unshift.apply(p,h),p.push.apply(p,c),f=p.length,a=Promise.resolve(e);u<f;)a=a.then(p[u++],p[u++]);return a}f=h.length;let d=e;for(u=0;u<f;){const p=h[u++],g=h[u++];try{d=p(d)}catch(x){g.call(this,x);break}}try{a=nh.call(this,d)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)a=a.then(c[u++],c[u++]);return a}getUri(t){t=xe(this.defaults,t);const e=Jl(t.baseURL,t.url);return Vl(e,t.params,t.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(t){ve.prototype[t]=function(e,s){return this.request(xe(s||{},{method:t,url:e,data:(s||{}).data}))}});v.forEach(["post","put","patch"],function(t){function e(s){return function(r,o,h){return this.request(xe(h||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}ve.prototype[t]=e(),ve.prototype[t+"Form"]=e(!0)});class ar{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const s=this;this.promise.then(n=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](n);s._listeners=null}),this.promise.then=n=>{let r;const o=new Promise(h=>{s.subscribe(h),r=h}).then(n);return o.cancel=function(){s.unsubscribe(r)},o},t(function(r,o,h){s.reason||(s.reason=new Ie(r,o,h),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}static source(){let t;return{token:new ar(function(n){t=n}),cancel:t}}}function Dm(i){return function(e){return i.apply(null,e)}}function Fm(i){return v.isObject(i)&&i.isAxiosError===!0}const Mn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mn).forEach(([i,t])=>{Mn[t]=i});function Yl(i){const t=new ve(i),e=zl(ve.prototype.request,t);return v.extend(e,ve.prototype,t,{allOwnKeys:!0}),v.extend(e,t,null,{allOwnKeys:!0}),e.create=function(n){return Yl(xe(i,n))},e}const it=Yl(gi);it.Axios=ve;it.CanceledError=Ie;it.CancelToken=ar;it.isCancel=Hl;it.VERSION=Xl;it.toFormData=ms;it.AxiosError=B;it.Cancel=it.CanceledError;it.all=function(t){return Promise.all(t)};it.spread=Dm;it.isAxiosError=Fm;it.mergeConfig=xe;it.AxiosHeaders=pt;it.formToJSON=i=>Ul(v.isHTMLForm(i)?new FormData(i):i);it.getAdapter=Zl.getAdapter;it.HttpStatusCode=Mn;it.default=it;const $m=(i,t)=>{const e=i.__vccOpts||i;for(const[s,n]of t)e[s]=n;return e},Bm={data(){return{cdata:null,ichimokuCloudLine:{tenkanLine:null,kijunLine:null,ssaLine:null,chikouLine:null,ssaLine:null,ssbLine:null},intervalId:null,ohlcData:null,fillData:null,ssaData:null,ssbData:null}},mounted(){const i=document.getElementById("tvchart"),t={width:i.offsetWidth,height:i.offsetHeight-"100",timeScale:{timeVisible:!0,secondsVisible:!1},layout:{textColor:"white",background:{type:"solid",color:"rgba(255, 255, 255, 0)"}},grid:{vertLines:{color:"rgba(255, 255, 255, 0.1)",style:2},horzLines:{color:"rgba(255, 255, 255, 0)",style:2}}};this.chart=Ko(i,t),this.lineSeries=this.chart.addCandlestickSeries(),this.tenkanSen=this.chart.addLineSeries({lastValueVisible:!0,color:"rgb(255, 0, 0)",priceLineVisible:!0}),this.kijunSen=this.chart.addLineSeries({lastValueVisible:!0,color:"rgb(0, 0, 204)",priceLineVisible:!0}),this.chikouSpan=this.chart.addLineSeries({lastValueVisible:!0,color:"rgb(102, 204, 0)",priceLineVisible:!0}),this.senkouA=this.chart.addLineSeries({lastValueVisible:!0,color:"rgb(153, 255, 153)",priceLineVisible:!0}),this.senkouB=this.chart.addLineSeries({lastValueVisible:!0,color:"rgb(255, 153, 153)",priceLineVisible:!0}),this.seriesB=this.chart.addLineSeries({lastValueVisible:!0,color:"red",lineWidth:3}),this.fillSeries=this.chart.addCandlestickSeries({upColor:"rgba(255, 100, 100, 0.2)",downColor:"rgba(100, 255, 100, 0.2)",wickVisible:!1,borderVisible:!1}),this.chart.applyOptions({crosshair:{mode:Ki.Normal}}),this.chart.subscribeCrosshairMove(e=>{e.time&&(this.ohlcData=e.seriesData.get(this.lineSeries))}),this.fetchData(),this.intervalId=setInterval(()=>this.fetchData(),6e4)},beforeDestroy(){clearInterval(this.intervalId)},methods:{updateChart(){this.lineSeries.setData(this.cdata),this.tenkanSen.setData(this.ichimokuCloudLine.tenkanLine),this.kijunSen.setData(this.ichimokuCloudLine.kijunLine),this.chikouSpan.setData(this.ichimokuCloudLine.chikouLine),this.senkouA.setData(this.ichimokuCloudLine.ssaLine),this.senkouB.setData(this.ichimokuCloudLine.ssbLine),this.seriesB.setData(this.ssbData),this.fillSeries.setData(this.fillData)},fetchData(){it.get("https://api.kraken.com/0/public/OHLC?pair=BTCUSD&interval=5").then(i=>{this.processData(i.data.result.XXBTZUSD),this.updateChart()})},processData(i){const t={short:9,medium:26,long:52,close:26};this.cdata=i.map(d=>({time:d[0],open:parseFloat(d[1]),high:parseFloat(d[2]),low:parseFloat(d[3]),close:parseFloat(d[4])})),this.ichimokuCloudLine.tenkanLine=i.map(d=>({time:d[0]})),this.ichimokuCloudLine.kijunLine=i.map(d=>({time:d[0]})),this.ichimokuCloudLine.ssaLine=i.map(d=>({time:d[0]})),this.ichimokuCloudLine.ssbLine=i.map(d=>({time:d[0]}));let e=this.ichimokuCloudLine.ssaLine[1].time-this.ichimokuCloudLine.ssaLine[0].time,s=this.ichimokuCloudLine.ssaLine[this.ichimokuCloudLine.ssaLine.length-1].time;for(let d=1;d<=26;d++)this.ichimokuCloudLine.ssaLine.push({time:s+d*e}),this.ichimokuCloudLine.ssbLine.push({time:s+d*e});this.ichimokuCloudLine.chikouLine=i.map(d=>({time:d[0]}));const n=this.cdata.map(d=>d.high),r=this.cdata.map(d=>d.low),o=this.cdata.map(d=>d.close),{tenkan:h,kijun:l,ssa:c,ssb:a,leadingSpan:u,laggingSpan:f}=cp(n,r,o,t);for(let d=0;d<this.ichimokuCloudLine.tenkanLine.length;d++)for(let p=0;p<h.length;p++)this.ichimokuCloudLine.tenkanLine[p].value=h[p];for(let d=0;d<this.ichimokuCloudLine.kijunLine.length;d++)for(let p=0;p<l.length;p++)this.ichimokuCloudLine.kijunLine[p].value=l[p];for(let d=0;d<this.ichimokuCloudLine.chikouLine.length;d++)for(let p=0;p<f.length;p++)this.ichimokuCloudLine.chikouLine[p].value=f[p];this.ichimokuCloudLine.chikouLine.splice(this.ichimokuCloudLine.chikouLine.length-26,26);for(let d=0;d<this.ichimokuCloudLine.ssaLine.length;d++)for(let p=0;p<c.length;p++)this.ichimokuCloudLine.ssaLine[p].value=c[p];for(let d=0;d<this.ichimokuCloudLine.ssbLine.length;d++)for(let p=0;p<a.length;p++)this.ichimokuCloudLine.ssbLine[p].value=a[p];this.ichimokuCloudLine.tenkanLine.splice(0,9),this.ichimokuCloudLine.kijunLine.splice(0,26),this.ssaData=this.ichimokuCloudLine.ssaLine.map(d=>({time:d.time,value:d.value})),this.ssbData=this.ichimokuCloudLine.ssbLine.map(d=>({time:d.time,value:d.value})),this.fillData=this.ichimokuCloudLine.ssaLine.map((d,p)=>{var g,x;return{time:d.time,open:d.value,high:d.value,close:((g=this.ichimokuCloudLine.ssbLine[p])==null?void 0:g.value)||d.value,low:((x=this.ichimokuCloudLine.ssbLine[p])==null?void 0:x.value)||d.value}})},charting(){const i=document.getElementById("tvchart"),t={width:i.offsetWidth,height:i.offsetHeight-"100",timeScale:{timeVisible:!0,secondsVisible:!1},layout:{textColor:"white",background:{type:"solid",color:"rgba(255, 255, 255, 0)"}},grid:{vertLines:{color:"rgba(255, 255, 255, 0.1)",style:2},horzLines:{color:"rgba(255, 255, 255, 0)",style:2}}},e=Ko(i,t),s=e.addCandlestickSeries(),n=e.addLineSeries();n.setData(this.ichimokuCloudLine.chikouLine);const r=e.addLineSeries();r.setData(this.ichimokuCloudLine.tenkanLine);const o=e.addLineSeries();o.setData(this.ichimokuCloudLine.kijunLine);const h=e.addLineSeries();h.setData(this.ichimokuCloudLine.ssaLine);const l=e.addLineSeries();l.setData(this.ichimokuCloudLine.ssbLine),s.setData(this.cdata);const c=e.addLineSeries({color:"red",lineWidth:3}),a=e.addCandlestickSeries({upColor:"rgba(255, 100, 100, 0.2)",downColor:"rgba(100, 255, 100, 0.2)",wickVisible:!1,borderVisible:!1});this.ssaData=this.ichimokuCloudLine.ssaLine.map(f=>({time:f.time,value:f.value})),this.ssbData=this.ichimokuCloudLine.ssbLine.map(f=>({time:f.time,value:f.value}));const u=this.ichimokuCloudLine.ssaLine.map((f,d)=>{var p,g;return{time:f.time,open:f.value,high:f.value,close:((p=this.ichimokuCloudLine.ssbLine[d])==null?void 0:p.value)||f.value,low:((g=this.ichimokuCloudLine.ssbLine[d])==null?void 0:g.value)||f.value}});c.setData(this.ssbData),a.setData(u),r.applyOptions({color:"rgb(255, 0, 0)",priceLineVisible:!0,lastValueVisible:!0}),o.applyOptions({color:"rgb(0, 0, 204)",priceLineVisible:!0,lastValueVisible:!0}),n.applyOptions({color:"rgb(102, 204, 0)",priceLineVisible:!0,lastValueVisible:!0}),h.applyOptions({color:"rgb(153, 255, 153)",priceLineVisible:!0,lastValueVisible:!0}),l.applyOptions({color:"rgb(255, 153, 153)",priceLineVisible:!0,lastValueVisible:!0}),e.applyOptions({crosshair:{mode:Ki.Normal}}),e.subscribeCrosshairMove(f=>{f.time&&(this.ohlcData=f.seriesData.get(s))})}}},Im={class:"w-screen h-screen flex justify-center items-center bg-[url('https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/background.jpg')] bg-cover bg-center min-w-0 max-w-[1440px] max-h-[900]"},Wm={class:"relative w-[1440px] overflow-hidden h-full flex flex-col items-center justify-center bg-[url('https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/background.jpg')] bg-cover bg-center min-w-0"},Vm=te("div",{class:"w-full h-full absolute bg-black opacity-70"},null,-1),jm={class:"w-full h-[40px] opacity-100 absolute top-0 flex"},Um={class:"text-white"},Hm=te("div",{id:"tvchart",class:"flex w-full absolute z-0 justify-center items-center h-full min-w-0"},null,-1);function Km(i,t,e,s,n,r){return Ls(),Os("main",null,[te("section",Im,[te("div",Wm,[Vm,te("div",jm,[(Ls(!0),Os(Dt,null,ua(n.ohlcData,o=>(Ls(),Os("div",{class:"w-[70px] h-full flex items-center pl-2",key:o.id},[te("span",Um,mh(o),1)]))),128))]),Hm])])])}const Jm=$m(Bm,[["render",Km]]);Cu(Jm).mount("#app");
